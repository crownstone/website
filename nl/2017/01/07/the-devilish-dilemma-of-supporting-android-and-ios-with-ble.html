

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    

    <meta name="description" content="Android and iOS both are able to address BLE products, but the implementation for smart home is not obvious at all.">

    

    

    <meta name="keywords" content="bluetooth low energy, android, ios, home automation, apple homekit, smart home, smart homes, domotica, smart plug, home automation, power plug, gadgets, apple, open-source, raspberry pi, smart outlet, smart switch, arduino, alexa, amazon echo, nest, toon, philips hue, homewizard, fibaro, klik-aan-klik-uit, energy savings, comfort">
    
    <meta name="author" content="Crownstone B.V.">
    <link rel="icon" type="image/x-icon" href="https://crownstone.rocks/images/favicon.ico?">
    <link rel="apple-touch-icon" href="https://crownstone.rocks/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://crownstone.rocks/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://crownstone.rocks/images/apple-touch-icon-114x114.png">

    <meta name="theme-color" content="#ff8400">
    <meta name="msapplication-navbutton-color" content="#ff8400">
    <meta name="apple-mobile-web-app-status-bar-style" content="#ff8400">

    <meta http-equiv="Content-Language" content="nl">
<link rel="alternate" hreflang="en" href="https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble"/>
<link rel="alternate" hreflang="nl" href="https://crownstone.rocks/nl/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble"/>


    <meta name="google-site-verification" content="qsSndPwnJ3H5zpj9z6ZvY-r4WnvSpMBe5QchxVbIWvw" />

    
    <title>Crownstone | The devilish dilemma of supporting Android and iOS with BLE</title>
	<!-- Twitter social card -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:title" content="The devilish dilemma of supporting Android and iOS with BLE">
	<meta name="twitter:description" content="Android and iOS both are able to address BLE products, but the implementation for smart home is not obvious at all.">
	<meta name="twitter:image" content="https://crownstone.rocks/images/crownstone-social-card.jpg">
	<meta name="twitter:image:width" content="240">
	<meta name="twitter:image:height" content="240">
    <!-- Open graph social card -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="The devilish dilemma of supporting Android and iOS with BLE">
    <meta property="og:url" content="https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble">
    <meta property="og:image" content="https://crownstone.rocks/images/crownstone-social-card.jpg">
    <meta property="og:image:secure_url" content="https://crownstone.rocks/images/crownstone-social-card.jpg">
    <meta property="og:description" content="Android and iOS both are able to address BLE products, but the implementation for smart home is not obvious at all.">
    <meta property="og:site_name" content="Crownstone">
    <!-- Bootstrap as framework -->
    <link href="/nl/assets/themes/flat/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/nl/assets/themes/flat/css/crownstone-global.css" rel="stylesheet">
    <link href="/nl/assets/themes/flat/css/elusive-icons.min.css" rel="stylesheet">
    <link href="/nl/assets/themes/flat/css/syntax.css" rel="stylesheet">
    <!-- 
    <link href="/nl/assets/themes/flat/css/elusive-webfont.css" rel="stylesheet"> 
    -->
    <!--[if lt IE 9]>
        <script src="/assets/themes/flat/resources/respond/Respond.min.js"></script>
    <![endif]-->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--[if gt IE 9]>
    <link href="./bootstrap/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> 
    <![endif]-->
    <link href="/nl/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/nl/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
    

    
    
    
</head>

<body>

   <nav class="navbar navbar-light navbar-expand-lg">
      <div class="container navContainer">
         <img class="navbar-brand topLogo xs img-responsive" src="/images/apple-touch-icon-114x114.png" alt="">
         <div class="crownstoneText d-block d-lg-none">Crownstone</div>

         <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarContents" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
         </button>

         <div class="collapse navbar-collapse" id="navbarContents">
            <ul class="navbar-nav">
                                                                                                             
				<li class="nav-item inactive "><a href="/nl/" class="nav-link">Welkom</a></li>
                       

               



<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Smart Home
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink" style="z-index: 1001; padding: 0;">
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/product/" style="background-color: transparent;">Product</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/scenarios/" style="background-color: transparent;">Scenario's</a>
          
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/works-with/" style="background-color: transparent;">Werkt met</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/installation/" style="background-color: transparent;">Installatie</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
    </div>
</li>


               



<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        
        Zakelijk
        
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink" style="z-index: 1001; padding: 0;">
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/business/oem/" style="background-color: transparent;">OEM</a>
          
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/business/residential-real-estate/" style="background-color: transparent;">Real Estate</a>
          
      
     
    
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/business/indoor-positioning/" style="background-color: transparent;">Indoor Positioning</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/business/asset-tracking" style="background-color: transparent;">Asset Tracking</a>
          
      
     
    
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/business/energy-monitoring" style="background-color: transparent;">Energy Monitoring</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
    </div>
</li>


               



<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        
        Over ons
        
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink" style="z-index: 1001; padding: 0;">
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/blog/" style="background-color: transparent;">Blog</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/about-us/" style="background-color: transparent;">Crownstone</a>
          
      
     
    
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/jobs/" style="background-color: transparent;">Banen</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/internships/" style="background-color: transparent;">Internships</a>
          
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/team/" style="background-color: transparent;">Team</a>
          
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
    
     
      
     
    
     
    
     
      
     
    
     
      
     
    
     
      
       
          <a class="dropdown-item inactive " href="/nl/investors/" style="background-color: transparent;">Investors</a>
          
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
     
      
     
    
    </div>
</li>


               
				<li class="nav-item inactive "><a href="/nl/where-to-buy/" class="nav-link">Winkel</a></li>
				<li class="nav-item inactive "><a href="/nl/support/" class="nav-link">Support</a></li>

            </ul>

            <ul class="navbar-nav mr-right">
               
<li class="nav-item">
	
	
	<!-- note the space before nav-url, without it polyglot will relativize it: https://github.com/untra/polyglot -->
	<a  href=" https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble" class="nav-link lang-menu" style="border-bottom: 2px solid white">en</a>
</li>

<li class="nav-item">
	
	
	<!-- note the space before nav-url, without it polyglot will relativize it: https://github.com/untra/polyglot -->
	<a style="font-weight: bold;" href=" https://crownstone.rocks/nl/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble" class="nav-link lang-menu" style="border-bottom: 2px solid white">nl</a>
</li>

               
          	<li class="nav-item"><a href="/nl/search/" class="nav-link active"><i class="el el-search"></i></a></li>

            </ul>
         </div>
      </div>
   </nav>










<div class="container-fluid post-container">
	<div class="container">
		<div class="row post-full">
			<div class="col-md-12">
				
				<div class="date d-none d-lg-block">
					<strong class="date_month">Jan</strong>
					<strong class="date_day">7</strong>
					<strong class="date_year">2017</strong>
				</div>
				
				
				<div class="post">
					<div class="content">
						
<h1 id="header-apple-homekit">Apple Homekit</h1>

<p><a href="http://www.apple.com/ios/home/">Apple Homekit</a> is Apple’s attempt to define a solution for smart devices at home. From a security perspective developers have to solve one important problem. Normally a smartphone add-on such as a Fitbit, Apple Watch, Jawbone, Sony Watch, Estimote, Stick-n-Find, etc. is owned by the person owning the smartphone. There is no need to share your Apple Watch with friends or family. This is entirely different with smart home products. The owner of a home needs to be able to give access to household members and visitors!</p>

<h2 id="header-share-the-keys-to-connect-to-trusted-devices">Share the keys to connect to trusted devices</h2>

<p>It is possible to securely connect to a Bluetooth Low Energy (BLE) device over a long time period by storing encryption keys. The smartphone considers such devices with which it has bonded as so-called <strong>trusted devices</strong>. To be able to use the trusted device of someone else it is important to get access to the key of that person. Apple does not give the developers access to these keys. The user can indirectly give another user access to his or her keys by <a href="http://www.imore.com/how-share-homekit-access-other-people-guests-or-housemates">inviting someone via their iCloud address</a>.</p>

<p>The problem with this approach is the following. Suppose, you have an iOS device, but someone in your extended family, a guest, or your butler, or cleaning lady has an Android device. For the developer of this BLE device, there is no way to extract the keys, transfer them to a person owning an Android device, and have that person able to switch your lighs, etc. You do not own your own keys in the sense that you can access and share them in every context.</p>

<h2 id="header-notifications">Notifications</h2>

<p>Not being able to cater to Android users is a big deal. However, there are other decisions that are made by Apple which corner the user in ways people do not need to be cornered. One of the issues is that “notifications” from HomeKit-compatible products are disregarded by iOS <a href="http://time.com/4480681/apple-home-homekit-notifications/">depending on the device type</a>. It is for example possible to be notified by smart locks and security systems, but not by a door or window sensor.</p>

<p>Moreover, a message from a device has to travel across the entire internet before ending up at another device in your home. The main feature of the Crownstone products is their presence sensing capability. The Apple design would enforce that after the detection of your presence in the living room, that information needs to go all the way to Cupertino and back to be able to switch on your lights. Not only does this introduce unacceptable latencies, but it introduces a dependency on the internet that is unnecessary. A good engineer solves things locally if they can be solved locally.</p>

<p>The Crownstone user interaction paradigm introduces artificial intelligence in the home. Your home is gonna react to your presence. The idea to have the user use the smartphone as a fancy remote control device seems quite limited.</p>

<h2 id="header-bluetooth-specification">Bluetooth specification</h2>

<p>The alternative to trusted devices is to use untrusted devices and introduce encryption at the application layer. It is important not to roll your own encryption. For example AES-128 or AES-256 is a common encryption method. Seagate has a nice technology paper about the <a href="http://www.axantum.com/AxCrypt/etc/seagate128vs256.pdf">pros and cons</a> of AES-128. Note how important it is to think about where and how to store these keys! Most systems are not hacked because of the cryptographic mechanism itself, but the management and deployment of the keys. Additional security measures that can be taken are things like (1) broadcasting very weakly when in factory settings, so only a person in close proximity can set up a new device, (2) making sure that the keys are accessible by nothing else except for the right smartphone apps.</p>

<p>To be able to connect to untrusted devices the Bluetooth specification is a little bit vague with respect to caching. On Android and iOS the BLE services are discovered through calling a <code class="language-plaintext highlighter-rouge">.discoverServices()</code> method. This then subsequently queries the BLE device for services. These services are represented by attribute handles. To be able to quickly connect to a BLE device without having to discover all services on each connection attempt, it is possible to use attribute caching. The cache contains the handles and the smartphone can directly send a message to a particular handle, for example to turn on the lights.</p>

<p>The specification makes a distinction between trusted and untrusted devices with respect to caching. For an untrusted device is should not be expected that the cache is preserved between subsequent connection requests. At the blog of <a href="https://punchthrough.com/blog/posts/attribute-caching-in-ble-advantages-and-pitfalls">PunchThrough</a> you can see the developers struggle with this behavior when they brought in a new device with new services. They didn’t encounter the whole story though due to the fact that they only worked with trusted (Bean and Bean+) devices.</p>

<p>The bluetooth specification says this (Vol 3, Part G, 2.5.2 - Attribute Caching):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Note: Clients **without** a trusted relationship must perform service discovery on each connection if the server supports the Service Changed characteristic.
</code></pre></div></div>

<p>In other words, a smartphone should clear the cache after a disconnect with an untrusted device. This is correctly implemented by Samsung, but incorrectly by Sony, HTC, One Plus One, and Apple (see e.g. this <a href="https://code.google.com/p/android/issues/detail?id=81130">issue</a>).</p>

<p>To be able to very quickly switch on a light when someone enters a room, latency is one of the most important aspects of the entire system. You don’t want to walk into a dark room! Due to Occam’s razor we have always been testing our system on phones where the above is implemented incorrectly! That is, on smartphones that do cache handles, even if they actually should perform a discovery process of around 1.5 seconds.</p>

<p>Regretfully there is no way to force a device to use a cache if it performs a physical discovery process. The other way around wouldn’t be a problem (you can always force a discovery process by cleaning the cache using <a href="http://stackoverflow.com/questions/22596951/how-to-programmatically-force-bluetooth-low-energy-service-discovery-on-android">reflection</a>).</p>

<h2 id="header-key-management">Key management</h2>

<p>The <a href="https://jmaxxz.com/blog/?p=550">August locks</a> use keys on the lock itself as well as on the server. AES is symmetric and August implemented the <a href="https://github.com/jmaxxz/keymaker/wiki/BLE-Session">just works</a> key exchange mechanism from Bluetooth. This means that a passive listener during setup can extract these keys. Note that there are two ways to cope with this:</p>

<ol>
  <li>
    <p>The user should be the <strong>owner</strong> of the keys. This means the user should be able to extract the keys. The keys can be on the air, the keys can be on the phone, the keys can be in the firmware. This also means that we should not protect the keys against the user, but only against third parties. If the keys are on the air, it is important that the signal strength is reduced: someone extracting the keys needs to be next to the person setting up the device. If the keys are in an app database, it is important that the containerization on Android and iOS works properly so another app cannot access the data.</p>
  </li>
  <li>
    <p>The user should <strong>not</strong> be the <strong>owner</strong> of the keys. Then we can start talking about “leaking keys to the user”. In this paradigm it makes sense to use asymmetric keys: public and private keys. The servers can distribute public keys to the devices that are able to encrypt stuff. The server has the private keys and nobody else. Everything of value needs to go through the servers. Even if someone extracts the firmware from the device he or she will only get the public key. This works really nice for something like a Fitbit or Jawbone device that only streams data to you. If you want the device to do something, it will also need to decrypt an encrypted message to it and have some kind of key (a symmetric or private one) available to it.</p>
  </li>
</ol>

<p>The lesson from this: there are many ways a reverse engineer - in the end - will be able to get access to the keys. The key is transmitted from a server to a phone via https, then something is used (yes, preferably <a href="https://en.wikipedia.org/wiki/Elliptic_curve_Diffie–Hellman">Elliptic curve Diffie-Hellman</a>) to send it wirelessly to the device, and finally it sits in FLASH at that device. The most conservative assumption is to assume that the user will be able to get hold of the keys.</p>

<p>Then what happens if the user is the owner of the keys?</p>

<ul>
  <li>In the case the user is not just the admin, but a guest or visitor, it means that you have situations in which you want to <strong>undo</strong> your decision to give someone access to your home. If you have normal keys (the ones that fit in a physical lock), you will have to make new keys if your ex is a stalker. You can never be sure if that person made some spare copies! On every modification in which access gets restricted you will have to deploy <strong>new keys</strong> to all the devices concerned.</li>
</ul>

<p>Note that a secure infrastructure will have all kind of corner cases that need to be tackled. What happens if some of the devices in a home have new keys, but not all of them yet? What happens if a firmware update gets aborted? How is the state of which device has which key reflected online?</p>


					</div>
					
					<div class="d-lg-none">
						<div class="text-date">
							<p>07 January 2017</p> 
						</div>
					</div>

					
		
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">

					
					<div class="tag_box inline">
						
						


	
		
			<a class="tag" href="/tags.html#bluetooth low energy">bluetooth low energy</a>
		
			<a class="tag" href="/tags.html#android">android</a>
		
			<a class="tag" href="/tags.html#ios">ios</a>
		
			<a class="tag" href="/tags.html#home automation">home automation</a>
		
			<a class="tag" href="/tags.html#apple homekit">apple homekit</a>
		
	




					</div>
					
			</div>
		</div>
	</div>
</div>

<div class="container-fluid post-footer">
	<div class="container">
		<div class="row">
			<div class="col-md-6">
					<ul class="pagination">
						
						<li class="page-item prev"><a class="page-link" href="/nl/2017/01/06/deliveries-in-full-swing" title="Deliveries in full swing">&larr; Previous</a></li>
						
						<li class="page-item"><a class="page-link" href="/nl/blog">Archive</a></li>
						
						<li class="page-item next"><a class="page-link" href="/nl/2017/02/21/do-you-want-fancy-light-bulbs-think-again" title="Do you want fancy light bulbs? Think again!">Next &rarr;</a></li>
						
					</ul>
			</div>
			<div class="col-md-6">

					<div class="social-button-footer">
						<p>
						<a class="btn btn-social-icon btn-twitter" href="http://twitter.com/intent/tweet?url=https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble&text=The devilish dilemma of supporting Android and iOS with BLE"><i class="el el-twitter"></i></a>
						<a class="btn btn-social-icon btn-facebook" href="http://facebook.com/sharer.php?u=https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble"><i class="el el-facebook"></i></a>
						<a class="btn btn-social-icon btn-googleplus" href="https://plus.google.com/share?url=https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble"><i class="el el-googleplus"></i></a>
						<a class="btn btn-social-icon btn-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble"><i class="el el-linkedin"></i></a>
						<a class="btn btn-social-icon btn-reddit" href="http://reddit.com/submit?url=https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble&title=The devilish dilemma of supporting Android and iOS with BLE"><i class="el el-reddit"></i></a>
						<a class="btn btn-social-icon btn-hackernews" href="https://news.ycombinator.com/submitlink?u=https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble&t=The devilish dilemma of supporting Android and iOS with BLE"><strong>Y</strong></a>
						</p>
					</div>

			</div>
		</div>

		<div class="row">
			<div class="col-md-12">
					


  <div id="disqus_thread">
	<div class="disqus_block">
		<p>
			<a href="#" onclick="disqus();return false;"><i class="el el-group"></i> Show Comments</a>
		</p>
		<p>
			(not shown automatically to support your privacy)
		</p>
	</div>
</div>

<script type="text/javascript">
	var disqus_shortname = 'crownstone'; 
	var disqus_loaded = false;
	// load disqus comments only on demand
	function disqus() {

	  if (!disqus_loaded)  {
		var e = document.createElement("script");
		e.type = "text/javascript";
		e.async = true;
		e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
		(document.getElementsByTagName("head")[0] ||
		 document.getElementsByTagName("body")[0])
		.appendChild(e);
	  }
	}
</script>





				</div>
			</div>
		</div>
	</div>
</div>






<div class="container-fluid gray-bg">
    <div class="row justify-content-center">
        <div class="col-xl-6">
            <p class="newsletter-text">
                
                Hoor als eerste over de nieuwste functies van Crownstone! (Nieuwsbrief is in het Engels)
                
            </p>
            <div class="newsletter bottom">
            	<div class="wrapper">
            		<form action="//rocks.us10.list-manage.com/subscribe/post?u=d03baf337210e326a61dc14d5&id=a23d3e9ded" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank">
            			<label for="Email" class="newsletter__label hidden-label">Sign up to our mailing list</label>
            			<div class="input-group">
            			    
                            <input type="email" value="" placeholder="Nieuwe dingen om te leren en te lezen!" name="EMAIL" id="Email" class="input-group-field newsletter__input" autocorrect="off" autocapitalize="off">
                            
            				<span class="input-group-btn">
            					<button type="submit" class="btn newsletter__submit" name="subscribe" id="Subscribe">
            					
            					<span class="newsletter__submit-text--large">Ik doe mee!</span>
            					
            					<span class="newsletter__submit-text--small">→</span>
            					</button>
            				</span>
            			</div>
            		</form>
            	</div>
            </div>
        </div>
    </div>
</div>


<div class="footer">
    <br />
    <div class="container">
        <div class="row">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <div class="row">
                    <div class="col-sm-4 text-center">
                        <p style="text-align: center; font-family: Lato, sans-serif; font-size: 1rem; font-style: italic; font-weight: bold; color: white; width: 100%; padding: 1.2rem 0; margin: 0;">
                            CUSTOMER
                        </p>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled">
                                
      	    <li><a href="/nl/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Welkom</a></li>
      	    <li><a href="/nl/product/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Product</a></li>
      	    <li><a href="/nl/scenarios/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Scenario's</a></li>
      	    <li><a href="/nl/works-with/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Werkt met</a></li>
      	    <li><a href="/nl/blog/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Blog</a></li>
      	    <li><a href="/nl/installation/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Installatie</a></li>
      	    <li><a href="/nl/jobs/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Banen</a></li>
      	    <li><a href="/nl/team/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Team</a></li>
      	    <li><a href="/nl/where-to-buy/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Winkel</a></li>
                                
                            </ul>
                        </div>

                        <p style="text-align: center; font-family: Lato, sans-serif; font-size: 1rem; font-style: italic; font-weight: bold; color: white; width: 100%; padding: 1.2rem 0; margin: 0;">
                            ABOUT US
                        </p>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled">
                                
      	    <li><a href="/nl/about-us/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Crownstone</a></li>
      	    <li><a href="/nl/internships/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Internships</a></li>
      	    <li><a href="/nl/investors/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Investors</a></li>
                                
                            </ul>
                        </div>
                    </div>

                    <div class="col-sm-4 text-center">
                        <p style="text-align: center; font-family: Lato, sans-serif; font-size: 1rem; font-style: italic; font-weight: bold; color: white; width: 100%; padding: 1.2rem 0; margin: 0;">
                            B2B
                        </p>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled">
                                
      	    <li><a href="/nl/business/oem/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">OEM</a></li>
      	    <li><a href="/nl/business/residential-real-estate/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Real Estate Developers</a></li>
      	    <li><a href="/nl/business/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Use Cases</a></li>
      	    <li><a href="/nl/business/developers/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Developers</a></li>
      	    <li><a href="/nl/business/data/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Internet of Things</a></li>
      	    <li><a href="/nl/infrastructure/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Infrastructure</a></li>
                                
                            </ul>
                        </div>
                        <p style="text-align: center; font-family: Lato, sans-serif; font-size: 1rem; font-style: italic; font-weight: bold; color: white; width: 100%; padding: 1.2rem 0; margin: 0;">
                            NEWS
                        </p>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled">
                                
      	    <li><a href="/nl/email-updates/" class='footer-text-element' style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">Fun Newsletter!</a></li>
                                
                            </ul>
                        </div>
                    </div>

                    <div class="col-sm-4 text-center">
                        <p style="text-align: center; font-family: Lato, sans-serif; font-size: 1rem; font-style: italic; font-weight: bold; color: white; width: 100%; padding: 1.2rem 0; margin: 0;">
                            ORDER
                        </p>
                        <div style="display:inline-block;" >
                            <ul class="list-unstyled" style="text-align: left; margin-bottom:0 !important;">
                                <a href="https://shop.crownstone.rocks?launch=nl&ref=http://crownstone.rocks/nl/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble" class="footer-text-element" style="text-align: left !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">
                                    <i class="el el-shopping-cart mr-2"></i>
                                    
                                    Webwinkel
                                    
                                </a>
                            </ul>

                            <ul class="list-unstyled" style="text-align: left">
                                <a href="https://subscribe.crownstone.rocks/welcome?launch=nl&ref=http://crownstone.rocks/nl/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble&loc=footer" class="footer-text-element" style="text-align: left !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">
                                    <i class="el el-person mr-2"></i>
                                    
                                    Abonnement
                                    
                                </a>
                            </ul>
                        </div>

                        <p style="text-align: center; font-family: Lato, sans-serif; font-size: 1rem; font-style: italic; font-weight: bold; color: white; width: 100%; padding: 1.2rem 0; margin: 0;">
                            CONTACT
                        </p>
                        <div style="display:inline-block;">
                            <ul class="list-unstyled" style="text-align: left">
<!--                                <li>-->
<!--                                    <script type="text/javascript">/*<![CDATA[*/var a=new Array(".rocks", "stone", "crown", "@", "sk", "a");document.write("<a href='mailto:");for(i=a.length-1;i>=0;i&#45;&#45;){document.write(a[i])}document.write("?subject=Get in contact' class='footer-text-element' style=\"text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none\"><i class='el el-envelope footer'></i>Email us!</a>");/*]]>*/</script>-->
<!--                                    <noscript><i class="el el-envelope footer"></i>Email team@...</noscript>-->
<!--                                </li>-->
                                <li>
                                    <a href="https://crownstone.rocks/nl/contact" class="footer-text-element" style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">
                                        <i class="el el-group footer"></i>Contact us
                                    </a>
                                </li>

                                <li>
                                    <a href="https://crownstone.rocks/nl/privacy-policy" class="footer-text-element" style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">
                                        <i class="el el-ok footer"></i>Privacy
                                    </a>
                                </li>
                                <li>
                                    <a href="https://crownstone.rocks/nl/presskit" class="footer-text-element" style="text-align: center !important; align-self: center; font-family: Lato, sans-serif; font-size: 0.9rem; font-style: italic; padding: 0; color:#dddddd !important; text-decoration: none">
                                        <i class="el el-idea footer"></i>Press
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-1"></div>
        </div>
        <br/>

        <!--   SOCIAL MEDIA     -->
        <div class="row footer-container" style="justify-content: space-around; padding: 3rem;">
            <div class="col-md-6">
                <div class="row align-items-center">
                    <div class="col social-media-icons-container">
                        <a href="https://www.facebook.com/crownstones/" target="_blank" class="footer-social-media-icons" style="text-align: center; color: lightgray; font-size: 2rem; margin: 0; padding: 0;"><i class="el el-facebook"></i></a>
                    </div>

                    <div class="col social-media-icons-container">
                        <a href="https://twitter.com/CrownstoneRocks" target="_blank" class="footer-social-media-icons" style="text-align: center; color: lightgray; font-size: 2rem; margin: 0; padding: 0;"><i class="el el-twitter"></i></a>
                    </div>

                    <div class="col social-media-icons-container">
                        <a href="https://discord.gg/zPhesU2CZv" target="_blank" class="footer-social-media-icons" style="text-align: center; color: lightgray; font-size: 2rem; margin: 0; padding: 0;"> <img src="/images/contact/discord-gray.svg" alt="discord-icon" style="min-width: 50px; width: 50%"> </a>
                    </div>

                    <div class="col social-media-icons-container">
                        <a href="https://www.youtube.com/channel/UCru1PX6P1JyhsI-OEMXnBdg" target="_blank" class="footer-social-media-icons" style="text-align: center; color: lightgray; font-size: 2rem; margin: 0; padding: 0;"><i class="el el-youtube"></i></a>
                    </div>

                    <div class="col social-media-icons-container">
                        <a href="https://www.linkedin.com/company/crownstone" target="_blank" class="footer-social-media-icons"><i class="el el-linkedin" style="text-align: center; color: lightgray; font-size: 2rem; margin: 0; padding: 0;"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 text-center colofon">
               <div class="accent" style="margin: 0;">Crownstone</div>
               <p style="margin: 0;">Stationsplein 45 d1.118</p>
               <p style="margin: 0;">3013 AK Rotterdam, The Netherlands</p>
               <p style="margin: 0;">0031103073955 / 010-3073955</p>
               <br/>
               <p style="margin: 0;">
                  This site uses external services. Cookies for the webshop (<a href="https://www.shopify.com/legal/cookies" class="link-footer">cookie policy</a>).
               </p>
            </div>
        </div>
    </div>
    <br />
</div>


<script async defer src="https://cdn.simpleanalytics.io/hello.js"></script>
<noscript><img src="https://api.simpleanalytics.io/hello.gif" alt=""></noscript>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-17146802-16', 'auto');
  ga('set', 'allowAdFeatures', false);
  ga('send', 'pageview');
</script>



<!-- in debug mode, Google Chrome complains about .map files, do not worry -->                    
<script type="text/javascript" src="/assets/themes/flat/resources/jquery/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="/assets/themes/flat/resources/bootstrap/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!--[if gt IE 9]>
<script type="text/javascript" src="/assets/themes/flat/resources/bootstrap/js/ie10-viewport-bug-workaround.js"></script>
<![endif]-->


</body>
</html>

