<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Crownstone</title>
 <link href="https://crownstone.rocks/nl/" rel="self"/>
 <link href="https://crownstone.rocks"/>
 <updated>2021-12-16T12:29:30+00:00</updated>
 <id>https://crownstone.rocks</id>
 <author>
   <name>Crownstone B.V.</name>
   <email>ask@crownstone.rocks</email>
 </author>

 
 <entry>
   <title>A truly smart light switch</title>
   <link href="https://crownstone.rocks/nl/2021/03/09/the-2-wire-smart-switch-has-no-neutral"/>
   <updated>2021-03-09T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2021/03/09/the-2-wire-smart-switch-has-no-neutral</id>
   <content type="html">
&lt;h1 id=&quot;header-making-a-2-wire-switch-smart&quot;&gt;Making a 2-wire switch smart&lt;/h1&gt;

&lt;p&gt;There are quite a few blog posts and products online that describe the problem of making a 2-wire switch &lt;strong&gt;smart&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Check for example:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://theiotpad.com/tips/smart-switches-no-neutral-wire&quot;&gt;The IOT Pad&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://thesmartcave.com/smart-switch-with-no-neutral/&quot;&gt;the smart cave&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.smarthome.com/pages/what-to-do-if-you-dont-have-a-neutral-wire&quot;&gt;smart home&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.techhive.com/article/3512824/c-by-ge-hubless-no-neutral-wire-required-smart-switch-how-did-they-do-it.html&quot;&gt;techhive on C by GE switches&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.yoswit.com/2-wire-smart-light-switch.html&quot;&gt;Yoswit products&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All of the above choose one solution to solve this… Crownstone did something even &lt;strong&gt;smarter&lt;/strong&gt;!&lt;/p&gt;

&lt;p&gt;First, we will describe what’s so hard to tackle with 2-wire switches. Second, we will analyse common solutions. Third, we will introduce the &lt;strong&gt;switchcraft&lt;/strong&gt; solution by Crownstone and explain its benefits in detail.&lt;/p&gt;

&lt;h2 id=&quot;header-whats-so-difficult&quot;&gt;What’s so difficult?&lt;/h2&gt;

&lt;p&gt;A 2-wire switch does have, indeed, &lt;strong&gt;two&lt;/strong&gt; wires. One incoming wire and one outgoing wire. The incoming wire is the &lt;strong&gt;live&lt;/strong&gt; wire from the grid. The outgoing wire goes to the light. There is a neutral wire, but it is not at the switch. It is going straight to the light. When the switch is toggled the live wire will start or stop carrying current. This turns the light on or off.&lt;/p&gt;

&lt;p&gt;Now, it might already be clear why this can be a problem. If the switch is toggled such that the live wire is disconnected from the light, there is no current flowing. If there is no current flowing electrical components in the light switch will not be powered. This means that there is no wireless connection possible and you cannot dim the device digitally.&lt;/p&gt;

&lt;h2 id=&quot;header-common-solutions&quot;&gt;Common solutions&lt;/h2&gt;

&lt;p&gt;One solution is to incorporate a battery function in the switch. This is not necessary a physical battery, but something that stories energy for a longer time. It can indeed be a rechargeable battery or for example a so-called supercapacitor. This component can be charging when the light is on. When the light is switched off the smart module in the switch uses the energy of the battery or the capacitor to keep listening for digital commands. There is a disadvantage though. When the light is switched off for long times (and this depends on capacity and the energy use of the switch itself), it will stop listening for digital commands. Or worse, if a non-rechargeable battery is used, you might need to swap the batteries of your “smart” light switches after a few years! Argh!!&lt;/p&gt;

&lt;p&gt;A second solution is to have the switch toggle between high current and a very low current. The switch can be seen as a device that is in series with the light. It can draw a tiny bit of current while you do not notice at the light that there is this amount of current flowing. This especially works with old-fashioned incandescent or halogen light bulbs. There is again a disadvantage. LED lights require less power than ever. This means that a small current is already big enough to actually turn on the LEDs! For that reason, manufacturers often offer a workaround: an additional device that has to be placed at the light. It is a capacitor that pulls away enough current from the light to prevent it from switching on. The more energy your LEDs use, the likelier it is that this hack works.&lt;/p&gt;

&lt;p&gt;A third solution is so-called energy-harvesting. An energy-harvesting switch (check the manufacturer EnOcean) uses the physical energy of a switch event to send a wireless message. This message can be sent to a module that does the actual switching. The module can be placed at the light where you have both a live and a neutral wire. Of course, if you use the physical switch as well, you run the risk of powering everything off. To prevent this, you can replace your physical switch by this energy-harvesting switch. There are very few disadvantages here, we will just list two. First, this type of technology is relative expensive. Second, there are only very few messages that will be sent by the switch. If the receiving module accidentally misses those, it will miss the event and you have to toggle another time.&lt;/p&gt;

&lt;h2 id=&quot;header-switchcraft&quot;&gt;Switchcraft&lt;/h2&gt;

&lt;p&gt;The solution in the Crownstone modules is quite different. The Crownstone measures the input voltage on a high frequency (around 5 kHz). For a single sine wave - in Europe at 50 Hz - this results in a lot of samples, around a 100. We use this information to recognize temporary dips in the power supply. This, we can use to our advantage to recognize dips caused by a light switch! The Crownstone is mounted at the ceiling light. That is also often the most convenient location (with respect to space). We configure the light switch as a &lt;strong&gt;pulse switch&lt;/strong&gt;, in particular a break switch.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/installation/en/switchcraft_wiring_diagram.png&quot; alt=&quot;Switchcraft wiring diagram&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The pulse (the temporary disconnect) travels to the Crownstone and can be recognized as such. This allows the Crownstone to switch state. This has quite a few advantages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;You can switch any light source. Even if we a LED would use only 10 mW, this setup would still work!&lt;/li&gt;
  &lt;li&gt;You can switch the light any time. It is not the case that after a holiday the batteries in your switches got depleted.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are a few other interesting consequences as well. One example, you can arrange multiple pulse switches in series. Each of those will be able to control the Crownstone at the end. This means you can create a hotel switch with many more than two or three switches. Another example, you can flip the switch multiple times and - potentially - have different actions as result. The Crownstone’s interpretation of the incoming train of pulses can be such that it distinguishes between flipping the switch once and multiple times.&lt;/p&gt;

&lt;h2 id=&quot;header-are-there-disadvantages&quot;&gt;Are there disadvantages?&lt;/h2&gt;

&lt;p&gt;You might wonder why other manufacturers do not use this solution. First, it requires accurate monitoring of the incoming voltage. This cannot be done by off-the-shelf monitoring chips. It requires the electronic expertise to implement the measurement circuit, it makes the product slightly more expensive to build, and it requires software expertise to recognize the switch events. This all apart from the fact that inventions like these are creative! Second, it requires the module to stay active with power for a while after the supply is cut off. This is not a logical engineering requirement except for this use case! To come up with a solution like this means that the team of electronic and software engineers have to work together and understand each other’s requirements extremely well.&lt;/p&gt;

&lt;p&gt;There are always downsides imaginable. However, with careful considerations there are very few. For example, if the electricity grid itself falls out for a while and the power comes back on, this does not take the same time as flipping a switch (around 5 ms). In other words, the lights will not go on after a power failure. The only issue we can imagine at Crownstone is with very particular switches that have uncharacteristic traveling times. If you find something interesting, let us know!&lt;/p&gt;

&lt;h2 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/switch-and-kid.png&quot; alt=&quot;Switch with kid&quot; /&gt;&lt;/p&gt;

&lt;p&gt;It is important to be able to use the physical light switch and be able to use digital commands at the same time. There are only a few ways to do this and each have their own disadvantages. Crownstone uses a new method that has many benefits compared to the existing methods. It works with a two-wire setup so it can be used to retrofit buildings. It works with LEDs, even if they use almost no power to light up. We think it’s a neat function and we hope lot’s of people will benefit from physical and digital switching alike!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sustainable Households</title>
   <link href="https://crownstone.rocks/nl/2021/02/24/sustainable-households"/>
   <updated>2021-02-24T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2021/02/24/sustainable-households</id>
   <content type="html">
&lt;h1 id=&quot;header-sustainable-households&quot;&gt;Sustainable Households&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/sustainable_households1.jpg&quot; alt=&quot;Supporting picture for sustainable households&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-towards-natural-gas-free-households&quot;&gt;Towards natural gas-free households&lt;/h2&gt;

&lt;p&gt;Currently, almost all Dutch houses, companies, schools, hospitals and other buildings use natural gas. This is responsable for a large amount of national CO₂ emission. The &lt;strong&gt;Natural Gas-Free Neighborhoods Program&lt;/strong&gt; known in Dutch as &lt;strong&gt;Programma Aardgasvrije Wijken (PAW)&lt;/strong&gt;&lt;sup&gt;&lt;a href=&quot;#buildings_gasfree&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; is set up to learn how homes and other buildings can become free of gas by 2050.
The country is switching from natural gas to sustainable energy sources such as sun, wind and water. There are 46 municipalities&lt;sup&gt;&lt;a href=&quot;#cities_gasfree&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; in the Netherlands that participate in the PAW to make homes and other buildings natural gas-free or ready to become natural gas-free at a later date.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/sustainable_households2.png&quot; alt=&quot;Map with neighbourhoods that are not depending on natural gas&quot; class=&quot;float-right&quot; style=&quot;max-width: 400px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In 2021, the government will choose more neighborhoods to be part of the program. The government chooses neighborhoods that can reduce a lot of CO₂ emissions. By 2050, nearly 7 million households and 1 million buildings must be gas-free. In the period up to and including 2030, the Climate Agreement agreed to make 1.5 million homes and other buildings more sustainable. Besides the PAW, other measures have been taken to achieve the goals of the Climate Agreement. One of those measurements is that since 2018 new homes must be natural gas-free. With the &lt;strong&gt;Warmtefonds, subsidies en fiscale regelingen&lt;/strong&gt;, there are more financial opportunities for homeowners to make their homes more sustainable. For example, there are subsidies to help owners of rental properties (e.g. housing corporations and owners’ associations) to make homes more sustainable.&lt;/p&gt;

&lt;p&gt;The ways in which this transition to natural gas-free living is being made include the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Good insulation&lt;/li&gt;
  &lt;li&gt;Sustainable installations for heating and hot water&lt;/li&gt;
  &lt;li&gt;Use of sustainable energy sources&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Regarding good insulation, there are plenty of ways in which this can be achieved: roof insulation, floor insulation, cavity wall insulation, as well as HR++ or triple glass. Houses built since 2000 have good to very good insulation of the roof, floor and facade and use HR++ or triple glass&lt;sup&gt;&lt;a href=&quot;#insulation&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;. Further improvement on insulation will not have the same effect anymore. Therefore, other ways to make houses more sustainable and energy efficient have to be found. One example is the use of a heat pump or district heating (Warmtenet). Another example is the use of solar panels.&lt;/p&gt;

&lt;h2 id=&quot;header-low-temperature-heating&quot;&gt;Low temperature heating&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/sustainable_households3.jpg&quot; alt=&quot;Heat pump operation&quot; class=&quot;float-right&quot; style=&quot;max-width: 400px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Most houses in the Netherlands still have a central heating boiler and radiators. The central heating boiler heats the water that goes to the radiators to about 70 to 80 °C. This high water temperature is required in houses that are not well insulated to keep the house warm during cold days. For well-insulated houses, keeping the water temperature at about 35 to 55 °C (i.e. temperature that a heat pump supplies) is enough to keep the house warm. When the heating (climate system) is able to provide sufficient heat with water at those temperatures it is called &lt;strong&gt;low temperature heating&lt;/strong&gt;.
If a house demands only low temperature heating (thanks to its insulation) then the number of technologies that can provide this heat increases. It is then for example also possible to use heat pumps. Heat pumps wouldn’t have been sufficient if high temperatures are required. Hence, low temperature heating expands the possibilities for natural gas-free households.&lt;/p&gt;

&lt;h2 id=&quot;header-heat-pump&quot;&gt;Heat pump&lt;/h2&gt;

&lt;p&gt;A heat pump provides heating and hot water in a sustainable way. Heat pumps make smart use of the heat in the air, soil, or groundwater and turn it into a usable temperature. From 1 kWh of electricity, a heat pump produces 2 to 5 kWh of heat. More than 280,000 houses in the Netherlands (2018) already have a heat pump&lt;sup&gt;&lt;a href=&quot;#heat_pump&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;. There are 3 types of heat pumps:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Full electric heat pump&lt;/strong&gt;: provides heating + hot water in the bathroom and kitchen, which means a boiler is no longer needed.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Hybrid heat pump&lt;/strong&gt;: works together with a central heating boiler. It provides heating on most of the days. The boiler only jumps in when it is very cold and when hot water in the bathroom and kitchen is needed.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Ventilation heat pump&lt;/strong&gt;: It works together with a mechanical ventilation system by extracting heat from the ventilation air.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;strong&gt;Coefficient of Performance (COP)&lt;/strong&gt; expresses how efficiently a heat pump uses energy. Because the efficiency is always different due to, for example, the outside temperature, the use and the home in which it is located, the &lt;strong&gt;Seasonal Coefficient of Performance (SCOP)&lt;/strong&gt; is often used. A COP of 4.0 means that a heat pump supplies 4 times as much heat as it uses electrical energy. In this case, 1 kWh of electricity therefore produces 4 kWh of heat, in other words, a heat pump has an efficiency of 400%.&lt;/p&gt;

&lt;h2 id=&quot;header-how-could-crownstone-help-even-further&quot;&gt;How could Crownstone help even further?&lt;/h2&gt;

&lt;p&gt;The role of Crownstone in this journey towards sustainability is to contribute to energy-neutral living by ensuring that the energy is being used only when it is needed. Besides helping to reduce the potential waste in electricity usage (by reducing around 10% of standby power&lt;sup&gt;&lt;a href=&quot;#standby_power&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;, around 5% by providing insight in energy usage, etc.), Crownstone hardware can also reduce the energy consumption of a heat pump. To provide an estimate of how much energy can be saved by using Crownstones together with a heat pump, the following data is considered:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Household usage (2020)&lt;/th&gt;
      &lt;th&gt;Per year&lt;sup&gt;&lt;a href=&quot;#energy_consumption&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/th&gt;
      &lt;th&gt;Costs (€/unit)&lt;/th&gt;
      &lt;th&gt;Costs (€)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Electricity&lt;/td&gt;
      &lt;td&gt;2832 kWh&lt;/td&gt;
      &lt;td&gt;0.2203&lt;/td&gt;
      &lt;td&gt;623.89&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Gas&lt;/td&gt;
      &lt;td&gt;1340 m&lt;sup&gt;3&lt;/sup&gt;&lt;/td&gt;
      &lt;td&gt;0.7868&lt;/td&gt;
      &lt;td&gt;1054.31&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;On average, 80% of the gas is used for &lt;strong&gt;heating&lt;/strong&gt; and 20% for &lt;strong&gt;hot water&lt;/strong&gt;&lt;sup&gt;&lt;a href=&quot;#energy_consumption&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;, mainly showering. Let us only consider heating and assume hot water is still provided by a hybrid pump or electric boiler. Given the statistics above, Dutch household uses on average 1072 m&lt;sup&gt;3&lt;/sup&gt; gas for heating (excluding hot water). Let us assume 1m&lt;sup&gt;3&lt;/sup&gt; of natural gas yields 35.17 MJ. This means that 9.76 kWh of heat is released. For a boiler with an efficiency of 95% this becomes 9.27 kWh of useful heat.
If we use this factor to calculate the equivalent electricity budget for 1072 m&lt;sup&gt;3&lt;/sup&gt; of natural gas, we would require 9939.6 kWh for heating. If this heat has to be supplied by an electric heat pump with a COP of 4 it requires 2484.9 kWh. This is € 547.42 in annual costs for heating.&lt;/p&gt;

&lt;p&gt;Crownstone can reduce these costs by using absence detection to adjust the heating in a household. No heating when no one is present adds up&lt;sup&gt;&lt;a href=&quot;#smart_thermostat&quot;&gt;7&lt;/a&gt;&lt;/sup&gt; to 16%, which in terms of savings represents € 87.59 per year.&lt;/p&gt;

&lt;p&gt;There are also other factors to take into account when trying to reduce the energy consumption with low temperature heating. For example, when living in a house where the temperature drops quickly due to &lt;strong&gt;poor insulation&lt;/strong&gt;, turning off the heat pump at night is a bad idea. The money saved by turning off the heat pump for 7-8 hours at night will most likely be lost when warming up the house again from such a low temperature.
When a house is well insulated, it is possible to set the thermostat to turn off or activate the heat pump after a certain time. This way, the heat pump won’t have to work too hard to restore warmth. Of course, the perfect combination to make low temperature heating even more efficient will depend on different factors: (1) the quality of the heat pump, (2) the capacity of the pump, (3) good SCOP/COP values, (4) fit for the local climate, (5) insulation of the home, (6) a smart thermostat, (7) presence/absence detection, and (8) zone-based control. Crownstone can make sure no energy is being wasted. For example, the heating can be adjusted when no one is in a specific room. Each household might have different needs depending on the routine of the people living there. Maybe some of them have constant schedules throughout the week or maybe some others have varying schedules. The situations might differ, but for every of them having a device that can help to turn off the heating when not being used is always convenient, especially when it translates to monetary savings per year and reduction of the CO&lt;sup&gt;2&lt;/sup&gt; emissions.&lt;/p&gt;

&lt;h2 id=&quot;header-references&quot;&gt;References&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a name=&quot;buildings_gasfree&quot;&gt;&lt;/a&gt; Rijksoverheid: &lt;a href=&quot;https://www.rijksoverheid.nl/onderwerpen/aardgasvrije-wijken/bestaande-gebouwen-aardgasvrij-maken&quot;&gt;https://www.rijksoverheid.nl/onderwerpen/aardgasvrije-wijken/bestaande-gebouwen-aardgasvrij-maken&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a name=&quot;cities_gasfree&quot;&gt;&lt;/a&gt; Rijksoverheid: &lt;a href=&quot;https://www.rijksoverheid.nl/onderwerpen/aardgasvrije-wijken/deelnemende-gemeenten-aardgasvrij-maken&quot;&gt;https://www.rijksoverheid.nl/onderwerpen/aardgasvrije-wijken/deelnemende-gemeenten-aardgasvrij-maken&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a name=&quot;insulation&quot;&gt;&lt;/a&gt; “Alles over isoleren” by Milieu Centraal&lt;/li&gt;
  &lt;li&gt;&lt;a name=&quot;heat_pump&quot;&gt;&lt;/a&gt; “Warmtepomp: duurzaam elektrisch verwarmen” by Milieu Centraal&lt;/li&gt;
  &lt;li&gt;&lt;a name=&quot;standby_power&quot;&gt;&lt;/a&gt; Milieu Centraal en CBS (berekening Nibud, 2020)&lt;/li&gt;
  &lt;li&gt;&lt;a name=&quot;energy_consumption&quot;&gt;&lt;/a&gt; “Gemiddeld energieverbruik” by Milieu Centraal&lt;/li&gt;
  &lt;li&gt;&lt;a name=&quot;smart_thermostat&quot;&gt;&lt;/a&gt; “Besparen met slimme thermostaat” by Milieu Centraal&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;header-footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;A technical footnote (they are not important for the story). Some heat pumps can be also used for cooling. In this case another indicator is used: &lt;strong&gt;Energy Efficiency Ratio (EER)&lt;/strong&gt;. An EER of 4 means that a heat pump uses 1 kWh of electrical energy to remove 4 kWh of heat from a house. In this case, the Crownstone might also have a possibility to reduce the energy consumption of these devices.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Subscriptions done right</title>
   <link href="https://crownstone.rocks/nl/2020/08/26/subscriptions-done-right"/>
   <updated>2020-08-26T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/08/26/subscriptions-done-right</id>
   <content type="html">
&lt;h1 id=&quot;header-subscriptions-galore&quot;&gt;Subscriptions galore&lt;/h1&gt;

&lt;p&gt;Nowadays it is possible to get subscriptions on almost everything, from bikes, and underwear to razor blades. The
underlying reasons of those business models are not always customer-friendly. However, when executed right there can
be many benefits for the customer as well as the company.&lt;/p&gt;

&lt;p&gt;Crownstone is a smart home concept that starts truly working nice as soon as you get &lt;strong&gt;multiple&lt;/strong&gt; of those devices in a 
household. As a manufacturer it’s easy to compare with competing technology like KNX which easily costs 5-10k and 
think that slashing the price ten times will drive customers in droves. However, to be realistic, smart home is so
new that the majority of people does not want to spend even a couple of hundreds. What to do?&lt;/p&gt;

&lt;h2 id=&quot;header-low-monthly-price&quot;&gt;Low monthly price&lt;/h2&gt;

&lt;p&gt;We’re offering a subscription of € 15 per month for 10 of the Crownstone devices. To buy this you would spend € 450.
To understand how cheap this is: a &lt;strong&gt;warranty&lt;/strong&gt; period is 2 years. If you divide € 450 over 2*12 months is € 18.75, more 
than € 15! For this price you don’t have to worry. Everything will be maintained and replaced by Crownstone when need arises. The price itself, € 15 per month, can be compared to a music or movie service subscription. A smartphone subscription (which includes hardware) is normally more expensive.&lt;/p&gt;

&lt;h2 id=&quot;header-service&quot;&gt;Service&lt;/h2&gt;

&lt;p&gt;Our business can run much more sustainable using a subscription model. Of course, there are very few companies that 
purposely plan for obsolescence. However, if warranty is 2 years, there’s the wrong incentive. A subscription service
means that we have to design the products such that have very long &lt;strong&gt;lifetimes&lt;/strong&gt;. Moreover, every service request costs
money. Hence, the quality of the product must be such that maintenance costs are minimal. This all means a much better
user experience.&lt;/p&gt;

&lt;h2 id=&quot;header-software-updates&quot;&gt;Software updates&lt;/h2&gt;

&lt;p&gt;If a company has steady income through subscriptions, it can focus on making the software that comes with the harware better and better. The subscriptions pay for optimizing the user experience and building &lt;strong&gt;new features&lt;/strong&gt;. If the hardware is a one-time sales event, there is no need to have a flawless user experience! Just convince the user to buy and be out of there! Subscriptions allow Crownstone to have full-time software engineers on-board that create software for hardware that is already sold in stores. This is not only true for new features, but also for security updates.&lt;/p&gt;

&lt;h2 id=&quot;header-cashflow&quot;&gt;Cashflow&lt;/h2&gt;

&lt;p&gt;If you buy the products of a company, no one wants to see it go out of business. Companies that have subscription models
have very &lt;strong&gt;predictable&lt;/strong&gt; cashflows. Apart from that, the performance indicators are very transparent. That means that 
companies can more easily raise funds to grow internationally. If you fear if a company still exists in ten years
from now, it’s good to know its business model is robust.&lt;/p&gt;

&lt;h2 id=&quot;header-installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;If a company sells individual products like the Crownstones in packet sizes of a single unit or a couple of units, it
is impossible to also include additional &lt;strong&gt;services&lt;/strong&gt;. For Crownstone a very welcome service is to do the installation for
people. By providing a subscription service with at least 10 Crownstones, we can much easier provide such a service.
We are not intending to earn money on this service. Currently, we estimate the costs to be around € 100 per household.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/subscription_installation.jpg&quot; alt=&quot;Installation&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-rewarding-loyalty&quot;&gt;Rewarding loyalty&lt;/h2&gt;

&lt;p&gt;There’s a great possibility to &lt;strong&gt;reward&lt;/strong&gt; people if we use a subscription model. We can provide discounts when people refer their friends. This only works if people already use your service. In contrast with presents at the start of a contract, this values long-term customers and rewards loyalty. That is regretfully very rare in a business model. Suprisingly, because it is so much nicer to offer discounts to loyal users than to pay chunks of money to advertisements on social networks and search sites!&lt;/p&gt;

&lt;h2 id=&quot;header-terms&quot;&gt;Terms&lt;/h2&gt;

&lt;p&gt;The difficulty with subscriptions are often that other companies use very bad terms of services. It is impossible to get rid of the service. At Crownstone we are very transparent. We offer very straightforward &lt;strong&gt;one year&lt;/strong&gt; subscriptions and we ask as little money for installation and removal as possible. After this year, you can cancel any time. We prefer happy customers above customers who actually don’t benefit from their smart home like they thought they would!&lt;/p&gt;

&lt;h2 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;This blog post is obviously written from the viewpoint of Crownstone and you might still want to buy the products rather than going for a subscription. We are definitely not saying that subscriptions are the only way and we happily support &lt;a href=&quot;https://shop.crownstone.rocks/products/built-in-crownstone&quot;&gt;direct sales&lt;/a&gt;. However, hopefully this made you think again about what subscriptions mean nowadays and who knows, check out &lt;a href=&quot;https://subscribe.crownstone.rocks/welcome?dest=smartscenarios&amp;amp;ref=blog&amp;amp;loc=subscription&quot;&gt;ours&lt;/a&gt;! We look forward to support you in your smart home!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How would my home react to me?</title>
   <link href="https://crownstone.rocks/nl/2020/08/07/how-would-my-home-react-to-me"/>
   <updated>2020-08-07T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/08/07/how-would-my-home-react-to-me</id>
   <content type="html">
&lt;h1 id=&quot;header-indoor-localization-how-does-it-work&quot;&gt;Indoor localization, how does it work?&lt;/h1&gt;

&lt;p&gt;In our previous posts we illustrated some scenarios where we made use of the &lt;strong&gt;presence-aware&lt;/strong&gt; behaviour of the Crownstones to perform certain tasks such as automatically turning on the &lt;a href=&quot;https://crownstone.rocks/2020/07/01/the-magic-of-crownstone-scenarios&quot;&gt;lights&lt;/a&gt; when someone is in a specific room and it is getting dark, or automatically turning off your &lt;a href=&quot;https://crownstone.rocks/2020/08/03/beyond-smart-lighting&quot;&gt;television&lt;/a&gt; and other electronic devices when leaving home. This presence-aware behaviour is technically possible thanks to Crownstone pinpointing the location of your smartphone. This is called: &lt;strong&gt;indoor localization&lt;/strong&gt;. We will talk about indoor localization in more detail in this post. Hopefully, you get a better idea on the different factors influencing the techniques to do indoor localization. This makes it easier to understand how useful it can be and also to understand what its limitations are.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_localization_1.jpg&quot; alt=&quot;Entering Home&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-the-basics&quot;&gt;The basics&lt;/h1&gt;

&lt;p&gt;Crownstones know where you are if you carry a smart device with you such as your smartphone. Crownstones use the position of this smart device through measuring Bluetooth Low Energy signals. This makes it possible for the Crownstones to react upon your &lt;strong&gt;presence&lt;/strong&gt; and &lt;strong&gt;proximity&lt;/strong&gt;. This ability is called indoor positioning. To enable this feature, you need to have a minimum number of Crownstones and train them by walking a few rounds in a specific room. You do the same in the rest of the rooms so the &lt;strong&gt;Crownstone’s AI&lt;/strong&gt; can learn in which room you are! During &lt;strong&gt;training&lt;/strong&gt; you carry your phone like you normally would do when you are home. 
Four Crownstones in the home is the absolute minimum. The more Crownstones are present, the more information the Crownstones have on your location. 
The localization works best with at least two Crownstones per room. The Crownstones in other rooms also contribute to the positioning accuracy because the Bluetooth signals go through walls. Hence, two Crownstones per room is often sufficient (the Crownstones in neighbouring rooms are participating as well).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_localization_2.jpg&quot; alt=&quot;Entering the bedroom&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-hello-home-good-bye-home&quot;&gt;Hello Home, Good Bye Home!&lt;/h1&gt;

&lt;p&gt;Thanks to indoor localization your lights can automatically welcome you when you arrive home. For the Crownstones to detect your presence it might take up to 10 seconds, which means that if you walk along the hallway to get to the toilet, the lights at the hallway won’t automatically turn on. On the other hand, if you stay in the hallway for a longer time, the Crownstone will realize that you actually are in the hallway and the lights will turn on. And what about leaving a room? Well, if you leave a room for a few minutes and then you come back, your lights won’t automatically turn off.  In this case the Crownstones will still hear you, but they hear you’re in a different room. Then they wait 5 minutes to avoid turning stuff off and on. Crownstones detect your “absence” (not presence) after not hearing from you for 5 minutes. After that time, they will think that you have left the house (the sphere). Therefore, your lights and electronic devices (that don’t need to be on when you are not at home) can be turned off after you leave home for more than 5 minutes.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_localization_3.jpg&quot; alt=&quot;Leaving Home&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The delay with which your home detects that you go from room to room can be up to 10 seconds as mentioned above. This depends on the model of your phone. You might think: “That’s too slow! Within that period I would have flipped the switch manually!” Rightfully so, we think! However, this does not mean that it is useless that your house knows where you are. There are a couple of typical scenarios where a delay does not matter much:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;You &lt;strong&gt;sit on the couch&lt;/strong&gt; and it is getting dark. The lights can turn on automatically if the house knows that you are there. It does not matter much if the lights turn on 10 seconds after sunset! Presence information is necessary though or lights will go on even if you are not there!&lt;/li&gt;
  &lt;li&gt;You go to bed and do not want to worry about &lt;strong&gt;turning off&lt;/strong&gt; stuff. In contrast to turning lights on, a delay does not matter when you turn things off. The only thing that matters is that you don’t have to do it manually anymore! No more rounds of checking if everything has turned off!&lt;/li&gt;
  &lt;li&gt;You like to have lights on not just where you are, but also in &lt;strong&gt;neighboring rooms&lt;/strong&gt;. This is a matter of personal preference. Some people just do not like to peer into or walk into a dark hallway or any other room. If you turn on the lights in all neighbouring rooms a delay is not important anymore either. Unless you start running in the house, that is!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Think about it as with GPS. Even though it’s not perfect, it’s very useful! Moreover, GPS became more accurate and faster over time! And of course you can use the Crownstone system without indoor localization as well!&lt;/p&gt;

&lt;h1 id=&quot;header-how-accurate-is-it&quot;&gt;How accurate is it?&lt;/h1&gt;

&lt;p&gt;Another question that might come to your mind would be: how accurate is the indoor localization? Well, to answer that question, we will need to explain more in detail the technicalities of the Crownstones. However, that’s not the purpose of this post, but we can give you a general idea. First of all, the &lt;strong&gt;accuracy&lt;/strong&gt; depends on several factors, such as the quality of the training, the number of Crownstones you have, the location of the Crownstones themselves, the presence of metal appliances, having your phone inside your pocket or purse, presence of people themselves, etc. Regarding the quality of the &lt;strong&gt;training&lt;/strong&gt;, it is recommended that you grab your phone and walk around the room trying to cover most places in the room and trying to hold your phone the same way you do when not training. During the training process the &lt;strong&gt;Crownstone’s AI&lt;/strong&gt; collects all signal strengths while the user walks around the room. After this, a &lt;strong&gt;fingerprint&lt;/strong&gt; of the room is generated. Subsequently, when a certain pattern of signals is detected, it is matched with the fingerprints and then the most reasonable guess for the current room is output. Therefore, the influence of the quality of the training plays an important role.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_localization_example.jpg&quot; alt=&quot;Localization example&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;With respect to the &lt;strong&gt;number&lt;/strong&gt; and &lt;strong&gt;location&lt;/strong&gt; of the Crownstones, for indoor localization it is not the best idea to have several Crownstones only next to each other or only on a single axis. By doing so, we do not provide enough information to the Crownstones to identify (i.e. differentiate) in which room we are. You can imagine for instance 2 rooms separated by a wall and in this wall we have 2 Crownstones (depicted as the two orange boxes in the drawing below) behind two separate power outlets. In this setting the Crownstones will have troubles identifying in which room you are. This is because the strength of the signals received will be almost the same. To improve this, we need to increase the number of Crownstones per room and distribute them in different places: behind power outlets, wall switches and ceiling lamps. In this way the Crownstones will be provided with a  better guess for the room in which you are.&lt;/p&gt;

&lt;p&gt;Regarding how the presence of other &lt;strong&gt;materials&lt;/strong&gt; can influence the accuracy of indoor positioning, we can say that the strength of the received signals gets reduced when the signals need to travel through other high density or conducting materials. An example of this can be metal appliances which &lt;strong&gt;block&lt;/strong&gt; and &lt;strong&gt;reflect&lt;/strong&gt; wireless signals such as fridges, ovens, washing machines, dryers, etc. Again, increasing the number of Crownstones will diminish these effects together with keeping your phone in a more visible place such as on the top of a table. Finally, regarding the presence of &lt;strong&gt;people&lt;/strong&gt; themselves, the human body is  a “barrier” for these Bluetooth signals. This means that the strength of the signals drops when our bodies are on the way. For example, a consequence of this can be that your Crownstones think that you are in a different room when you are sitting on your phone while watching television. Therefore, better to put your phone over the coffee table or in a less hidden place.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_localization_4.jpg&quot; alt=&quot;Reading a book&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;The indoor positioning feature of Crownstones is meant to make home automation possible. It provides users the ability to let their home know where they are to enhance the smart home experience. If you are not carrying a smart device with you, your entire home should work in the old-fashioned way. A smart home should not make the situation worse! For instance, when going to the bathroom at night, you can still use your wall switch (when configured with switchcraft). We touched upon quite a few factors that might influence the usefulness of the indoor localization function for you. Factors like the quality of the training, the presence of objects or people, and the number and locations of Crownstones. There are still challenges to be solved. At Crownstone we will keep working on the self-learning algorithms to improve the indoor localization function. We’re convinced that a &lt;strong&gt;truly smart&lt;/strong&gt; home knows where you are and will use that to make your life a tad more comfortable!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Beyond smart lighting</title>
   <link href="https://crownstone.rocks/nl/2020/08/03/beyond-smart-lighting"/>
   <updated>2020-08-03T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/08/03/beyond-smart-lighting</id>
   <content type="html">
&lt;h1 id=&quot;header-smart-lighting-is-just-the-beginning&quot;&gt;Smart lighting is just the beginning…&lt;/h1&gt;

&lt;p&gt;In one of our &lt;a href=&quot;https://crownstone.rocks/2020/07/01/the-magic-of-crownstone-scenarios&quot;&gt;previous posts&lt;/a&gt; we provided a general overview of some of the possibilities available when creating a scenario for home automation with the Crownstone App. In that post we introduced two scenarios. The first one, called the “sunset” scenario, automatically turns on the lights of a specific room (while someone is present in that room) when it starts to get dark. This scenario defines behaviour that is presence-aware. This is possible thanks to Crownstone’s &lt;strong&gt;indoor positioning&lt;/strong&gt; functionality. The second scenario, called the “sleepy baby” scenario, uses the &lt;strong&gt;twilight&lt;/strong&gt; mode to make your ordinary light switch smart (when configured with &lt;a href=&quot;https://crownstone.rocks/installation/#header-switchcraft-installation&quot;&gt;switchcraft&lt;/a&gt;). This allows you to dim your lights when flipping the wall switch at night (or at any other time that you wish). In those scenarios we provided examples when using the Crownstones behind lights. However, Crownstones can also be used with &lt;strong&gt;electronic devices&lt;/strong&gt;. This means that you can, for example, allow a device to turn on at preset times, make devices presence-aware, and more. Let’s see with which other devices we can use the Crownstones.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_scenarios2_1.jpg&quot; alt=&quot;Crownstone scenarios - devices beyond lights&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-for-those-hot-summer-days&quot;&gt;For those hot summer days&lt;/h1&gt;

&lt;p&gt;Nowadays, even in cooler countries, hot summer days get even hotter. It is nice to have a fan to cool down. 
You can buy a smart fan for around &lt;a href=&quot;https://ideaing.com/ideas/best-smart-ceiling-fans/&quot;&gt;€100 up to €1000&lt;/a&gt; depending on the functionality and the brand.
However, if you already have an existing desk fan, tower fan or ceiling fan, you might want to make it smarter without spending that amount of money and throwing your “dumb” fan away. 
Just place a Crownstone behind it! So, what can you expect from this? Well, you can for instance add a &lt;strong&gt;smart timer&lt;/strong&gt; behaviour to your fan, which means that the fan will be on at specific times. Another thing that you can do is to make your fan &lt;strong&gt;presence-aware&lt;/strong&gt;. It will turn on when you are actually in that room. Finally, Crownstones also allow you to control your fan with a voice command, so you can simply say: “Alexa, turn on fan” to start cooling off.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_scenarios2_2.jpg&quot; alt=&quot;Crownstone scenarios - a smart fan&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-television&quot;&gt;Television&lt;/h1&gt;

&lt;p&gt;Did you turn off your television? Or do your teenagers keep forgetting to turn off the television when leaving home? A solution for these situations is to put a Crownstone behind your television so the television is turned off when you are not at home. This makes your television &lt;strong&gt;presence-aware&lt;/strong&gt;. Cool, isn’t it?
Turning off your television (and mediabox and other media devices) saves energy and it saves a couple of euros every month on your electricity bill as well. 
With one of us at Crownstone, it happened that we did rush to the airport and forgot to turn off our television. If it is automatically turned off you don’t need to worry about loud sounds for your neighbours during your holidays. 
televisions or mediaboxes can go in a very eco-friendly standby mode automatically after a few hours of inactivity. However, starting back up from standby can take a long time! With Crownstone you can set it such that it is truly off when you are gone, but in a “normal” standby mode (and fast startup times) when you are home. 
Of course, you can also set an ordinary timer for the television. This can be useful to trigger a time to go to bed. Have the television switched off at nine o’clock. Time to go to bed kids!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_scenarios2_3.jpg&quot; alt=&quot;Crownstone scenarios - switching off that television&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-safety-first&quot;&gt;Safety first&lt;/h1&gt;

&lt;p&gt;Of course, as parents we always keep an eye on our children. However, it is not always that easy. Kids are curious! 
One of the ways in which Crownstones can help making our home a bit safer, is by turning off outlets when we are not around. Particular outlets in which we plug the iron, toaster, electric kettle, etc. can just be turned off when we (the adults) are not there.
In this manner the presence-aware functionality of the Crownstone makes the home a bit safer.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/cs_scenarios2_4.jpg&quot; alt=&quot;Crownstone scenarios - switching off an iron&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;As previously mentioned, Crownstone can help you to automate your home in many ways. Crownstones can be used not only with lights, but also with other electronic devices. It allows you to add useful “smart” behaviour to devices such as fans, televisions, speakers, video game consoles, etc. You don’t have to get rid of your normal fan to buy a very expensive smart fan. The presence-aware feature means different things for different people. Perhaps for you it means not to have to wake up in the middle of the night to turn your fan off. Or perhaps it means that you’ve the ease of mind on your holidays that all devices that you like to be off, are switched off. Finally, Crownstone can also contribute to the safety of your home if you have children, again, by the same presence-aware feature!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Integrate Crownstone with Home Assistant</title>
   <link href="https://crownstone.rocks/nl/2020/07/15/integrate-crownstone-with-home-assistant"/>
   <updated>2020-07-15T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/07/15/integrate-crownstone-with-home-assistant</id>
   <content type="html">
&lt;h1 id=&quot;header-home-assistant&quot;&gt;Home Assistant&lt;/h1&gt;

&lt;p&gt;Home Assistant is an open source platform which lets you integrate smart home devices of any kind!&lt;/p&gt;

&lt;p&gt;Home Assistant now works with Crownstone. Switching and dimming your Crownstones, getting presence updates, it’s all possible in your Home Assistant. Do you already have Philips Hue lights or Fibaro switches? No problem! Home Assistant lets you use Crownstone’s &lt;strong&gt;unique presence detection&lt;/strong&gt; on room level to create automations with any other device in Home Assistant!&lt;/p&gt;

&lt;p&gt;Everything works together, as it should.&lt;/p&gt;

&lt;h2 id=&quot;header-how-do-i-get-home-assistant&quot;&gt;How do I get Home Assistant?&lt;/h2&gt;

&lt;p&gt;Home Assistant itself is 100% free! To install Home Assistant follow the &lt;a href=&quot;https://www.home-assistant.io/getting-started/&quot;&gt;Installation guide&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;header-getting-started&quot;&gt;Getting started&lt;/h2&gt;

&lt;p&gt;If you followed the installation guide, your Home Assistant should be up and running! Awesome!&lt;/p&gt;

&lt;h3 id=&quot;header-adding-the-crownstone-integration-to-home-assistant&quot;&gt;Adding the Crownstone integration to Home assistant&lt;/h3&gt;

&lt;p&gt;Step 1. In Home Assistant, Go to Configuration.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAsetup.png&quot; alt=&quot;Home Assistant Setup&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 2. Go to Integrations.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAintegration.png&quot; alt=&quot;Home Assistant Integrations&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 3, Click on the orange “+” button.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAaddintegration.png&quot; alt=&quot;Home Assistant Add Integration&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 4. Search for Crownstone and click on it to set up the integration.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HACrownstone.png&quot; alt=&quot;Home Assistant Add Crownstone&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 5. Enter your email and password for your Crownstone account&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAlogin.png&quot; alt=&quot;Home Assistant Login&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 6. Select an Area for your Crownstone devices.
You will see all the names of your Crownstones, Locations and Spheres.&lt;/p&gt;

&lt;p&gt;Crownstones will show up as: Crownstone plug or Crownstone built-in
Presence in a Location, will show up as: Location presence
Presence in a Sphere will show up as: Sphere presence&lt;/p&gt;

&lt;p&gt;Note that a Home Assistant area is not the same as a Crownstone Location! Crownstone Locations are &lt;strong&gt;only&lt;/strong&gt; for Crownstones, while Home Assistant areas are used for all Home Assistant devices! It is recommended to add your Crownstones and Sphere/Location presence to an area with a similar name as your Crownstone locations.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAselectarea.png&quot; alt=&quot;Home Assistant Select Area&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;header-adding-your-crownstone-devices-to-the-home-assistant-overview&quot;&gt;Adding your Crownstone devices to the Home Assistant overview&lt;/h3&gt;

&lt;p&gt;Step 7. In the top right corner of the overview, click on the icon with the three dots, and then click on configure UI.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAconfigureui.png&quot; alt=&quot;Home Assistant Configure UI&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 8. Click on the orange “+” button.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAaddcard.png&quot; alt=&quot;Home Assistant Add Card&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 9. Select a card from the available options.&lt;/p&gt;

&lt;p&gt;Give your card a name, for example “Crownstones”.&lt;/p&gt;

&lt;p&gt;In the entities section, select the Crownstones you want to add to the overview. All Crownstones are represented as lights in Home Assistant. So if you have a Crownstone named “charger”, your Crownstone will be called “light.charger” and will have the following icon:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAoutleticon.png&quot; alt=&quot;Home Assistant Outlet Icon&quot; /&gt;&lt;/p&gt;

&lt;p&gt;See the image below for an example of how to represent your Crownstones in the Home Assistant overview!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAcard.png&quot; alt=&quot;Home Assistant Card&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 10. Complete example Crownstone integration in overview.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/home-assistant/HAcomplete.png&quot; alt=&quot;Home Assistant Completed&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Insight into the Crownstone App.</title>
   <link href="https://crownstone.rocks/nl/2020/07/10/insight-into-the-crownstone-app"/>
   <updated>2020-07-10T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/07/10/insight-into-the-crownstone-app</id>
   <content type="html">
&lt;h1 id=&quot;header-insight-into-the-crownstone-app&quot;&gt;Insight into the Crownstone app&lt;/h1&gt;

&lt;p&gt;In our &lt;a href=&quot;https://crownstone.rocks/2020/07/01/the-magic-of-crownstone-scenarios&quot;&gt;previous post&lt;/a&gt; we started using the Crownstone app by creating scenarios for our home, so it can automatically do things for us based on our wishes. We introduced the concept of &lt;strong&gt;“sphere”&lt;/strong&gt; used in the Crownstone app. This sphere can be for example our house, in which we can group our Crownstones in rooms such as the living room, the bathroom, the bedroom, etc. We also mentioned that after &lt;strong&gt;training&lt;/strong&gt; our crownstones, they will be able to recognize when we enter or leave a room. Awesome, isn’t it? When creating our first two scenarios to automate our home, we used the Crownstone app and experienced how simple and straightforward this process can be. Now, we will provide some basics of the Crowstone app and compare it with other smart home apps, so we can let you know why we are proud of our app. Here we go!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/crownstone_app2.jpg&quot; alt=&quot;Crownstone app&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-the-basics&quot;&gt;The basics&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/crownstone_app1.jpg&quot; alt=&quot;Crownstone app&quot; class=&quot;float-right&quot; style=&quot;max-width: 250px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;First of all, the Crownstone app is designed to give you a warm welcome to home automation. We wanted it to be a very intuitive app that guides you along the journey and gives you lots of &lt;strong&gt;flexibility&lt;/strong&gt; to create the scenarios to automate your home. It lets you add as many rooms to your sphere as you want, add Crowntones to your rooms, add behaviours to every Crownstone, invite more people to your sphere, create scenes (setting multiple Crownstones into a specific behaviour with a single tap), check the real time power usage of each Crownstone, add behaviour to your wall switches, etc. The app  is meant to help you to set up your Crownstones in a very easy way while giving you plenty of room to &lt;strong&gt;personalize&lt;/strong&gt; the behaviour of every Crownstone in your home. We know each of us have different needs and preferences, and that’s why our app’s logic tries to cover different possibilities and considers various situations. In this sense, Crownstone app provides you not only with three types of behaviours (i.e. presence aware, smart timer and twilight mode), but also with additional features such as: energy monitoring, scenes, etc. so you can have a good start to automate your home.&lt;/p&gt;

&lt;p&gt;We want our users to create &lt;strong&gt;scenarios&lt;/strong&gt; and let their home react to them instead of using their smartphone like a remote control for their lights of devices. We believe that a truly smart home has the ability not only to save &lt;strong&gt;energy&lt;/strong&gt;, but also to save user’s valuable &lt;strong&gt;time&lt;/strong&gt;. We prefer our users to be relaxing on the couch with a nice cup of coffee, rather than clicking everywhere on the app to turn the lights on/off. Of course, there might be situations where we need to grab our phone and change the brightness of a lamp, because it is darker than normal. Or maybe we are enjoying a special dinner and we want to create a romantic atmosphere, dimming the lights down low  and turning on some colorful LED  lights. We’ve got your back! The Crownstone app will let you make any change you want in a very easy and fast way.
&lt;img src=&quot;https://crownstone.rocks/attachments/blog/crownstone_app3.jpg&quot; alt=&quot;Crownstone app&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-what-do-we-do-better&quot;&gt;What do we do better?&lt;/h1&gt;

&lt;p&gt;When buying a new dimmer, a smart light, a motion sensor, etc. it is always important to check how well the &lt;strong&gt;app&lt;/strong&gt; that comes together with that hardware works. Maybe the smart lights you want to buy have nice colors and look very fancy or maybe the dimmer that you want to buy has a very tempting discount of 60%. However, the magic stops when the app that comes with those lights or that dimmer does not let you login, keeps closing itself, logs you out every time, does not save the schedules or behaviours that you previously set up, etc. At Crownstone we know that all those inconveniences are far from providing a good user experience. That’s why we work on improving our app and looking for new ways to solve the problems that may arise.&lt;/p&gt;

&lt;p&gt;Let’s take a look at the &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.dlink.mydlinkmyhome&amp;amp;hl=en_US&quot;&gt;mydlink Home app&lt;/a&gt;. Most of the problems in this app are related to reliability. For example, the app crashes and the user is logged out accidentally. These inconveniences are problematic because the very goal of the smart home experience is to make the life of the user easier. Worse, if the login mechanism contains bug, you might not be able to login at all. In such a case you can’t control your smart plug(s). You might call this “bricking” even though there’s nothing wrong with the software on the devices themselves. So, how does Crownstone deal with these problems? The Crownstone app avoids logging out the user every time by storing the credentials (email and the hash of the password) in a safe place. They can be used for logging in automatically in case a user’s token expires. Of course a user can still log out whenever they wish to do so with a simple log-out button. Regarding an app crashing: we all know that there is a small chance that this happens. At Crownstone we monitor app crashes and our developers are actively engaged in email conversations with users/reporters whenever a user lets us know.&lt;/p&gt;

&lt;p&gt;Now, let’s consider the &lt;a href=&quot;https://apps.apple.com/us/app/eaton-halo-home/id1313470202&quot;&gt;EATON Halo Home app&lt;/a&gt;. There are two main problems  with this app: it deletes the behaviors and/or schedules that the user has previously made, and the time between the trigger event and the response from the smart device is quite large. These problems can be related to each other. Why? If an app uses the cloud, then every request the user makes (entering or leaving a room, toggling a button directly in the app, etc.) needs to perform a “roundtrip” through the internet. If an app uses a hub, the hub has to be available on the local network. In both cases, it takes longer for the device to respond. It is slower to respond to an enter or exit “event”. It is also slower to respond to a user toggling a button in the smartphone app. Crownstones broadcast directly to smartphones. Smartphones also broadcast directly to Crownstones. This means response times are very short. Moreover, Crownstone does not rely on communication for its automation. In our case, the behavior is stored directly on the Crownstones themselves. Even if a Crownstone finds itself in complete isolation it will know what to do because it remembered it for you!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/crownstone_app4.jpg&quot; alt=&quot;Crownstone app&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;At Crownstone we understand that there is no perfect hardware or software. However, there is always room for improvement. Our Crownstones and our app are made around the core idea: &lt;strong&gt;indoor positioning&lt;/strong&gt; is the key enabler for true home automation. Subsequently, automation gives our users comfort, safety, and saves our users time, energy, and money. 
It can be difficult to compare among several products. Key take-away is that for buying something for your smart home you should not only consider the physical product, the &lt;strong&gt;hardware&lt;/strong&gt;, itself. It is just as important to look at the app behind that product, the &lt;strong&gt;software&lt;/strong&gt;. If you buy fancy smart lights but the app does not work as it is supposed to do, then you won’t benefit from the smartness of those lights. If you buy a smart plug, but, for instance, the app deletes the schedules that you configured or crashes every time, you just bought an annoying product, or worse, a fancy paperweight. At Crownstone our focus is on software just as much as on the hardware. We are dedicated to improve the functionality and performance of our Crownstones devices and our Crownstone app every day. We believe that the overall experience we provide to our customers is what will make you really happy.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>The magic of Crownstone scenarios.</title>
   <link href="https://crownstone.rocks/nl/2020/07/01/the-magic-of-crownstone-scenarios"/>
   <updated>2020-07-01T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/07/01/the-magic-of-crownstone-scenarios</id>
   <content type="html">
&lt;h1 id=&quot;header-the-magic-of-crownstone-scenarios&quot;&gt;The magic of Crownstone scenarios&lt;/h1&gt;

&lt;p&gt;We &lt;a href=&quot;https://crownstone.rocks/2020/06/22/automation-the-key-ingredient-for-a-truly-smart-home&quot;&gt;previously mentioned&lt;/a&gt;
that the key ingredients to create a scenario are four: &lt;strong&gt;preferences&lt;/strong&gt;, &lt;strong&gt;time&lt;/strong&gt;, &lt;strong&gt;place&lt;/strong&gt; and 
&lt;strong&gt;presence&lt;/strong&gt;. Each of them are necessary for our house to know what needs to be done, how we want it to be done and when we want that to happen. Now that we know that &lt;strong&gt;home automation&lt;/strong&gt; is needed for a truly smart home experience, we can just simply create scenarios for our home, so it can do things automatically for us based on our wishes. We will introduce two useful scenarios that will help you with automating your home and save you some time. Let’s start!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/scenarios2.jpg&quot; alt=&quot;Smart home&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-how-to-start&quot;&gt;How to start?&lt;/h1&gt;

&lt;p&gt;With Crownstone, creating scenarios is really easy and straightforward thanks to the &lt;strong&gt;Crownstone app&lt;/strong&gt; and indoor localization. As mentioned in our previous post, indoor localization is Crownstone’s secret ingredient used to detect if you’re in a certain room. It allows your lights and devices to immediately react upon your presence. One basic concept the Crownstone app introduces is the &lt;strong&gt;sphere&lt;/strong&gt;. A sphere is a &lt;strong&gt;connected group&lt;/strong&gt; of Crownstones. 
A sphere can for example represent your home or your office. Taking your home as a sphere, you can arrange the Crownstones of that sphere into different “rooms”. In this sense you can include your living room, kitchen, bathroom, bedroom, etc. into your home sphere.
After assigning Crownstones to a specific room, you need to let them know how to &lt;strong&gt;recognize&lt;/strong&gt; that you are in that room. For this, you press the &lt;strong&gt;training icon&lt;/strong&gt; in the app and then you walk around your room for around 30 seconds. Now your Crownstones will be able to recognize when you are present in that room. Once you finish this task, you can start creating your first scenario!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/scenarios_livingroom.jpg&quot; alt=&quot;Sunset scenario&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-sunset&quot;&gt;Sunset&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/scenarios_screenshot1.jpg&quot; alt=&quot;Sunset scenario screenshot&quot; class=&quot;float-right&quot; style=&quot;max-width: 250px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;One task with which Crownstones can help, is to turn on the lights when it starts to get dark. 
The more lights we have, the nicer it will be to automate this. Moreover, we do not need to worry about the location of lights switches: we can place a cabinet there! We do not need to crawl behind the couch if we’ve a switch at a difficult to reach location. When we are reading a book, we do not need to walk around and our flow is not interrupted. Moreover, if we like our lights at different levels of brightness we only need to configure them once.&lt;/p&gt;

&lt;p&gt;Of course, we can do this ourselves, but there’s no need to force yourself to do this every night! A “semi” smart home with a voice assistant or smart home app is already a step forward, but now you are still forced to set the lights every night. This can all be avoided by using the automated Crownstone sunset scenario.&lt;/p&gt;

&lt;p&gt;The sunset scenario will turn on the lights &lt;strong&gt;at sunset&lt;/strong&gt; and when you are &lt;strong&gt;present&lt;/strong&gt; in the room. Note, that if your home does not know your location, this can’t work! For this, you need presence-aware behaviour.
In the app select the Crownstone you’d like to exhibit sunset behaviour and specify the brightness at which you want your lights to be turned on. Next, specify the room in which someone needs to be present for this Crownstone to react to. Finally, pick a time at which you want this behaviour to occur. You can for example configure it to be 30 minutes before sunset. In the example in the figure, we set the lights to be dimmed at 70% while it is dark outside.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/scenarios_baby.jpg&quot; alt=&quot;Sleeping baby scenario&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-sleeping-baby&quot;&gt;Sleeping baby&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/scenarios_screenshot2.jpg&quot; alt=&quot;Sleeping baby scenario screenshot&quot; class=&quot;float-right&quot; style=&quot;max-width: 250px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For our second scenario, let’s say that you have a baby at home. When the little one is sleeping at night, sometimes you might want to enter the room to check if everything is fine. Of course you don’t want to interrupt his pleasant sleep. Therefore, requesting Google or Alexa to turn on the lights is not the ideal situation here. Also, turning on the lights with 100% brightness might wake up your baby! So, how can Crownstone help you? You can create a “sleepy baby” scenario by using indoor localization and twilight mode.&lt;/p&gt;

&lt;p&gt;For this scenario, the Crownstones in the baby room can be set to be presence-aware like above, but it doesn’t need to be presence aware! Of course, you can turn on the lights automatically when you enter the room. However, there is another option as well. This is called the &lt;strong&gt;twilight mode&lt;/strong&gt;. The twilight mode makes your ordinary light switch smart (if it is configured with 
&lt;a href=&quot;https://crownstone.rocks/installation/#header-switchcraft-installation&quot;&gt;switchcraft&lt;/a&gt;). Now, when you flip the switch at night, the lights are dimmed! In the app you can configure the Crownstones using this twilight mode as a “behaviour” option per Crownstone. 
Your baby can keep dreaming peacefully!&lt;/p&gt;

&lt;h1 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;As previously mentioned, Crownstones together with the Crownstone app allow you to create useful scenarios in a simple and straightforward manner. Once scenarios are created, just let the magic happen and enjoy your comfortable, smart home. Take advantage of the indoor localization function and make your life a bit easier step by step.&lt;/p&gt;

&lt;p&gt;If you have a question on this or other home automation scenarios, add a comment or send us an email. We like to hear your ideas!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Automation: the key ingredient for a truly smart home!</title>
   <link href="https://crownstone.rocks/nl/2020/06/22/automation-the-key-ingredient-for-a-truly-smart-home"/>
   <updated>2020-06-22T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/06/22/automation-the-key-ingredient-for-a-truly-smart-home</id>
   <content type="html">
&lt;h1 id=&quot;header-problems-with-current-smart-homes&quot;&gt;Problems with current “smart” homes&lt;/h1&gt;

&lt;p&gt;For a truly smart home experience, home automation is needed.  Home automation allows your home to do things for you automatically, based on your desires. So why do we need home automation and how is this possible?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/truly_smart_12.png&quot; alt=&quot;A truly smart home&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Some of us have heard hundreds of possibilities to switch or dim lights via an app on our smartphone. However, the use of the smartphone can actually slow down stuff. Why? Well, first of all you need to grab your phone, then unlock it with a password, some digits, drawing pattern, or your beautiful face. After this, you need to look for the given smart home app, open it, and then look for the room and/or light(s) that you wish to turn on/off or dim, and finally you tap that “magic” button in the app to accomplish your goal. Yay!? That doesn’t sound smart at all right? The same problem occurs when we use a virtual assistant instead. At the end you have to switch the lights yourself, or you have to tell your virtual assistant to do it for you. Another example that shows us that our home is not really smart is when we add some fancy color lights that are said to be “smart”. However, the magic comes to an end when our normal switches do not work anymore.&lt;/p&gt;

&lt;p&gt;Of course the situations mentioned above are not showing what a real smart home is about. For that, we need to include home automation. This means that among other things, our house needs to be able to turn the lights on/off by itself according to our preferences and only when some conditions are fulfilled. This is possible to do when we use a home automation scenario.&lt;/p&gt;

&lt;h1 id=&quot;header-scenarios-for-home-automation&quot;&gt;Scenarios for home automation&lt;/h1&gt;

&lt;p&gt;You can automate your home, by creating &lt;strong&gt;scenarios&lt;/strong&gt;. A scenario can be seen as a recipe for your house. It is a set of rules that your house will follow and react to. Such rules are very simple to create. You only need to do this once and will benefit from them for years! 
Each of us have different desires and needs. For example, some people like to be in a room with bright lights, nice music in the background and at a temperature of 18°C. However, some others might prefer a more quiet room with less bright lights and at a warmer temperature. 
There are four factors that your home needs to make it a truly smart home: Your &lt;strong&gt;preference&lt;/strong&gt; combined with a specific &lt;strong&gt;time&lt;/strong&gt;, &lt;strong&gt;place&lt;/strong&gt; and &lt;strong&gt;presence&lt;/strong&gt;. Those four factors together create a scenario.&lt;/p&gt;

&lt;p&gt;Nowadays, there are many devices available that can help you with the first ingredient: &lt;strong&gt;preferences&lt;/strong&gt;. If we want to buy some fancy lights or some color lights for our parties, then we can search online and see an enormous range of possibilities. That’s not a problem, of course! For the second ingredient, the &lt;strong&gt;time&lt;/strong&gt;, we can think of it not only as an exact moment (i.e. at 6:00 am, at sunset, on Mondays, in the weekends…), but also as a trigger event. For example, when saying: “Hey Google, do this…”, “Alexa, do that…”, or simply by getting our phone to manually turn on/off something. Here, we see already a contrast with automation. To perform an action through a voice assistant is more cumbersome than the lights turning on automatically when it is getting dark.&lt;/p&gt;

&lt;p&gt;Now, let’s go to the third and fourth ingredient: &lt;strong&gt;place&lt;/strong&gt; and &lt;strong&gt;presence&lt;/strong&gt;. Think about turning on the lights in a room only if someone is present, or turning off the lights in a room when no one is in there.  For this we might have heard of some motion sensors that turn on the lights when movement is detected, but here comes a problem… If no further movement is detected, then the lights will turn off. Keeping moving  is not always possible when we are under a warm blanket watching TV or peacefully reading a book, or for instance when we are doing our needs in the bathroom, and especially if the sensor is at a certain height which is not possible to reach even if we extend our arm as much as we can… I know it sounds worrying, but let’s keep calm because Crownstone has the solution for this!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/truly_smart_15.png&quot; alt=&quot;A truly smart home&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-how-does-crownstone-contribute-to-home-automation&quot;&gt;How does Crownstone contribute to home automation?&lt;/h1&gt;

&lt;p&gt;Crownstones have the ability to detect when someone enters or leaves a specific room, or when someone is or is not in the house. This is possible because of Crownstone’s secret ingredient: indoor positioning, which means that Crownstones can immediately react upon your presence. Thanks to this unique characteristic, you would be able not only to turn on and off your lights by entering or leaving a room, but also to switch off energy-hungry devices automatically when you leave a room and they don’t need to be on.  This is what is called home automation: when the user does not need to press a button of a remote control to turn something on or off, when the user does not need to create the perfect atmosphere every time with an App on his smartphone, or when the user does not need to tell the virtual assistant every time to turn the lights on when entering a room and it is dark outside.&lt;/p&gt;

&lt;h1 id=&quot;header-creating-a-scenario-for-your-smart-home&quot;&gt;Creating a scenario for your smart home&lt;/h1&gt;

&lt;p&gt;Imagine that you are on your couch reading a book. After some time of pleasant reading, the light of the sun won’t be enough for you to be able to go further with the next pages. In a “dumb” home  you would have to interrupt your reading, and get to the wallswitch to turn on the lights. In a “semi” smart home you would have to either grab your phone and open an App to manually turn your lights on or say something like: “Hey, Google turn on the lights in the living room” or “Alexa, turn on lights”. However, in a real smart home, you don’t have to do that!
You can just simply create an scenario such as the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Preference&lt;/strong&gt;: turn on the reading lamp at 80% and the other lamps at 50%&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Time&lt;/strong&gt;: 1 hour before sunset&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Place&lt;/strong&gt;: in the living room&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Presence&lt;/strong&gt;: if someone is in the room&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Good, welcome to home automation! That is how scenarios can be created specially for your home. In the previous scenario each and every element is vital for it to work. You can clearly see that without the presence factor, it does not have the same effect, why would your lights be turned on if no one is in the room? Of course it doesn’t make sense!  In home automation, the conditionals based on presence are the key for the success of many scenarios. Those conditionals  let you finetune your scenarios so they work exactly how you want to.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/truly_smart_13.png&quot; alt=&quot;A truly smart home&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;Home automation is the key for a truly smart home experience. There can be many products out there that claim to provide you with that experience. However, the real experience cannot be achieved without Crownstone’s secret ingredient: &lt;strong&gt;indoor positioning&lt;/strong&gt;. We just saw how important it is to include the presence awareness when making a scenario for your smart home. Crownstone provides you with the ability to create a scenario with the four characteristics: preferences, time, place and presence. It doesn’t matter if you are just starting to look for smart home solutions or if you already have some experience in the field. Crownstone will always help you with creating the scenarios you need to provide you with a truly smart home experience.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Bluetooth for proximity detection.</title>
   <link href="https://crownstone.rocks/nl/2020/05/06/bluetooth-for-proximity-detection"/>
   <updated>2020-05-06T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/05/06/bluetooth-for-proximity-detection</id>
   <content type="html">
&lt;h1 id=&quot;header-bluetooth-for-proximity-detection&quot;&gt;Bluetooth for proximity detection&lt;/h1&gt;

&lt;p&gt;Crownstone is a company that has years of experience with indoor localization using Bluetooth Low Energy (Bluetooth LE). 
With the current spread of the Covid-19 disease, it is intended to roll out so-called &lt;strong&gt;contact tracing&lt;/strong&gt; apps. Its
aim is to collect knowledge about contact events. There is a time window in which the SARS-CoV-2 virus 
can transmit from one person to the other when they are in each other’s physical proximity. The proximity between two smartphones
can be used as a proxy to the proximity of people. To the astute observer, yes, this does take into account neither
surface contamination, nor the ability of a virus to remain floating in the air for longer times. It is an
&lt;strong&gt;approximation&lt;/strong&gt; of the risk of infection.&lt;/p&gt;

&lt;p&gt;On personal title Anne has already describe a few of the challenges that the use of Bluetooth LE 
&lt;a href=&quot;https://www.linkedin.com/pulse/covid-19-bluetooth-tracking-anne-van-rossum&quot;&gt;implies&lt;/a&gt;. At Crownstone, one of our
core values is &lt;strong&gt;transparency&lt;/strong&gt;. For that reason &lt;strong&gt;privacy&lt;/strong&gt; is a very important right to us. However, we won’t touch
that topic here. For starters, it is important that a technical solution &lt;strong&gt;works&lt;/strong&gt;. Let us illustrate this with a 
short parable. If cameras would be deployed to &lt;strong&gt;recognize bike theft&lt;/strong&gt;, but there are reasons to 
assume that the computer vision algorithms won’t work, it is important to listen to those “annoying techies”. If it does
not work, it does not work…&lt;/p&gt;

&lt;h1 id=&quot;header-bluetooth-le&quot;&gt;Bluetooth LE&lt;/h1&gt;

&lt;p&gt;The Bluetooth LE packets are sent using a Bluetooth chipset and radio on your smartphone. On an iPhone or Android
this can e.g. be the Broadcom BCM43xx family (read this &lt;a href=&quot;https://blog.exodusintel.com/2017/07/26/broadpwn/&quot;&gt;story&lt;/a&gt; from
a reverse engineer to learn much more). The radio broadcasts signals through an antenna. Those radio waves can be 
modelled by a program like that of &lt;a href=&quot;https://www.comsol.nl/&quot;&gt;Comsol&lt;/a&gt;. The performance is typically analyzed with
a Smith chart (impedance), return loss diagram (bandwidth), and so on. Below you can see two figures at a state where we
were still tuning the antenna together with the Van Mierlo engineers.&lt;/p&gt;

&lt;div style=&quot;display: flex; align-items: center; justify-content: center;&quot;&gt;
  &lt;div style=&quot;flex: 50%; padding: 5px;&quot;&gt;
    &lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/smith_chart_impedance.png&quot; alt=&quot;Smith chart&quot; title=&quot;Smith chart&quot; /&gt;&lt;/p&gt;
  &lt;/div&gt;
  &lt;div style=&quot;flex: 50%; padding: 5px;&quot;&gt;
    &lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/antenna_bandwidth.png&quot; alt=&quot;Antenna bandwidth&quot; title=&quot;Antenna bandwidth&quot; /&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&quot;header-orientation&quot;&gt;Orientation&lt;/h2&gt;

&lt;p&gt;We decided in the end to use a different antenna. The details of this ProAnt OnBoard SMD 2400 Antenna (PRO-OB-440) can be found in the &lt;a href=&quot;https://crownstone.rocks/attachments/hardware/proant_onboard_smd_2400_datasheet.pdf&quot;&gt;datasheet&lt;/a&gt; and &lt;a href=&quot;https://crownstone.rocks/attachments/hardware/proant_onboard_smd_2400_application_note.pdf&quot;&gt;application note&lt;/a&gt;.&lt;/p&gt;

&lt;div style=&quot;display: block&quot;&gt;
  &lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/antenna_design_new.png&quot; alt=&quot;Antenna design&quot; title=&quot;Antenna design&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/blog/antenna_polarization.png&quot; alt=&quot;Antenna polarization&quot; title=&quot;Antenna polarization&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;You see how the orientation of the antenna has influence on the radiation pattern. This is very typical of antennas
and they differ in how “spherical” the pattern is. You see that it’s even different for horizontal polarization (HP) versus vertical polarization (VP).&lt;/p&gt;

&lt;p&gt;One of the interns at Crownstone studied these effects in detail. For example, here you see the antenna aspects of multiple phone models in an indirect manner, namely through the signal strength
values with which the phones registers the strength of the incoming message.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/multiple_phones.png&quot; alt=&quot;Multiple Phones&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now we rotate the phone and we see completely different distributions.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/multiple_phones_orientation.png&quot; alt=&quot;Multiple Phones with different Orientation&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The Bluetooth spectrum runs from 2402 MHz up to 2480 MHz and is divided into 40 channels. The channels used for
the Bluetooth LE advertisers in these applications are 37, 38, and 39. To best cope with interference they are spread
very widely, the first channel at the beginning, the second somewhere in the middle, and the third at the end of the
spectrum. Each channel comes with different properties and that is very clearly visible in the pictures of above.
&lt;strong&gt;Orientation&lt;/strong&gt; has a lot of impact on the signal strengths per &lt;strong&gt;individual channel&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;A potential benefit of Apple and Google writing their own code would be that they can make use of this information.
That this will be done is very unlikely. Yes, the information can be used to improve distance estimates, but it takes
considerable engineering effort to do this over all possible phone types, antenna configurations, and the presence
of covers, headphones, or battery packs outside of a lab setting.&lt;/p&gt;

&lt;h2 id=&quot;header-obstructions-and-reflections&quot;&gt;Obstructions and reflections&lt;/h2&gt;

&lt;p&gt;A radio signal does not only travel in a straight line. For OpenTrace, the reference implementation of BlueTrace, the
protocol underlying the TraceTogether app from Singapore, there has been some good work on &lt;a href=&quot;https://github.com/opentrace-community/opentrace-calibration/files/4499313/Coronavirus.COVID-19.-.Calibration.Method.and.Proximity.Accuracy.-.EN.pdf&quot;&gt;calibration (pdf)&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is not hard to imagine that messages from a smartphone in a pocket or handbag are received at lower signal strengths
than if they do not have to &lt;strong&gt;penetrate&lt;/strong&gt; to those materials. There are other aspects that are relevant to indoor
situations and to moving objects. Indoors the signal can be reflected on surfaces. The combined signal at the receiver
can sum up to be large due to those reflections. This &lt;strong&gt;multi-path attenuation&lt;/strong&gt; will give results where it seems someone
is closer than they actually are. Similarly, with particular phase difference, reflections subtract from the 
received signal power. When two people are walking phase shifts change continuously and have to be taken into account.
In this article it states that the &lt;strong&gt;fading&lt;/strong&gt; effects cannot be neglected, at least for moist ground when there’s ample
reflection.&lt;/p&gt;

&lt;p&gt;To understand the impact of people themselves, a study by another intern at Crownstone might be enlightening. We already
knew that there were many aspects that were influencing received signal strengths. Hence, we thought how to make use
of that, rather than see it as an enemy. The question rose: If we carefully monitor signal strengths, can we derive information on walls,
doors, or people? The latter we called &lt;strong&gt;device-free localization&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/shadowing_person.png&quot; alt=&quot;Influence of a person&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this graph a &lt;strong&gt;shadowing effect&lt;/strong&gt; is shown. The received signal strengths are monitored between two Crownstones facing
each other. A person walks through the “virtual beam” of communicating Bluetooth LE messages. You see a drop due to
this shadowing effect. The signals do not pass through the person for a short period.&lt;/p&gt;

&lt;p&gt;That shows how good our body is in being an impenetrable barrier for Bluetooth signals. If your phone is in front of
your body, the signals received at your back will be much and much weaker than the ones in the front.&lt;/p&gt;

&lt;h1 id=&quot;header-how-then-does-crownstone-do-it&quot;&gt;How then does Crownstone do it?&lt;/h1&gt;

&lt;p&gt;If this all is so hard, how come Crownstone’s system works? There are two reasons for this: (1) the use of multiple
Crownstones, and (2) self-learning algorithms.&lt;/p&gt;

&lt;h2 id=&quot;header-use-of-multiple-crownstones&quot;&gt;Use of multiple Crownstones&lt;/h2&gt;

&lt;p&gt;At Crownstone we can quite accurately pinpoint the location of a user, but for that we use the signal strengths of
messages that arrive from multiple Crownstones. We combine those with algorithms to derive the location of a user.
If you place the Crownstones very close together you can get extremely high accuracies. Bluetooth LE accuracy is
therefore not just depending on the signals itself. If you have multiple of those signals you can learn much better
if someone is nearby.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/ZtnYH53A4zE?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;The above movie shows a demo where the position is estimated at a level of centimeters rather than meters. Note that
this requires a high density of Crownstones. It is not practical in the real world!&lt;/p&gt;

&lt;h2 id=&quot;header-self-learning&quot;&gt;Self-learning&lt;/h2&gt;

&lt;p&gt;Another aspect why the Crownstone system works, while contact tracing is much more difficult, is the fact that it is
self-learning. The Crownstones - because every phone can be different - ask for the help of the user. The 
Crownstone’s AI on the phone asks the user to walk around in a casual way, e.g. with the phone in their pocket or in 
their hand. During this process it collects all signal strengths while the user stays in the same room. After this
learning process, the system generates a &lt;strong&gt;fingerprint&lt;/strong&gt; of the room. At a later stage, when a particular pattern of 
signals is seen, it is matched with the fingerprints and the classifier outputs the most reasonable guess for the 
current room.&lt;/p&gt;

&lt;p&gt;A system like this won’t work for contact tracing. It can be done in the lab, with contact events 
simulated by people passing each other. However, this information is hard to obtain from the field, especially given
privacy constraints.&lt;/p&gt;

&lt;h1 id=&quot;header-summary&quot;&gt;Summary&lt;/h1&gt;

&lt;p&gt;There are many other technical and operational facets as well, as already described in &lt;a href=&quot;https://www.linkedin.com/pulse/covid-19-bluetooth-tracking-anne-van-rossum&quot;&gt;this post&lt;/a&gt;. 
For example: the ability of Bluetooth LE signals to travel through walls, through ceilings, through glass. Another example: the difficulty of taking
3D into account. Imagine a flat with the upstairs neighbour only two or three meters away. Think of someone
sitting on a balcony and someone walking by. There are also considerations with respect to the smartphones themselves
from allowing processes to run Bluetooth in the background (one of our most popular &lt;a href=&quot;https://crownstone.rocks/2018/06/27/ios-advertisements-in-the-background&quot;&gt;technical posts&lt;/a&gt;).
The TraceTogether app for example asks iPhone users to run the app in the foreground and upside down.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/trace_together_upside_down.png&quot; alt=&quot;TraceTogether upside down&quot; /&gt;&lt;/p&gt;

&lt;p&gt;There are also tradeoffs between scanning, advertising, key rotation, and battery consumption. There are even questions of
efficacy: contacts happen between &lt;strong&gt;two&lt;/strong&gt; parties. Both have to have a system that works properly. If 60% of the people
(that’s a lot!) install the app, we have only 0.6 times 0.6 = 36% of the potential contact events covered.
If the app works for 80% of those people (questionable) this drops to the square of (0.6 * 0.8) = 23%. If the 
detection rate is 80% (questionable high as well) it drops even lower. Note that in the true world, there are false negatives besides false 
positives, which can strong demotivate people as well. If you get a warning that you were close to someone infected
every day, it will not work.&lt;/p&gt;

&lt;p&gt;There is very little reason to assume that this is the right technology for the job. There can be many ways in which
technology helps in this crisis though. Let us all be creative and &lt;a href=&quot;https://www.linkedin.com/pulse/app-tunnel-vision-anne-van-rossum/&quot;&gt;find those ways&lt;/a&gt;!&lt;/p&gt;

&lt;h1 id=&quot;header-references&quot;&gt;References&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Indoor Localization using BLE (&lt;a href=&quot;https://crownstone.rocks/attachments/internships/tomvandijk.pdf&quot;&gt;pdf&lt;/a&gt;) by T. van Dijk.
Faculty of Mechanical, Maritime and Materials Engineering (3mE)·Delft University of Technology.&lt;/li&gt;
  &lt;li&gt;Translating BLE Received Signals across different Smartphones (&lt;a href=&quot;https://crownstone.rocks/attachments/internships/dimitrisxenakis.pdf&quot;&gt;pdf&lt;/a&gt;) by D. Xenakis.
Geomatics for the Built Environment, Delft University of Technology.&lt;/li&gt;
  &lt;li&gt;Contact Tracing Coronavirus COVID-19 - Calibration Method and Proximity Accuracy 
(&lt;a href=&quot;https://github.com/opentrace-community/opentrace-calibration/files/4499313/Coronavirus.COVID-19.-.Calibration.Method.and.Proximity.Accuracy.-.EN.pdf&quot;&gt;pdf&lt;/a&gt;)
by H.J. Meckelburg. Rurh-Univerität Bochum.&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Crownstone New Behaviour.</title>
   <link href="https://crownstone.rocks/nl/2020/03/04/crownstone-new-behaviour"/>
   <updated>2020-03-04T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2020/03/04/crownstone-new-behaviour</id>
   <content type="html">
&lt;h1 id=&quot;header-new-behaviour&quot;&gt;New Behaviour!&lt;/h1&gt;

&lt;p&gt;Crownstone releases today a complete revamp of the software. If you have bought Crownstones, they will have become smarter again (after running the update of course)!&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Your house can now react very flexible to your presence.&lt;/li&gt;
  &lt;li&gt;There is a twilight mode to dim your lights when turned on at night!&lt;/li&gt;
  &lt;li&gt;Your Crownstones got new abilities that you can enable.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-from-triggers-to-state&quot;&gt;From Triggers to State&lt;/h1&gt;

&lt;p&gt;Crownstone worked last months on the new Crownstone Built-in One hardware, integration with Bluetooth Mesh, removal of connection delays, and implementing switchcraft. Now we come with a much more flexible way to make your smart home respond to you!&lt;/p&gt;

&lt;p&gt;The indoor localization deployed by Crownstone previously listened only to triggers. With this, the home could respond to events like “enter home”, “exit home”, “enter room”, and “exit room”. You could also specify that this would only happen when it was dark outside. Hence, when you came home and it was dark, the lights could go on. However, this is not smart enough yet.&lt;/p&gt;

&lt;p&gt;What we actually want is a scenario like this one: &lt;strong&gt;The lights go on when it gets dark while we are in the living room&lt;/strong&gt;. The Crownstones should check the time of day and react to someone’s presence even if a person is just sitting quiet in a room.&lt;/p&gt;

&lt;p&gt;Another disadvantage of triggers has to do with multiple people in the same household. There can be &lt;strong&gt;multiple exit&lt;/strong&gt; events. This makes it hard. When should you actually turn off the lights when everybody is gone? The Crownstones can’t just react to the event itself. This is why reasoning with states leads to a much better user experience.&lt;/p&gt;

&lt;p&gt;The new software version enables the Crownstones to have behavioural rules that depend on states as well as triggers. All this sounds very complex. We had to think thoroughly on how to present this to our users. The complex combination of schedules, timers, indoor localization, and other smart features we all collected it under the concept &lt;strong&gt;Behaviour&lt;/strong&gt;. These can be set up by something that looks like &lt;strong&gt;hyperlinks&lt;/strong&gt;: clickable phrases in a sentence.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/app_behaviour.png&quot; alt=&quot;Picture&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At the Behaviour screens you can define when and how you want your house to respond to you. This can be based on sunrise, sunset, or wall clock time. Moreover, your smart home will respond to your presence much faster than it did before (it is using encrypted broadcasts rather than connections). It will also be more reliable and easier on your phone’s battery. Most importantly, it will take into account the locations of others in your household.&lt;/p&gt;

&lt;p&gt;Click for example on “somebody” to change it to “nobody” and you can set rules that only switch “on” or “off” when nobody is around. Or click on “kitchen” to change it to another room or the entire house. Or click on “while it’s dark outside” to change it to a fixed time period.&lt;/p&gt;

&lt;h1 id=&quot;header-babysitters-and-parties&quot;&gt;Babysitters and parties!&lt;/h1&gt;

&lt;p&gt;Suppose you have a babysitter and you want to turn the house into a “dumb” house for a while. That’s possible now. There’s a new button in the top right corner of the sphere overview that allows you to quickly enable or disable the presence-based behaviour. This is also convenient if you give a party or in any other situation where people without smartphones are present in your house. Of course, they can use the switches, but you don’t want a room to go dark when you leave!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/app_babysitter.png&quot; alt=&quot;Picture&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-twilight&quot;&gt;Twilight&lt;/h1&gt;

&lt;p&gt;Switchcraft (the use of normal switches parallel to lamps) opens up new possibilities. One of these is the Twilight mode. Twilight allows you to have your Crownstones turn on in a dimmed mode at night. You won’t be “blinded” if you go to the bathroom at night. You simple press the wall switch and it will go on at, say, 40%. This works completely independent of your phone. Your guests will also be able to use the Twilight mode!&lt;/p&gt;

&lt;h1 id=&quot;header-abilities&quot;&gt;Abilities&lt;/h1&gt;

&lt;p&gt;This Crownstone software version (which is 4.0.1 to be specific) also introduces abilities. These are things your Crownstone can do for you. You can choose to enable or disable these. The abilities are currently threefold: dimming, switchcraft, and tap-to-toggle. If for example, a particular lamp cannot be dimmed, you disable the dimming ability. In 2020 you will see the rise of new abilities as well!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/app_abilities.png&quot; alt=&quot;Picture&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For the coming months we have many other features planned for you! For example, currently the rules work with multiple people in a household, but they can’t yet be personalized further. Also, we deployed a server which uses so-called server-sent events as a server push technology. This allows us to have lightweight connections for further integrations. Think of Google Home, Homey, Home Assistant, and other integrations.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Sneak Preview of New Behaviour.</title>
   <link href="https://crownstone.rocks/nl/2019/12/17/sneak-preview-of-new-behaviour"/>
   <updated>2019-12-17T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2019/12/17/sneak-preview-of-new-behaviour</id>
   <content type="html">
&lt;h1 id=&quot;header-sneak-preview&quot;&gt;Sneak Preview&lt;/h1&gt;

&lt;p&gt;The Crownstone Built-in One comes with revamped firmware and allows the user to toggle a light extremely fast. The 
last newsletter explained the sophisticated process with multiple bootloaders and multiple steps to get this 
firmware also to all the Zero generation Crownstones built-ins and plugs in the field. 
Now the time has come for us to make use of this new firmware to provide you with new functions.
The most important functionality we will be adding is the ability to gracefully handle multiple people in a household. 
The complexity of handling this is staggering! We think we are almost there and our group of beta testers will be 
testing this new functionality over the holidays extensively. Below you see a sneak preview of this large update!&lt;/p&gt;

&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;img align=&quot;none&quot; src=&quot;https://crownstone.rocks/attachments/blog/app_behaviour0.png&quot; style=&quot;margin: 0px;&quot; width=&quot;100%&quot; /&gt;
&lt;/td&gt;
&lt;td&gt;
&lt;img align=&quot;none&quot; src=&quot;https://crownstone.rocks/attachments/blog/app_behaviour1.png&quot; style=&quot;margin: 0px;&quot; width=&quot;100%&quot; /&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;At the right you see that there are phrases underlined just like hyperlinks on the internet. By clicking on them you
can alter them, for example you can change “all day” to “while it’s dark outside” if you want a particular Crownstone
only to be on while it is dark outside. To be able to define a rule for “somebody” means that nobody is left in the 
dark anyore.&lt;/p&gt;

&lt;h1 id=&quot;header-company-culture&quot;&gt;Company Culture&lt;/h1&gt;

&lt;p&gt;Often we talk about either smart home technology - its applications, new products - or world-wide smart home
topics - privacy, open-source, sustainability. We rarely talk about Crownstone as a smart home
startup. What is its &lt;strong&gt;vision&lt;/strong&gt;? How do we want to work together to achieve this vision? 
We created a &lt;a href=&quot;https://docs.google.com/document/d/1rhXi-uVL_nNeGsjVHyJq5ORIcF2m5P5FoUzEDoU1kcc/&quot;&gt;document template&lt;/a&gt; to
be reminded of our mission and core values: save people time, encouraging people to go for quality time, and 
operate transparently. Even the existence of this document is a testament to the latter.&lt;/p&gt;

&lt;p&gt;Then, how is it to work at Crownstone?
Even though we do not agree with the ethics of the large IT companies, there are many things we can learn from them as 
a smaller company.
Our meetings are kept to a minimum. A lot of our decisions are through thoroughly worked out documents with cons and
pros. We did not &lt;a href=&quot;https://slab.com/blog/jeff-bezos-writing-management-strategy/&quot;&gt;forbid slides yet&lt;/a&gt;.
We do have an open office space and we might benefit from more uninterrupted 
&lt;a href=&quot;https://blog.nuclino.com/makers-don-t-let-yourself-be-forced-into-the-manager-schedule&quot;&gt;streaks of time&lt;/a&gt;. 
It’s a pity that so many things are still unknown though (read e.g. the &lt;a href=&quot;https://www.independent.co.uk/life-style/health-and-families/office-work-emails-out-of-hours-ban-employees-wellbeing-mental-health-study-a9161311.html&quot;&gt;consequences of an out-of-hours email ban on happiness&lt;/a&gt;).
We are too
small to enforce an API for &lt;a href=&quot;https://medium.com/slingr/what-year-did-bezos-issue-the-api-mandate-at-amazon-57f546994ca2&quot;&gt;every function in our company&lt;/a&gt;,
but we encourage automation in on-boarding, shipping, etc. to give ourselves “quality work time” as well. 
(See us, busy bees working &lt;a href=&quot;https://youtu.be/4SOVV8OK7m8&quot;&gt;on code&lt;/a&gt;.)
We’re convinced this will all improve the quality of our products and our services!&lt;/p&gt;

&lt;h1 id=&quot;header-smarter-homes&quot;&gt;Smarter Homes&lt;/h1&gt;

&lt;p&gt;Our previous email detailed the Crownstone Built-in One, the newest version of our hardware that can be
used in series with a conventional light switch using &lt;a href=&quot;https://crownstone.rocks/installation/&quot;&gt;switchcraft&lt;/a&gt;. We
demonstrated our new hardware on the &lt;a href=&quot;https://www.brightday.nl/&quot;&gt;Bright Day&lt;/a&gt; and the 
&lt;a href=&quot;https://excellentmagazine.nl/woonbeurs/&quot;&gt;Excellent Woonbeurs&lt;/a&gt;. This gave us a lot of opportunity to talk with
people to learn what smart home features are most wished for.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/uWSj61d--ck?color=white&amp;amp;theme=light&amp;amp;title=ck&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;What becomes more and more clear to us, is that there is a large privacy void between American and Chinese companies
that can be filled by customer-centric European companies. One of the questions we got - for example - was if we knew
baby monitors that were developed with privacy in mind. A pretty decent request, upon which we had no
aanswer! Maybe one of you do?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/slide_curtain.jpg&quot; alt=&quot;Slide curtain motor&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We’re always looking for collaborations with hardware manufacturers that have the same vision on privacy (the user
is the owner of their data).
Recently, we talked with &lt;a href=&quot;https://nl.slide.store/&quot;&gt;Slide&lt;/a&gt;, a company that makes motors to control curtains. They
spend a lot of time making it work perfectly for any curtain. Think of all different weights a curtain can have. Think
of sensors to decide to pull harder when necessary. Think of calibrating itself so it also knows when it is half open.
However, most importantly, they are working hard on a local API. This means that no data needs to go “to the cloud”!
It is currently in closed beta, especially due to the fact that the local and cloud authentication mechanisms are
yet incompatible. It looks like a great product to integrate with next year! Tell us what you think!&lt;/p&gt;

&lt;h1 id=&quot;header-what-else-is-happening&quot;&gt;What else is happening?&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Apple has a new &lt;a href=&quot;https://www.apple.com/privacy/&quot;&gt;privacy statement&lt;/a&gt;. Even if Apple’s motivation is to attack Google, the end might justify the means.&lt;/li&gt;
  &lt;li&gt;Github, owned by Microsoft, &lt;a href=&quot;https://github.blog/2019-10-09-github-and-us-government-developers/&quot;&gt;speaking out&lt;/a&gt; against the policies enforced by the U.S. Immigration &amp;amp; Customs Enforcement.&lt;/li&gt;
  &lt;li&gt;Gitlab &lt;a href=&quot;https://gitlab.com/gitlab-org/growth/product/issues/164&quot;&gt;cancels their plans&lt;/a&gt; to track their users.&lt;/li&gt;
  &lt;li&gt;Apple’s treatment of developers &lt;a href=&quot;https://tyler.io/broken/&quot;&gt;can be improved&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;a href=&quot;https://www.eff.org/deeplinks/2019/11/why-adding-client-side-scanning-breaks-end-end-encryption&quot;&gt;EFF&lt;/a&gt; explains why scanning for contraband files on the client side breaks end-to-end encryption.&lt;/li&gt;
  &lt;li&gt;Tracking users by &lt;a href=&quot;https://iq.opengenus.org/audio-fingerprinting/&quot;&gt;audio fingerprinting&lt;/a&gt;. A sad way in which privacy breached in an admittedly innovative manner. It’s a bit like using &lt;a href=&quot;https://www.independent.co.uk/life-style/gadgets-and-tech/news/phone-batteries-can-be-used-to-spy-on-users-tracking-them-around-the-internet-and-ripping-them-off-a7169706.html&quot;&gt;battery level&lt;/a&gt; to implement tracking.&lt;/li&gt;
  &lt;li&gt;Tracking users by &lt;a href=&quot;https://cfenollosa.com/blog/mass-cellphone-surveillance-experiment-in-spain.html&quot;&gt;carriers&lt;/a&gt; on a large scale. All cellphones in Spain for eight days! Note that a SIM card connects to cell towers and conveys your location in a manner that you can not disable. Even when your battery dies you can still be tracked, but that is another &lt;a href=&quot;https://www.bgr.in/news/google-can-track-you-even-when-your-phone-battery-dies-report-598498/&quot;&gt;story&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>The Crownstone Built-in One.</title>
   <link href="https://crownstone.rocks/nl/2019/09/24/the-crownstone-built-in-one"/>
   <updated>2019-09-24T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2019/09/24/the-crownstone-built-in-one</id>
   <content type="html">
&lt;h1 id=&quot;header-crownstone-built-in-one&quot;&gt;Crownstone Built-in One&lt;/h1&gt;

&lt;p&gt;After months and months of hard work by our extended team, Peet van Tooren, Anton Montagne, the engineers from &lt;a href=&quot;https://www.vanmierlo.com/&quot;&gt;Van Mierlo Ingenieursbureau&lt;/a&gt;, 
and many people from the packaging, manufacturing, and certification companies, we present: the &lt;strong&gt;Crownstone Built-in One&lt;/strong&gt;!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/builtin_one.jpg&quot; alt=&quot;Crownstone Built-in One&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So, what’s new with this Crownstone version? Many things!&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The form factor is slightly different to fit (a part of) the utility boxes in Germany.&lt;/li&gt;
  &lt;li&gt;A plastic extrusion near the connectors to reduce metal fatigue due to repeatedly inserting wires.&lt;/li&gt;
  &lt;li&gt;It has larger capacitors, which boost the integrated power supply to allow for switchcraft (see below).&lt;/li&gt;
  &lt;li&gt;A three stage current measurement circuit to reduce (50 Hz) interference.&lt;/li&gt;
  &lt;li&gt;Compatibility with both 110V and 240V, plus both CE and FCC compliance.&lt;/li&gt;
  &lt;li&gt;A ten pins connector for GPIO (for product integration).&lt;/li&gt;
  &lt;li&gt;A metal antenna for a better signal-to-noise ratio across all BLE advertising channels.&lt;/li&gt;
  &lt;li&gt;A thermal fuse across both the IGBTs and the relay.&lt;/li&gt;
  &lt;li&gt;An improved IGBT gate driver to be able to dim more powerful lights.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/builtin_one_closeup.jpg&quot; alt=&quot;Built-in One Close-up&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Read more on the new Crownstone Built-in One on the &lt;a href=&quot;https://crownstone.rocks/built-in-one/&quot;&gt;Crownstone website&lt;/a&gt;. If 
you have the previous edition of the Crownstones, know that you are not left in the cold though! You can seamlessly
use the new and the old Crownstones together.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://shop.crownstone.rocks/products/built-in-crownstone&quot; class=&quot;myButton&quot;&gt;Get the One!&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that you still will be able to use the existing built-in Crownstone, the Crownstone Built-in Zero. Currently, we
are running all kind of compatibility tests. The Crownstone One comes namely with new firmware. One of the most 
interesting features is instant switching via secure broadcasts. The reduced latency is very sweet. For example, when
giving a voice command through Alexa (&lt;a href=&quot;https://www.amazon.co.uk/Crownstone/dp/B07KQ1WC96&quot;&gt;UK&lt;/a&gt;, &lt;a href=&quot;https://www.amazon.de/Crownstone/dp/B07KQ1WC96&quot;&gt;DE&lt;/a&gt;, &lt;a href=&quot;https://www.amazon.com/Crownstone/dp/B07KQ1WC96&quot;&gt;US&lt;/a&gt;), the Crownstone switches before you get the confirmation beep from Alexa! 
In our deep dive on the bootloader (see section below, we will go into details on why this process
takes quite some time).&lt;/p&gt;

&lt;h1 id=&quot;header-technical-dive&quot;&gt;Technical dive&lt;/h1&gt;

&lt;p&gt;Our purpose with Crownstone is to create a product that is seamless in its use. However, to get to a product that can be
used without thought, much thought has to be put into it! Let’s take the opportunity and dive into two technical aspects 
of such a smart product. The first topic is the “bootloader”, the second topic is “dimming”.&lt;/p&gt;

&lt;h1 id=&quot;header-bootloader&quot;&gt;Bootloader&lt;/h1&gt;

&lt;p&gt;Our team is not just the few heads as shown at the bottom of an email like this. There are many people contributing to
our success who can be found on our &lt;a href=&quot;https://crownstone.rocks/team/&quot;&gt;team page&lt;/a&gt;. Naveen has been on our team to work
on the so-called bootloader. On a device like the Crownstone (and on a computer in general) before application code
can run, we need a small program that starts the application. This program &lt;a href=&quot;https://en.wikipedia.org/wiki/Booting&quot;&gt;boots&lt;/a&gt;
the computer. The verb booting seems to refer to the saying “to pull oneself up by one’s bootstraps” and some say it
comes from a story about the fictional &lt;a href=&quot;https://blogs.loc.gov/international-collections/2017/08/the-tall-tales-of-baron-munchausen/&quot;&gt;baron Munchausen&lt;/a&gt; who supposedly pulled himself out of a swamp. The details aren’t right though,
he pulled himself out (including his horse) using his pigtail. Anyway, it’s the code that is started before all the
other code.&lt;/p&gt;

&lt;p&gt;On the Crownstone the bootloader has another very important function. It is able to receive new firmware updates
“over the air”. New functionality can arrive through your smartphone onto the Crownstone device. This process has taken
place already many times before. Now, however, there is an extra obstacle. A major version update (including the
new Bluetooth Mesh)! To update to this new version requires circumventing
technical constraints. For example, the address from which we start the bootloader is fixed. Hence, we need a very 
sophisticated update procedure. Several intermediate bootloaders are required that each lift some of the constraints of 
the older ones. Each time we do want to leave the Crownstone in a bootable state. Quite a challenge! Only when we have
tackled this, the plugs and built-ins in the field can be safely updated. Keep tight!&lt;/p&gt;

&lt;h1 id=&quot;header-dimming&quot;&gt;Dimming&lt;/h1&gt;

&lt;p&gt;There is another challenge that becomes quickly quite technical: &lt;strong&gt;dimming&lt;/strong&gt;. 
Stable dimming on the Crownstone is addressed head on by Aniket. 
There are many ways to dim, it is possible to do so-called pulse width modulation for example. What we use at Crownstone
is so-called phase cutting. This is known as leading or trailing edge dimming. Devices that can benefit from
&lt;a href=&quot;https://www.ecmweb.com/lighting-control/shining-light-dimming&quot;&gt;leading edge dimming&lt;/a&gt; are devices that have wire-wound
transformers. Such loads are inductive: the current lags behind the voltage. A “hard firing” technique makes sure that 
the (inductive) load reaches the device’s current threshold level. In contrast, trailing edge dimming can benefit 
devices that have electronic transformers which are usually capacitive.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/dimmer.png&quot; alt=&quot;Dimmer&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The topic Aniket is working on is general robustness of this phase cutting mechanism. To know when to cut the phase,
the Crownstone has to recognize when there is a so-called zero-crossing. This moment in time is used to define when
the Crownstone is actually on and when it’s off. The zero-crossing needs to be accurately measured, even when there are
measurements errors (in the analog-digital conversion) and in timing (other processes might have
a higher priority to run). The solution direction is to look at the frequency of the grid. This is around 50Hz in the
EU and pretty stable.
Aniket is designing algorithms that take this into account to make sure that we can use a predicted 
zero-crossing time value rather than the actual zero-crossing. The latter is only used to update our estimate of the frequency
(on a longer time scale). For the techies, check &lt;a href=&quot;https://github.com/asamant/bluenet/blob/dimmer-doc/docs/DIMMER_NOTES.md&quot;&gt;this&lt;/a&gt;!&lt;/p&gt;

&lt;h1 id=&quot;header-what-else-is-happening&quot;&gt;What else is happening?&lt;/h1&gt;

&lt;p&gt;A global perspective on our smart homes, our privacy, upcoming artificial intelligence, and what this means for us:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.nngroup.com/articles/computer-skill-levels/&quot;&gt;You are not the user&lt;/a&gt;, only 5% of the population does have good digital skills.&lt;/li&gt;
  &lt;li&gt;Protestors use a &lt;a href=&quot;https://www.bbc.com/news/technology-49565587&quot;&gt;Bluetooth Mesh app&lt;/a&gt;, Bridgefy, to communicate.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://adammunich.com/how-to-repair-the-parts-that-explode-in-lenovo-yoga-laptops/&quot;&gt;Repairing a Lenovo Laptops&lt;/a&gt;. Should we have the right to repair? We think so!&lt;/li&gt;
  &lt;li&gt;Sustainability can be achieved by &lt;a href=&quot;https://www.technologyreview.com/s/613845/the-planet-has-a-fever-and-the-cure-is-more-capitalism-a-prominent-economist-argues/&quot;&gt;more capitalism&lt;/a&gt;, an interesting view on efficiencies, technological progress, etc. on climate change.&lt;/li&gt;
  &lt;li&gt;A (probably unecrypted) backup is stolen with data on 260.000 &lt;a href=&quot;http://www.tellerreport.com/tech/2019-09-19---safe-with-backups-260-000-customers-stolen-from-travel-insurer-allianz-.rkej2eL-DS.html&quot;&gt;Allianz customers&lt;/a&gt;. The question arises: should we have stricter regulations w.r.t. backups?&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-new-team-member&quot;&gt;New team member!&lt;/h1&gt;

&lt;p&gt;We like to welcome Arend de Jonge in &lt;a href=&quot;https://crownstone.rocks/team/&quot;&gt;our team&lt;/a&gt;! As software developer and mathematician 
versed in encryption he will be able to boost our firmware development to new heights. If that does not interest you, 
his work as acrobat might!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Firmware and hardware wizardry.</title>
   <link href="https://crownstone.rocks/nl/2019/05/23/firmware-and-hardware-wizardry"/>
   <updated>2019-05-23T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2019/05/23/firmware-and-hardware-wizardry</id>
   <content type="html">
&lt;h1 id=&quot;header-firmware-wizards&quot;&gt;Firmware wizards&lt;/h1&gt;

&lt;p&gt;For a noob, the code on a device like Crownstone might look like magic spells; the programmer might look like a wizard
including the long hair; the computer like a science-fiction console. However, did you know that as a firmware developer
most of the time is spend on debugging!?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/firmware_developer.png&quot; alt=&quot;Firmware developer&quot; style=&quot;width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This and much more information can be found in this &lt;a href=&quot;https://interrupt.memfault.com/blog/gdb-for-firmware-1&quot;&gt;nice blog post&lt;/a&gt;
on using the gdb tool for debugging Nordic chips. We ourselves spend some time on chasing a bug which has been 
described in our public &lt;a href=&quot;https://github.com/crownstone/bluenet/issues/66&quot;&gt;issue tracker&lt;/a&gt;. It can be summarized as follows:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Crownstone firmware exists out of a bootloader, a radio stack (softdevice), and the application.&lt;/li&gt;
  &lt;li&gt;The bootloader identifies the correctness of the application through a so-called checksum.&lt;/li&gt;
  &lt;li&gt;The binary file created from the so-called &lt;a href=&quot;https://en.wikipedia.org/wiki/Executable_and_Linkable_Format&quot;&gt;ELF&lt;/a&gt; file missed particular sections introduced in newer SDK versions from Nordic.&lt;/li&gt;
  &lt;li&gt;The code dynamically filled in those sections, invalidating the checksum at a second boot.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;An interesting quest to find out that this was happening! So, why did we do all this? The benefit of the new SDK 15 itself
is not so pronounced. However, there is a very good reason to upgrade, namely to incorporate the 
&lt;a href=&quot;https://www.youtube.com/watch?time_continue=1&amp;amp;v=wa_ARkZSr_U&quot;&gt;Bluetooth Mesh&lt;/a&gt;
standard rather than the current OpenMesh implementation.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;It is a better fit for our use case (messaging towards a particular node rather than flooding the network).&lt;/li&gt;
  &lt;li&gt;It is better encrypted. Network encryption besides application keys allow reuse of the mesh across multiple manufacturers.&lt;/li&gt;
  &lt;li&gt;It is easier to extend to new message types.&lt;/li&gt;
  &lt;li&gt;It will (potentially) be directly supported by new smartphone models decreasing latencies.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-hardware-wizards&quot;&gt;Hardware wizards&lt;/h1&gt;

&lt;p&gt;Just as with software, hardware requires its own wizardry. Have you ever wondered how silicon chips actually work? 
At &lt;a href=&quot;https://hackaday.com/2019/05/20/integrated-circuits-can-be-easy-to-understand-with-the-right-teachers/&quot;&gt;hackaday&lt;/a&gt;
the Uncovering the Silicon booth at &lt;a href=&quot;https://makerfaire.com/&quot;&gt;Maker Faire&lt;/a&gt; created macroscale representations of electronic
circuits to easily understand their properties.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/silicon_chips.jpg&quot; alt=&quot;Silicon Chips&quot; style=&quot;width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;One of the gurus who makes you help understand this even better is &lt;a href=&quot;https://www.youtube.com/channel/UCS0N5baNlQWJCUrhCEo8WlA&quot;&gt;Ben Eater&lt;/a&gt;.
Check out Ben’s videos to understand how to create a complete 8-bit computer.&lt;/p&gt;

&lt;p&gt;An interesting component on the Crownstone boards is the so-called MLCC, a multi-layer &lt;a href=&quot;https://en.wikipedia.org/wiki/Ceramic_capacitor&quot;&gt;ceramic capacitor&lt;/a&gt;.
The capacity of such a capacitor is increased by an increase in the number of layers and a decrease in the distance between the electrodes.
To manufacture many thin layers on top of each other is a delicate process and many advances have been made in the recent years. Due to the fact that MLCCs can
be surface-mounted and do not require through-hole soldering they are typically cheaper. In theory! In practice, the market of MLCCs
is in turmoil. There’s a severe &lt;a href=&quot;https://www.iotforall.com/iot-component-supply-shortages/&quot;&gt;MLCC shortage&lt;/a&gt;. 
Electric cars require around 22.000 MLCCs compared to the 3.000 in a combustion engine. More importantly, the 
1.5 billion smart phones produced each year each house up to 1.000 MLCCs! There are Chinese companies &lt;a href=&quot;https://www.theburnin.com/market-watch/mlcc-market-predictions-2019/&quot;&gt;prematurely&lt;/a&gt; hoarding
the components, other companies selling &lt;a href=&quot;https://chip1.com/&quot;&gt;traceability&lt;/a&gt; to counter counterfeits.
What’s also important to note is that the underlying ceramic technology lags behind that of nickel technology (used in 
batteries) which will slow down progress at the manufacturers. The lead times for MLCCs will remain long for quite
some time according to &lt;a href=&quot;https://www.ttiinc.com/content/ttiinc/en/resources/marketeye/categories/passives/me-zogbi-20170602.html&quot;&gt;Dennis Zogbi&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Even for Crownstone as a small player this has consequences, namely for our bill of materials. It’s one of many things
we will take into account when we design new hardware! We won’t be sitting ducks and though of something else as well. 
If you are a master
student in business informatics, we offer an internship 
(&lt;a href=&quot;https://docs.google.com/document/d/1U1_mCueBOET4_dUxCKebBDIzbu2OySQn_nPbggZZEdQ/export?format=pdf&quot;&gt;description, pdf&lt;/a&gt;).
to build a model for electronic components as commodities. You will help us in making our technology and process decisions much stronger!&lt;/p&gt;

&lt;h1 id=&quot;header-electric-cars&quot;&gt;Electric cars&lt;/h1&gt;

&lt;p&gt;Crownstone closely follows other sectors that undergo a process of electrification. No other sector is as volatile
as the car industry nowadays. There are R&amp;amp;D opportunities for Crownstone such as the design of faster charging 
stations. Moreover, the introduction of those “batteries-on-wheels” in our cities will influence the distribution, management,
and control of energy itself. Crownstone’s fine-grained control on a power outlet level can lead to
significant cost benefits to consumer and utility provider alike.&lt;/p&gt;

&lt;p&gt;There are other aspects at play as well. In general (not taken into account tiny components like the MLCCs) 
there are far fewer parts needed for an electric motor compared to a combustion engine.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/car_engine.jpg&quot; alt=&quot;A car engine&quot; style=&quot;width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Quick side note: Check the beautiful animations at &lt;a href=&quot;https://animagraffs.com/how-a-car-engine-works/&quot;&gt;animagraff&lt;/a&gt; if you like to know more!
They have animations on car engines, self-driving cars, mechanical watches, electric cars; a pleasure to look at!&lt;/p&gt;

&lt;p&gt;Fewer parts makes cars cheaper and&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;likely - more robust. There are fewer things to be worn out. Fewer components also means less manufacturing work and - regretfully - 
job losses (75.000 to 210.000 in Germany alone, &lt;a href=&quot;https://www.bloomberg.com/features/2019-bmw-electric-car-german-engines/&quot;&gt;Bloomberg&lt;/a&gt;). 
The reduction in human labor means that the engines become cheaper again. The jobs will
not only disappear at car manufacturers but also in the automotive supply chains. Counterintuitively, it is likely that 
the overall market size of the automotive industry will decrease. This does not even take into considerations the
possibility that the sharing economy takes off with a decreased number of cars per person as well.
Key take-away is that electrification might have a much larger impact on jobs than automation. We might need to tackle this
before “the robots take over”.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-what-else-is-happening&quot;&gt;What else is happening?&lt;/h1&gt;

&lt;p&gt;A global perspective on our smart homes, our privacy, upcoming artificial intelligence, and what this means for us:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.buzzfeednews.com/article/katienotopoulos/facebook-advertisers-data-brokers-car-dealerships&quot;&gt;Facebook&lt;/a&gt; who has your data!?&lt;/li&gt;
  &lt;li&gt;Starting the 1st of July, Dutch companies are obligated to use LED lights. The &lt;a href=&quot;https://www.tweedekamer.nl/kamerstukken/brieven_regering/detail?id=2018Z20512&amp;amp;did=2018D53429&quot;&gt;motion&lt;/a&gt; cites a reduction of 0.9 megaton CO2.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://finance.yahoo.com/news/xcel-energy-end-coal-upper-154800947.html&quot;&gt;Xcel Energy&lt;/a&gt; (3.3M customers) closes two coal plants.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://radar.avrotros.nl/uitzendingen/gemist/item/tv-uitzending-25-02-2019/&quot;&gt;Heat pumps&lt;/a&gt; in the Dutch tv-program Radar got a very bad vibe, but was that 
&lt;a href=&quot;https://www.vakbladwarmtepompen.nl/projecten/artikel/2019/03/warmtepompgebruiker-bij-radar-wat-ging-er-mis-1014414&quot;&gt;justified&lt;/a&gt;?&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/weskerfoot/DeleteFB&quot;&gt;Delete Facebook&lt;/a&gt; posts with a Selenium script.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://microg.org/&quot;&gt;MicroG&lt;/a&gt; re-implements proprietary Android apps as open-source apps.&lt;/li&gt;
  &lt;li&gt;Why open-source firmware is important for security by &lt;a href=&quot;https://blog.jessfraz.com/post/why-open-source-firmware-is-important-for-security/&quot;&gt;Jessie Frazelle&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;A new documentary on the first smartphone, &lt;a href=&quot;https://hyperallergic.com/500449/general-magic-documentary-smartphone-apple-silicon-valley/&quot;&gt;General Magic&lt;/a&gt;, which flopped spectacularly.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ianbicking.org/blog/2019/04/users-want-control-is-a-shrug.html&quot;&gt;Ian Bicking&lt;/a&gt; on what privacy actually means for different people.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-meet-us&quot;&gt;Meet us&lt;/h1&gt;

&lt;p&gt;Reserve the 7th of June in your calendar for our yearly &lt;a href=&quot;https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/events/256744310/&quot;&gt;meetup&lt;/a&gt;.
There’s free food and beer and it’s the perfect opportunity to get hands-on experience with smart home tech!
Also a warm welcome to Teresa who will work on making sure that our smart homes find their new users!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Privacy matters.</title>
   <link href="https://crownstone.rocks/nl/2019/03/07/privacy-matters"/>
   <updated>2019-03-07T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2019/03/07/privacy-matters</id>
   <content type="html">
&lt;h1 id=&quot;header-power-outages&quot;&gt;Power outages&lt;/h1&gt;

&lt;p&gt;When we enter a hotel room in a new country the small changes that normally get unnoticed suddenly get noticed.
Dan Hill describes this in a &lt;a href=&quot;https://medium.com/a-chair-in-a-room/let-there-be-light-switches-4652485e6a7e&quot;&gt;post&lt;/a&gt;
where he cites Timothy Morton: “&lt;em&gt;the light switch seems a little closer than normal, a little differently placed on the wall&lt;/em&gt;”.
Technology should be seamlessly integrated in our environment. Smart lights such as the Philips Hue should not automatically turn
on &lt;a href=&quot;https://www.howtogeek.com/fyi/philips-hue-bulbs-no-longer-turn-on-automatically-after-a-power-outage/&quot;&gt;after a power outage&lt;/a&gt;.
The reason for this peculiar behavior is simple. The Hue lamps behind a switch can be turned off at the switch.
They cannot be used &lt;a href=&quot;https://huehomelighting.com/can-still-use-existing-light-switches-hue/&quot;&gt;simultaneously&lt;/a&gt;.
However, of course we as humans want our light switches to work and be able to control them digitally.
That’s why our &lt;a href=&quot;https://crownstone.rocks/2018/03/13/switchcraft-and-dimming&quot;&gt;switchcraft solution&lt;/a&gt; is not just a nice feature.
Morton describes this in terms from Heidegger (see below): the [behavior of a] light switch should not be &lt;em&gt;vorhanden&lt;/em&gt;, oppressively obvious, but 
&lt;em&gt;zuhanden&lt;/em&gt;, simply ready-at-hand, routine.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/heidegger.jpg&quot; alt=&quot;Heidegger&quot; style=&quot;width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A nice overview about what happens when the power goes out is spelled out at &lt;a href=&quot;https://www.howtogeek.com/403888/what-happens-to-your-smarthome-when-the-power-goes-out/&quot;&gt;howtogeek&lt;/a&gt;.
In summary, it is not so much different from a normal house. Especial care has to be taken of smart locks. The article
uses some handwaving, but the perfect solution has three components: 1) it can be hooked up to the grid for day to day
use, 2) it has a rechargeable battery that allows it to function during a power outage, and 3) it uses &lt;a href=&quot;https://www.iloq.com/en/worlds-first-nfc-powered-lock-invention-turns-phone-also-power-source/&quot;&gt;NFC energy harvesting&lt;/a&gt;
for cases when its battery has run out.&lt;/p&gt;

&lt;h1 id=&quot;header-privacy-matters&quot;&gt;Privacy matters&lt;/h1&gt;

&lt;p&gt;Crownstone’s &lt;a href=&quot;https://crownstone.rocks/ethical-policy/&quot;&gt;ethical policy&lt;/a&gt; states that our users own their own data. 
Yes, if you want to, you can share data online, but this is not done by default. 
How this will impact the decisions of everyday users remains to be seen. 
An interesting experiment - coined &lt;strong&gt;Someone&lt;/strong&gt; - has been performed by &lt;a href=&quot;https://www.engadget.com/2019/02/08/lauren-mccarthy-someone-alexa-artist/&quot;&gt;Lauren McCarthy&lt;/a&gt;,
an assistent professor at the University of California (UCLA). For two hours a day four homes were “live” in the sense
that they could control lights, appliances, etc. by calling for “someone” (people on the internet) in the same way as you would call
Alexa or Google. On the other side, people could act like a human Alexa and monitor the household members. An interesting
observation in the article is that the deep human need to feel understood might be behind our tendency to overshare.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/alias_cover.jpg&quot; alt=&quot;Alias cover for an Alexa or Google Home speaker&quot; style=&quot;width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Another very interesting project is &lt;a href=&quot;https://www.theverge.com/circuitbreaker/2019/1/15/18182214/amazon-echo-google-home-privacy-protection-project-white-noise&quot;&gt;Alias&lt;/a&gt;,
an open-source hardware project that functions as intermediary between you and your smart speaker. It continuously 
broadcasts white noise preventing the smart speaker from hearing anything. As soon as it hears its own wake word it 
wakes up Alexa or the Google Home speaker by playing “Alexa” or “Hey Google” over its internal speakers. After that you
use the system as usual. 
Note that this also protects against &lt;a href=&quot;https://www.nytimes.com/2018/05/10/technology/alexa-siri-hidden-command-audio-attacks.html&quot;&gt;voice attacks&lt;/a&gt;
because now a wake word has to be guessed. Of course, also a particular voice can be trained, which would introduce another 
line of defense. 
The Alias 3D files and software can all be found on &lt;a href=&quot;https://github.com/bjoernkarmann/project_alias&quot;&gt;github&lt;/a&gt;. You can 
train its wake up sentence with anything up to 2 seconds. If you start to experiment with it, be careful not to annoy
your housemates with picking their name!&lt;/p&gt;

&lt;h1 id=&quot;header-lifetimes&quot;&gt;Lifetimes&lt;/h1&gt;

&lt;p&gt;Would there be ways in which we as consumers would benefit from more and more data that gets collected? This &lt;a href=&quot;https://hackaday.com/2019/02/05/what-happened-to-the-100000-hour-led-bulbs/&quot;&gt;hackaday&lt;/a&gt; article 
describes the days from the Phoebus cartel, an international organization formed by the world’s light bulb manufacturers in 1924.
The cartel dictated a 1000 hour bulb life, even though previous bulbs could burn for up to 2500 hours. A documentary, “&lt;a href=&quot;https://www.youtube.com/watch?v=kdHIqa53-tY&quot;&gt;The Light Bulb Conspiracy&lt;/a&gt;”, describes this planned for obsolescence. The question arises, is this still happening? From the article we learn several things. First, the driver circuitry is most often the cause of failure. Second, component lifetime is still our best guess on overall product lifetime (for example the temperature that the caps can withstand). 
How can we counter bad actors? The industry has standards like &lt;a href=&quot;https://www.eetimes.com/document.asp?doc_id=1280235#&quot;&gt;LM-80&lt;/a&gt;, but it does not assess critical aspects like the heat sink, the driver, or the housing. 
If we would be able to measure lifetimes independently from the manufacturer, this would be a really nice tool for consumer unions. Smart plugs and sockets would be able to deliver exactly this data.&lt;/p&gt;

&lt;p&gt;At Crownstone we are working all the time on improving lifetimes of our products. Did you known that a &lt;a href=&quot;http://www.seeedstudio.com/blog/2017/07/23/why-are-printed-circuit-boards-are-usually-green-in-colour/&quot;&gt;green solder mask&lt;/a&gt; 
is physically superior to other colors? Traditionally, green pigments were used so visual inspection was less tiresome to the eyes. R&amp;amp;D pushed these pigments to their limits and commercial green solder mask henceforth has still a lead compared to alternative colors.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/energy_efficiency.jpg&quot; alt=&quot;Energy efficiency&quot; style=&quot;width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lifetime is not the only thing that matters. Energy effiency is just as important. At times it is better from a sustainability point of view to replace a device than to keep it running wasting energy. To help you calculate the energy label for LEDs we added a small &lt;a href=&quot;https://crownstone.rocks/energy-efficiency/&quot;&gt;calculator&lt;/a&gt; to our website. Check yourself if the label on that LED is actually correct!&lt;/p&gt;

&lt;h1 id=&quot;header-what-else-is-happening&quot;&gt;What else is happening?&lt;/h1&gt;

&lt;p&gt;A global perspective on our smart homes, our privacy, upcoming artificial intelligence, and what this means for us:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://techcrunch.com/2019/02/06/why-am-i-seeing-this-ad/&quot;&gt;Facebook&lt;/a&gt;’s “Why am I seeing this?” will include info about &lt;em&gt;who&lt;/em&gt; uploaded your contact data.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://craigmod.com/essays/newsletters/&quot;&gt;Newsletters&lt;/a&gt; can be seen as the antidote to quick Instagram posts when done properly!&lt;/li&gt;
  &lt;li&gt;The consequences of &lt;a href=&quot;https://www.theatlantic.com/technology/archive/2018/06/apples-airpods-are-an-omen/554537/&quot;&gt;Apple’s airpods&lt;/a&gt; in the &lt;a href=&quot;https://thefrailestthing.com/2018/06/15/were-reading-fahrenheit-451-wrong/&quot;&gt;battle for attention&lt;/a&gt;, an interpretation of Ray Bradbury’s book “Fahrenheit 451” (1953).&lt;/li&gt;
  &lt;li&gt;Ron Wyden, a democratic senator &lt;a href=&quot;https://trofire.com/2019/02/08/democrat-proposes-jail-time-for-tech-companies-who-steal-your-data/&quot;&gt;proposed a bill&lt;/a&gt; to enforce jail time for tech companies stealing your data.&lt;/li&gt;
  &lt;li&gt;If you run &lt;a href=&quot;https://data.home-assistant.io/&quot;&gt;Home Assistant&lt;/a&gt; as your smart home platform, there is now a portal for data scientists!&lt;/li&gt;
  &lt;li&gt;An &lt;a href=&quot;https://techcrunch.com/2019/02/11/softbanks-next-bet-940m-into-autonomous-delivery-startup-nuro/&quot;&gt;autonomous startup&lt;/a&gt;, Nuro, raising short of 1 billion euros, in this case to deliver goods at home.&lt;/li&gt;
  &lt;li&gt;The NSA released in a very good open-source reverse engineering framework, &lt;a href=&quot;https://www.nsa.gov/resources/everyone/ghidra/&quot;&gt;Ghidra&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-meet-us&quot;&gt;Meet us&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/beurs_eigen_huis.jpg&quot; alt=&quot;Beurs Eigen Huis&quot; style=&quot;width:100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In a couple of weeks you can meet us in person at Jaarbeurs Utrecht (booth B1.47). Ask us for free tickets! The fair is 
called &lt;a href=&quot;https://www.realiseerjedroomhuis.nl/crownstone/&quot;&gt;Beurs Eigen Huis&lt;/a&gt; and relevant for anyone buying a new house,
building a new house, or doing any kind of reconstruction.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Smart Speakers are Changing the Future.</title>
   <link href="https://crownstone.rocks/nl/2018/11/28/smart-speakers-are-changing-the-future"/>
   <updated>2018-11-28T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2018/11/28/smart-speakers-are-changing-the-future</id>
   <content type="html">
&lt;h1 id=&quot;header-the-history-from-the-echo-4-to-the-echo-now&quot;&gt;The history from the Echo 4 to the Echo now.&lt;/h1&gt;

&lt;p&gt;Home automation has been on the market for a long, long time. The first home automation system was created by James Sutherland. He called it the Electronic Computing Home Operator 4 in other words, &lt;strong&gt;Echo&lt;/strong&gt;. Now if you are familiar with the Alexa devices, you know why they called the device the Echo!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/early_echo.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This picture is from 1966 (Pittsburgh Post-Gazette). The raincoat symbolizes that Echo should tell when it would gonna rain. The food symbolizes the desire that it would be able to track groceries…&lt;/p&gt;

&lt;h1 id=&quot;header-whats-different-now&quot;&gt;What’s different now?&lt;/h1&gt;

&lt;p&gt;Recently a device came on the market that is selling extremely well, namely the smart speaker. And yes, it’s the perfect time for a device like this! Subscription models on music, in other words, &lt;a href=&quot;https://www.spotify.com/&quot;&gt;Spotify&lt;/a&gt; and &lt;a href=&quot;https://www.apple.com/lae/itunes/&quot;&gt;iTunes&lt;/a&gt;, have been accepted by many (191 million Spotify &lt;a href=&quot;https://www.forbes.com/sites/sophiecharara/2018/11/01/spotify-q3-2018-results-apple-music-streaming/&quot;&gt;users&lt;/a&gt;). These services use the internet. Hence, internet-connected speakers is a logical next step. Siri and Google Now, originally developed for smartphones, now allow you to switch tracks or change volume while cooking or just sitting on the couch. To understand how rapid these devices got adopted, the following graph speaks for itself.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/smart_speaker_reach.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If you’re living in Europe, the offering of this type of technology is slower, but it just lags. The different languages are hurdles for the technology. However, these are just minor bumps. If you understand Dutch, check the &lt;a href=&quot;https://tweakers.net/plan/1179/bekijk-hier-de-talks-terug-van-de-meet-up-smarthome-in-eindhoven.html&quot;&gt;last talk at this Tweakers meetup&lt;/a&gt; to see how - for a different language - only a small part of a deep neural net needs to be retrained. Case in point, Google Home is now &lt;a href=&quot;https://www.coolblue.nl/en/product/803578/google-home.html&quot;&gt;available&lt;/a&gt; in the Netherlands.&lt;/p&gt;

&lt;h1 id=&quot;header-whats-next&quot;&gt;What’s next?&lt;/h1&gt;

&lt;p&gt;What do people use smart speakers for? And most important. What do they want next? The smart audio report from &lt;a href=&quot;https://www.nationalpublicmedia.com/smart-audio-report/latest-report/&quot;&gt;National Public Media&lt;/a&gt; gives us insight. Not only do people control home appliances with smart speakers. The main reason to want to have more speakers is to control appliances or lights!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/buy_another_speaker.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Smart speakers are a key enabling technology for smart homes. The trend for increased interest in the latter is &lt;a href=&quot;https://trends.google.com/trends/explore?date=all&amp;amp;q=smart%20home&quot;&gt;unmistakable&lt;/a&gt;. There are now smart lights, smart thermostats, and smart security systems. We use smartphones in our daily life to stay in touch with family and friends, have a camera in our pocket, read the news, listen to music. Likewise we will have smart homes in our daily life to never enter a dark or cold home (or room!), not to worry about energy waste, and feel protected at all times.&lt;/p&gt;

&lt;h1 id=&quot;header-smart-home-voices&quot;&gt;Smart Home Voices&lt;/h1&gt;

&lt;p&gt;Amazon is one of the key players in smart speakers. Alexa &lt;a href=&quot;https://marketingland.com/amazons-alexa-finds-its-business-model-in-skill-purchases-248948&quot;&gt;fits&lt;/a&gt; its business model like a glove. Customer contact without relying on a search engine or someone else’s app store. Crownstone’s indoor positioning tech is a perfect add-on to voice tech (or from our perspective: it’s of course the other way around).&lt;/p&gt;

&lt;p&gt;Now, if your Alexa is configured for the UK you’re in luck! We enabled the Alexa skill for our English-speaking customers in Europe. You can help us as well! We need German, French, and Spanish text translations and the skill will also become available in those countries. The open-source code (and the text to be translated) can be found at &lt;a href=&quot;https://github.com/crownstone/crownstone-alexa&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/alexa_store.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The Crownstone Alexa skill allows our UK customers (or if you’re Alexa’s location is set to the UK) to control the Crownstones with voice.&lt;/p&gt;

&lt;p&gt;Head over to the &lt;a href=&quot;https://www.amazon.co.uk/Crownstone/dp/B07KQ1WC96/&quot;&gt;Amazon site&lt;/a&gt; to enable the Crownstone skill if you like to use your voice to control your lights!&lt;/p&gt;

&lt;h1 id=&quot;header-what-else-is-happening&quot;&gt;What else is happening?&lt;/h1&gt;

&lt;p&gt;A global perspective on smart homes, artificial intelligence, and what this means for us:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Good news on the privacy front! Apple allows you to download a copy of all your data from their &lt;a href=&quot;https://privacy.apple.com/&quot;&gt;privacy portal&lt;/a&gt;. Very nice. At Crownstone we go one step further and allow you to delete any data through the REST API at &lt;a href=&quot;https://my.crownstone.rocks&quot;&gt;https://my.crownstone.rocks&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Crownstone wants to “be out of the way”, not the type of technology that makes you addictive. At Loup Ventures they wrote an &lt;a href=&quot;https://loupventures.com/solving-tech-addiction-is-an-underappreciated-market-opportunity/&quot;&gt;insightful article&lt;/a&gt; about how to combat tech addiction.&lt;/li&gt;
  &lt;li&gt;We talked before about passive tracking by measuring disturbances on the 2.4 GHz spectrum (used by Wifi and Bluetooth). Researchers at the university of California used ordinary smartphones to track people (&lt;a href=&quot;https://medium.com/syncedreview/seeing-through-walls-with-adversarial-wifi-sensing-attack-and-defence-strategies-7ee2559a7f8&quot;&gt;medium post&lt;/a&gt;). With this tech, Crownstones can be made into a burglar detection system.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.thesun.ie/fabulous/3439832/half-of-lonely-people-think-no-one-will-notice-if-something-bad-happens-to-them-experts-say/&quot;&gt;Sad news&lt;/a&gt; about lonely people. Half of them think no one will notice if something happens to them. This does strengthen our view that smart homes are not just about being “smart”. Artificial intelligence in our homes means that our home pays attention to us, communicates for us, addresses our actual needs!&lt;/li&gt;
  &lt;li&gt;A &lt;a href=&quot;https://leginfo.legislature.ca.gov/faces/billTextClient.xhtml?bill_id=201720180SB1001&quot;&gt;proposed bill&lt;/a&gt; to forbid humans to use virtual bots in telemarketing where the artificial nature of the bot is not being revealed. Interesting! The same law for humans would be the following: It is forbidden to sell something without telling the customer that you are a human. It sounds like discrimination against AIs.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-meet-us&quot;&gt;Meet us!&lt;/h1&gt;

&lt;p&gt;If you’re curious what our smart home tech might mean for you, contact us! In January we will be in the United States, Las Vegas at CES 2019. &lt;a href=&quot;https://ces19.mapyourshow.com/7_0/exhibitor/exhibitor-details.cfm?ExhID=T0000336&quot;&gt;Add us&lt;/a&gt; to your schedule for a demo with super cool new functions! Also, drop Anne a message if you’re in the Bay Area. In March we will be at Jaarbeurs Utecht, the Netherlands at &lt;a href=&quot;https://www.realiseerjedroomhuis.nl/voorjaarseditie-2019/&quot;&gt;Beurs Eigen Huis&lt;/a&gt;. And, for any question &lt;a href=&quot;https://crownstone.slack.com/&quot;&gt;Slack&lt;/a&gt; us!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Crownstone energy consumption in standby.</title>
   <link href="https://crownstone.rocks/nl/2018/10/12/crownstone-energy-consumption-in-standby"/>
   <updated>2018-10-12T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2018/10/12/crownstone-energy-consumption-in-standby</id>
   <content type="html">
&lt;h1 id=&quot;header-energy-consumption&quot;&gt;Energy Consumption&lt;/h1&gt;

&lt;p&gt;Crownstones are meant to be placed behind any power outlet and light switch. If you equip your home with Crownstones you have a super smart home that can do many things for you. Your home will however not only make your life more comfortable. 
Crownstones can make it also more sustainable! It can turn off lights when you are not there. Or turn of devices and appliances that use a lot of energy in standby power mode.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/power_measurement_10plugs.png&quot; alt=&quot;Energy Consumption&quot; class=&quot;float-right&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The question that then rises… “How much power does a Crownstone itself use?” If you would have your entire home equiped with Crownstones you don’t want the system itself to use more than you can save by using it as an standby killer!&lt;/p&gt;

&lt;p&gt;That’s why we show here a picture with a Brennenstuhl power measurement unit. It shows a stack of ten Crownstones, each completely enabled, running in normal mode and performing meshing. The ten Crownstones draw 2.4 Watt. This means that per Crownstone we are using 0.24 Watt.&lt;/p&gt;

&lt;p&gt;Only &lt;strong&gt;0.24 Watt&lt;/strong&gt; per Crownstone is pretty good. It powers the Nordic chip. It powers the Bluetooth Low Energy radio stack. It allows communication with other Crownstones. It contains leakage through the shunt to measure current. It contains leakage through the IGBTs that can be used for dimming. It powers the 10V circuitry for switching the relay. Most countries nowadays ask for a standby power consumption of &lt;strong&gt;1 Watt&lt;/strong&gt;, so it’s important to have our normal - fully operational - mode under that level. The Crownstone should work with all functions on energy levels that allow other devices to be just on standby.&lt;/p&gt;

&lt;p&gt;A nice website about sustainability “without the hot air” is &lt;a href=&quot;http://www.withouthotair.com/&quot;&gt;withouthotair.com&lt;/a&gt;. On the particular topic of switching of a phone charger David JC MacKay &lt;a href=&quot;http://www.withouthotair.com/c11/page_68.shtml&quot;&gt;writes&lt;/a&gt;: &lt;em&gt;“All the energy saved in switching off your charger for one day is used up in one second of car-driving.”&lt;/em&gt;
This however is not true for any device! A laserprinter might very well use a lot of energy in standby. Of course, also when a device is on it is using a lot more. A television broadcasting when no one is present is plain and simple quite a waste!&lt;/p&gt;

&lt;h2 id=&quot;header-energy-measurement&quot;&gt;Energy Measurement&lt;/h2&gt;

&lt;p&gt;In the above setup we have used a third-party device to show how much we actually use. Feel free to repeat this experiment at home.&lt;/p&gt;

&lt;p&gt;One thing that has to be mentioned is the power measurement on the Crownstone itself. Regretfully this is yet not accurate enough to measure very low power levels. The power fluctuations reported by the Crownstone in the app are at around 3 Watt. This has a technical explanation. To measure power we sample the voltage and the current and multiply these values over a window of 20 milliseconds (when on 50 Hz). The voltage measurements are measured quite accurate by the Crownstone. The current measurements are however harder to get to an accurate level.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/blog/current_measurements_with_lamp.png&quot; alt=&quot;Current curve&quot; class=&quot;float-right&quot; style=&quot;width:40%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In the picture at the right you see multiple curves overlayed on top of each other. The squiggly line is the average over a set of those curves. The curves are not smooth. This stems from noise in the environment. On the Crownstone we calculate a moving average over multiple of those curves. There are 50 curves in one seconds, which means quite a reduction in fluctuations. However, the longer this window, the slower the updates on power consumption appear on a phone or other device.&lt;/p&gt;

&lt;p&gt;There are a few tricks which can make the power measurements more accurate. A nice topic for another blog post! However, for this version of the Crownstone we will always use less energy than we can actually accurately measure! That can be seen as a glass half full or a glass half empty. :-)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>iOS advertisements in the background.</title>
   <link href="https://crownstone.rocks/nl/2018/06/27/ios-advertisements-in-the-background"/>
   <updated>2018-06-27T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2018/06/27/ios-advertisements-in-the-background</id>
   <content type="html">
&lt;h1 id=&quot;header-ios-advertisements-in-the-background&quot;&gt;iOS advertisements in the background&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/broadcast-uuid-ios-screenshot.png&quot; alt=&quot;UUID broadcast screenshot&quot; class=&quot;float-right&quot; style=&quot;width:20%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Mobile phone developers have a hard time to use iOS advertisements when an app goes into background mode. However, with Crownstones we can receive all kind of BLE messages over the air. It is possible to receive data from iOS devices. It just requires more in-depth knowledge. A perfect challenge for Crownstone!&lt;/p&gt;

&lt;p&gt;You can find many developers stating this problem (and no solutions) on StackOverflow:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/20121342/advertising-with-ibeacon-when-app-is-in-background&quot;&gt;Advertising with iBeacon when app is in background&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/18944325/run-iphone-as-an-ibeacon-in-the-background?rq=1&quot;&gt;Run iPhone as an iBeacon in the background&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/24509822/ios-ibeacon-advertise-broadcast-as-beacon-in-background-after-ios-7-1-upda&quot;&gt;iOS - iBeacon - Advertise (Broadcast) as beacon in Background after iOS 7.1 update&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/39624045/corebluetooth-advertising-in-background-on-ios-10&quot;&gt;CoreBluetooth advertising in background on iOS 10&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/15476132/ios-ble-peripheral-advertisement-data-in-background-mode&quot;&gt;iOS BLE peripheral / advertisement data in background mode&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/29418388/ble-advertising-of-uuid-from-background-ios-app&quot;&gt;BLE : Advertising of UUID from background iOS app&lt;/a&gt; (I’ve added my answer there)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Somehow nobody started to actually look at the bits send over the air… People know that one iPhone can receive 
these UUIDs from another iPhone, so it is interesting that no one actually tries reverse engineering the “protocol”.&lt;/p&gt;

&lt;h1 id=&quot;header-sniffing&quot;&gt;Sniffing&lt;/h1&gt;

&lt;p&gt;There is a so-called overflow area according to &lt;a href=&quot;https://developer.apple.com/documentation/corebluetooth/cbperipheralmanager/1393252-startadvertising?language=objc&quot;&gt;Apple documentation&lt;/a&gt;. More information can be found in this archive page about &lt;a href=&quot;https://developer.apple.com/library/archive/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/CoreBluetoothBackgroundProcessingForIOSApps/PerformingTasksWhileYourAppIsInTheBackground.html&quot;&gt;Core Bluetooth concepts&lt;/a&gt;. 
I’ve sniffed the packets over the air. You can read the details on &lt;a href=&quot;https://github.com/crownstone/bluenet-ios-basic-localization/blob/master/BROADCASTING_AS_BEACON.md&quot;&gt;github&lt;/a&gt;. What iOS does is broadcasting custom packages with particular bits representing UUIDs. For example UUID &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3333&lt;/code&gt; is represented by a bit going up in the BLE package.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;04 3E 24 02 01 00 01 8C 91 A0 AD 8F 40 18 02 01 1A 14 FF 4C 00 01 00 00 00 00 00 00 00 02 00 00 00 00 00 00 00 00 D3&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You see here &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;02&lt;/code&gt; somewhere surrounded by zeros (preceding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;D3&lt;/code&gt; the 8-bit RSSI value).
Every UUID is one-hot encoded to a bit in this range. This will lead to collisions. You will notice that if you send &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1001&lt;/code&gt; by one iPhone and scan for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3333&lt;/code&gt; by another iPhone you will receive the advertisements as if UUID &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3333&lt;/code&gt; is sent.&lt;/p&gt;

&lt;p&gt;Note, you see that this message is sent as a connectable, undirected BLE packet. It is not a scan response. However, this is on iOS 10. On iOS 12 the type of the packet has changed to a scan response. This has quite an impact on the receiving side which now has to send out scan requests. Pity!&lt;/p&gt;

&lt;h1 id=&quot;header-results&quot;&gt;Results&lt;/h1&gt;

&lt;p&gt;In the following figure is seen how reliable to advertisements arrive over the weekend. Three iPhones have been sending advertisements when the app was in the background. The first sending UUID &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1000&lt;/code&gt;, the second sending UUID &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FFFF&lt;/code&gt;, and the third sending UUID &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3333&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/ble-background-advertisements-3.png&quot; alt=&quot;BLE advertisements in the background&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Time is on the x-axis (over a couple of days). The interval between messages is plotted on the y-axis. You see that at times the intervals are a multiple of 0.2 seconds. 
The pictures are almost the same. The differences only become visible by zooming to shorter timescales. 
This means that this is an artifact from the laptop receiving the messages. The iPhones are broadcasting probably even more robust than this! Over the entire weekend the battery drop is like 25%, which has very likely to do with other things than broadcasting the BLE messages (checking wifi, movements, and other background processes).&lt;/p&gt;

&lt;h1 id=&quot;header-application&quot;&gt;Application&lt;/h1&gt;

&lt;p&gt;You can download an application that runs on a computer with a 64-bit Linux operating system. You will need the following files.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://crownstone.rocks/attachments/binary/lescan_crownstone&quot;&gt;lescan_crownstone&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://crownstone.rocks/attachments/binary/libble++.so.5&quot;&gt;libble++.so.5&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To use install prerequisites, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo apt install libbluetooth&lt;/code&gt;. Check with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ldd ./lescan_crownstone&lt;/code&gt; in case you miss other libraries on your system.&lt;/p&gt;

&lt;p&gt;Run the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lescan_crownstone&lt;/code&gt; binary with a comma-separated list of UUIDs:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo LD_LIBRARY_PATH=$LD_LIBRARY_PATH:. ./lescan_crownstone -u 1000,3333,FFFF
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LD_LIBRARY_PATH&lt;/code&gt; only needs to be added when the linker cannot find the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libble++.so.5&lt;/code&gt; library in the local path.&lt;/p&gt;

&lt;h1 id=&quot;header-support--disclaimer&quot;&gt;Support / Disclaimer&lt;/h1&gt;

&lt;p&gt;For all people who want to know more… Or have particular issues with their operating system. 
We do not provide support for this functionality!
If you cannot make it work, then please look somewhere online for help! We are extremely limited in time and need all
of it for our open-source solutions at &lt;a href=&quot;https://github.com/crownstone/&quot;&gt;github&lt;/a&gt;. Thank you for your consideration!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Switchcraft and dimming!</title>
   <link href="https://crownstone.rocks/nl/2018/03/13/switchcraft-and-dimming"/>
   <updated>2018-03-13T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2018/03/13/switchcraft-and-dimming</id>
   <content type="html">
&lt;h1 id=&quot;header-yeah--&quot;&gt;Yeah! :-)&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/twitter-feedback.png&quot; alt=&quot;Twitter feedback&quot; class=&quot;float-right&quot; style=&quot;max-width:30%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To start, thanks everybody for driving our growth! We’ve been busy with many, many partners from venture funds, distributors, to real estate developers and store owners. CES seems so long ago already (we’re still the first combining indoor localization with home automation, check this &lt;a href=&quot;http://www.bbc.com/news/technology-42574569&quot;&gt;BBC&lt;/a&gt; article)!&lt;/p&gt;

&lt;p&gt;Please, keep sending us your feedback! Much appreciated!&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2 id=&quot;header-dimming--locks&quot;&gt;Dimming &amp;amp; locks&lt;/h2&gt;

&lt;p&gt;We have been testing the dimming behavior extensively and are rolling this out as we speak. If there are lamps you can’t dim with the Crownstones we’d like to hear! For now it should be &lt;a href=&quot;https://crownstone.rocks/compatibility/dimming/&quot;&gt;compatible&lt;/a&gt; with any kind of dimmable light. Note that we went beyond simple pulse width modulation (PWM) which would only work with incandescent (or halogen) light bulbs. We’re using &lt;a href=&quot;https://www.lamps-on-line.com/leading-trailing-edge-led-dimmers&quot;&gt;trailing edge&lt;/a&gt; dimming, which should have smoother control, a soft start and silent running compared to leading edge and is compatible with almost all dimmable LEDs.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/allow-dimming.png&quot; alt=&quot;Enable dimming&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/allow-dimming1.png&quot; alt=&quot;Enable dimming&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The other function you will be able to find is a lock. You can make sure that a particular Crownstone cannot be switched off by household members.&lt;/p&gt;

&lt;h2 id=&quot;header-improvements-under-the-hood&quot;&gt;Improvements under the hood&lt;/h2&gt;

&lt;p&gt;There have been a lot of improvements that are not immediately visible in the app user interface:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;On Android we have been optimizing the BLE library. We’ve even considered the use of SweetBlue which would come with a commercial license. However, although this aims to solve a lot of BLE problems on Android phones, they have a &lt;a href=&quot;https://github.com/iDevicesInc/SweetBlue/wiki/Android-BLE-Issues&quot;&gt;large list with issues&lt;/a&gt; and we dare to say that our library is already better. :-) If you’re experiencing trouble with a particular Android phone drop Bart a message!&lt;/li&gt;
  &lt;li&gt;We’ve been creating our first &lt;a href=&quot;https://github.com/crownstone/bluenet-python-lib&quot;&gt;Python binding&lt;/a&gt; that makes use of a particular Crownstone mesh-aware USB stick that you can put on a Raspberry PI or other convenient hub. This accelerates the integration with systems from B2B partners as well as home automation systems like &lt;a href=&quot;https://home-assistant.io/&quot;&gt;home-assistant.io&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;The webhooks in the &lt;a href=&quot;https://github.com/crownstone/crownstone-cloud&quot;&gt;Crownstone cloud&lt;/a&gt; are pretty stable now. They can be used by dedicated partners who want to give their users real-time access to switch, power, or localization data.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;header-what-to-be-expected-next&quot;&gt;What to be expected next?&lt;/h2&gt;

&lt;p&gt;The next release will be the second Tuesday of the next month. We’re aiming for three significant features. (1) On an architectural level, the mesh on the moment can so now and then be broken up due to interference. Hence, we have to build up the topology of the mesh using registered signal strengths between nodes. (2) Presence-aware scheduling. The tight integration of presence-based information with the time schedule. (3) Something that we have coined “switchcraft”, the seamless use of the existing switches and the Crownstones in series.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/switchcraft.png&quot; alt=&quot;Switchcraft&quot; class=&quot;img-center limit-width&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This magic solution needs some explanation! The brown wire carries the single phase which if the switch is conducting completes the circuit via the light through the blue neural line towards the power source. If we would switch off the light manually, there is no current flowing through the circuit and we wouldn’t be able to switch the light on via the phone. There is a solution though: a clever trick which first had the working name “sluusje” (after Suus who came up with this, partner of one our engineers, and engineer herself). It is possible to connect both of the poles at the switch so the light switch switches from “on” to “on. During this “slow” mechanical event the wires are temporarily disconnected for only a few milliseconds. The Crownstone has a capacitor that survives a voltage drop like that easily. Moreover it can measure such a gap easily because it is measuring at at least 2kHz. Voilà! Both manual and digital control is possible at the same time!&lt;/p&gt;

&lt;h2 id=&quot;header-dashboard-for-developers&quot;&gt;Dashboard for developers&lt;/h2&gt;

&lt;p&gt;A dashboard has been created that can be used to visualize current and power. This is definitely a setup that is only interesting for developers! :-) First off all, you will need a Raspberry PI with a specially prepared Crownstone that can be accessed over UART and that runs a &lt;a href=&quot;https://github.com/crownstone/bluenet-dashboard-backend&quot;&gt;serial driver&lt;/a&gt; which can be accessed over a websocket (in this case written in Python). Subsequently, you can retrieve information over these websockets in a &lt;a href=&quot;https://github.com/crownstone/bluenet-dashboard&quot;&gt;dashboard&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/voltage_curve.png&quot; alt=&quot;An example of the voltage curve as seen in the dashboard. This is from one of the switchcraft experiments (you see a flat part in the middle). The values are raw (not normalized to 240V).&quot; class=&quot;img-center limit-width&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-hannover-messe&quot;&gt;Hannover Messe&lt;/h2&gt;

&lt;p&gt;We will be visiting &lt;a href=&quot;http://www.hannovermesse.de/home&quot;&gt;Hannover Messe&lt;/a&gt; from April the 23rd to the 27th as part of a Dutch trade delegation under &lt;a href=&quot;https://en.wikipedia.org/wiki/Prince_Constantijn_of_the_Netherlands&quot;&gt;prince Constantijn&lt;/a&gt;. It’s a nice opportunity for companies in the Netherlands to get a foothold in the German market and we look forward to this event to sign deals with international companies under the eyes of the prince and the press!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/hannover-messe-cover.jpg&quot; alt=&quot;At Hannover Messe we present the Crownstone as an office solution for businesses. A large market where we can maximize comfort, boost productivity, and reduce energy consumption at the same time.&quot; class=&quot;img-center limit-width&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-international-news&quot;&gt;International News&lt;/h2&gt;

&lt;p&gt;There have been quite a few interesting developments in the world.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Andreas Brekken going through the installation process of using IOTA, a coin that promises to bring cryptocurrency to the internet of things and &lt;a href=&quot;https://shitcoin.com/iota-cannot-be-used-for-iot-loss-of-funds-may-occur-e45b1ed9dd6b&quot;&gt;not being happy about it&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Taylor Lorenz characterizing the CES as &lt;a href=&quot;https://www.thedailybeast.com/ces-was-full-of-useless-robots-and-machines-that-dont-work&quot;&gt;full of robots and machines that don’t work&lt;/a&gt;. :-)&lt;/li&gt;
  &lt;li&gt;A &lt;a href=&quot;https://android-developers.googleblog.com/2018/03/previewing-android-p.html&quot;&gt;preview of Android P&lt;/a&gt; reveals a large emphasis on indoor localization. This is good news for us, because it means that (1) smartphones will become better optimized to run this type of function in the background, and (2) allows us to extend our indoor localization skills beyond our current hardware.&lt;/li&gt;
  &lt;li&gt;An interesting &lt;a href=&quot;https://www.entsoe.eu/news-events/announcements/announcements-archive/Pages/News/2018-03-06-press-release-continuing-frequency-deviation-in-the-continental-european-power-system.aspx&quot;&gt;frequency deviation&lt;/a&gt; in the European electricity grid originating in Serbia/Kosovo. A lot of clocks are synced to the 50 Hz of the grid, but in our case dimming depends also on the 50 Hz. Note that we use a combination of frequency discovery (by zero point detection) and this 50 Hz prior, so we’re quite stable against such deviations.&lt;/li&gt;
  &lt;li&gt;A &lt;a href=&quot;https://developer.apple.com/videos/play/wwdc2017/705/&quot;&gt;clip&lt;/a&gt; that is already a bit less recent from Apple (&lt;a href=&quot;https://devstreaming-cdn.apple.com/videos/wwdc/2017/705d3czqkho1a6u/705/705_whats_new_in_homekit.pdf?dl=1&quot;&gt;pdf&lt;/a&gt;, page 187), shows that they came up with the same idea to accelerate control of home automation devices. They call it secure broadcast notifications. This is an architecture change we’re gonna execute under the hood to get sub-second latencies in controlling the Crownstones.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;header-meetup&quot;&gt;Meetup&lt;/h2&gt;

&lt;p&gt;The following meetup is still quite some time away, Friday the 1st of June! The meetup is gonna be about the Crownstone integrated with the &lt;a href=&quot;https://www.athom.com/en/&quot;&gt;Homey&lt;/a&gt;. Feel free to &lt;a href=&quot;https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/events/248695959/&quot;&gt;subscribe&lt;/a&gt; already to the event!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>The internet of stolen things</title>
   <link href="https://crownstone.rocks/nl/2017/10/31/the-internet-of-stolen-things"/>
   <updated>2017-10-31T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/10/31/the-internet-of-stolen-things</id>
   <content type="html">
&lt;h1 id=&quot;header-the-internet-of-stolen-things&quot;&gt;The internet of stolen things&lt;/h1&gt;

&lt;p&gt;The &lt;a href=&quot;http://mashable.com/2014/05/25/commercial-gps-25-anniversary/#YadO3pjqaGqV&quot;&gt;story of GPS&lt;/a&gt; has been long and with a lot of obstacles. In 1989 the first commercial handheld devices came to the market. The first big problem that was encountered was the battery required for receiving signals on the 1.5GHz band. Thankfully, new chips based on gallium arsenide (GaAs) were developed that used much less energy because they ran on lower temperatures and less cooling was required. The largest problem? The NAV 1000 didn’t work. Everything was miniaturized so much that the device itself interfered with its own detection circuitry. Commercially, it was of course also difficult to convince people to build GPS receivers when there were only a couple of satellites. To get a fix you need at least three satellites in view. A classic chicken-and-egg problem! Yet, all these problems were overcome! Smartphones played a big role in this. “Who needs to know their location? Don’t you know that yourself?”&lt;/p&gt;

&lt;p&gt;Indoor positioning suffers from the same type of obstacles. To have your heating, your sound, your lights adjusted to your location, you have to miniaturize the technology, invent new algorithms, and address all kind of misconceptions as well.&lt;/p&gt;

&lt;h2 id=&quot;header-anti-theft&quot;&gt;Anti-theft&lt;/h2&gt;

&lt;p&gt;On one hand there are &lt;a href=&quot;https://www.androidcentral.com/new-low-energy-mesh-connection-standards-mean-bluetooth-will-be-big-part-internet-things&quot;&gt;articles that explain&lt;/a&gt; the benefits of Bluetooth mesh for asset tracking in hospitals. On the other hand there are &lt;a href=&quot;https://www.iotforall.com/bluetooth-geolocation/&quot;&gt;articles that say&lt;/a&gt; that geolocation is a tragic misuse of Bluetooth. Let us address this use of Bluetooth Low Energy (BLE) for getting your stolen bicycle back.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The current solution that solves outdoor tracking is a combination of a GPS and a GPRS chip, the first to get a location fix, the second to communicate it to the user. The &lt;a href=&quot;https://buytrackimo.myshopify.com/collections/frontpage/products/trackimo-device/&quot;&gt;trackimo&lt;/a&gt; for example costs $79 for the hardware and $60 per year for the subscription. The tech involved requires quite some battery power as well. Moreover, the above costs are definitely reasonable for the tech involved and are unlikely to drop significantly.&lt;/li&gt;
  &lt;li&gt;A solution like &lt;a href=&quot;https://www.thetrackr.com/&quot;&gt;TrackR&lt;/a&gt; does crowdsource the location of BLE tags. It hopes enough people are installing the TrackR app on their smartphones. These apps are continuously scanning for potentially lost tags all the time. When a tag is lost it is hopefully picked up by a person nearby. The problem is that too many people have to run an app that has no function for them at that very moment.&lt;/li&gt;
  &lt;li&gt;A solution like &lt;a href=&quot;https://www.spotty.eu/en-NL/shop/detail/product/53&quot;&gt;Spotty&lt;/a&gt; which is a (reward) QR sticker that can be scanned by helpful people. This will work mostly with lost items, not so much with a stolen bike.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There is a solution that is yet not available because it requires an infrastructure. In this case not of GPS satellites, but of BLE scanners. In a typical, realistic setting, Bluetooth 5 will offer a range of up to 120 meters. If we consider the Netherlands it has around 3.5 million hectares. To compare, there are 3-4 million lamp posts, or there are 7 million households. If BLE can indeed reach 100 meters outdoors, we can cover most relevant parts of the country.&lt;/p&gt;

&lt;h2 id=&quot;header-difficult-but-can-be-done&quot;&gt;Difficult, but can be done!&lt;/h2&gt;

&lt;p&gt;We might consider this as a mathematical problem where we have to decide how many disks should be randomly distributed across an area given a movement pattern of stolen property, typically stochastic, for example Brownian. Note, this &lt;a href=&quot;http://nautil.us/issue/53/monsters/maths-beautiful-monsters-rp&quot;&gt;article&lt;/a&gt; gives a nice exposition about the beauty of continuous functions that are nowhere smooth. A nice problem for a math loving intern. :-) Typically, however, it will require much fewer scanners if we allow for monitoring with gaps.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/guidestones.jpg&quot; alt=&quot;Guidestones&quot; class=&quot;img-center limit-width&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At Crownstone we cannot build every imaginable application on top of location, proximity, device identification, smart homes, and smart buildings. Hence, that’s why we need people with far-fetched ideas like the one above. For a project with millions of Crownstones or &lt;a href=&quot;https://shop.crownstone.rocks/products/guidestones&quot;&gt;Guidestones&lt;/a&gt; (at the moment priced at €25) prices can drop tremendously (easily below €10). The individual tags can already obtained for under €2, which means that a Dutch nation-wide BLE network can put in operation for cheaper than a Spotify subscription. What is required? Companies that like to jump on the bandwagon of BLE before “all the satellites are launched”. Think through the (valuable) critique, think big and execute! Use this type of tech to help millions of people!&lt;/p&gt;

&lt;h2 id=&quot;header-short-update&quot;&gt;Short update&lt;/h2&gt;

&lt;p&gt;A short update about what we’ve been up to at Crownstone.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;You can now receive a message when you enter your home or when you enter a room! This is now thoroughly tested by Alan and will become available next week.&lt;/li&gt;
  &lt;li&gt;At the Qurrent Hackathon one of us was part of the winning team, &lt;a href=&quot;https://medium.com/label-a/hacking-the-future-of-renewable-energy-at-the-qurrent-hackathon-a72b7cac925f&quot;&gt;yeah&lt;/a&gt;! An augmented reality app that playfully introduces kids to energy savings by for example virtually showing the television on fire!&lt;/li&gt;
  &lt;li&gt;Developers who build their own Crownstone app and have the newest firmware can already start to use dimming functionality. For everybody else this will arrive in the next release cycle in about three weeks.&lt;/li&gt;
  &lt;li&gt;Halloween! Working &lt;a href=&quot;https://www.facebook.com/crownstones/posts/704140406438207&quot;&gt;hard&lt;/a&gt; on pumpkins!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/screenshot-messages-in-home.jpg&quot; alt=&quot;Screenshot messages&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/screenshot-dimming.jpg&quot; alt=&quot;Screenshot dimming&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-tedx-rotterdam&quot;&gt;TEDx Rotterdam&lt;/h2&gt;

&lt;p&gt;Quite a few people signed up to our meetup (&lt;a href=&quot;https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/&quot;&gt;sign up yourself&lt;/a&gt;). If you would like to join us as well and happen to have some time during the day as well, check out &lt;a href=&quot;https://tedxrotterdam.com/&quot;&gt;TEDx Rotterdam&lt;/a&gt;. Get a &lt;a href=&quot;https://www.eventbrite.nl/e/tickets-tedxrotterdam-main-event-37786248687&quot;&gt;ticket&lt;/a&gt; and enjoy talks from for example &lt;a href=&quot;https://www.linkedin.com/in/woutervannoort/&quot;&gt;Wouter van Noort&lt;/a&gt; (AI, blockchain), &lt;a href=&quot;https://www.linkedin.com/in/jasnarokegem/&quot;&gt;Jasna Rokegem&lt;/a&gt; (high tech fashion), &lt;a href=&quot;https://www.linkedin.com/in/marcelschouwenaar/&quot;&gt;Marcel Schouwenaar&lt;/a&gt; (thingies), &lt;a href=&quot;https://www.linkedin.com/in/wienke/&quot;&gt;Wienke Giezeman&lt;/a&gt; (thingies in a network), &lt;a href=&quot;https://www.linkedin.com/in/jaya-baloo-558492/&quot;&gt;Jaya Baloo&lt;/a&gt; (secure thingies), &lt;a href=&quot;https://www.linkedin.com/in/emma-van-der-leest-ab493697/&quot;&gt;Emma van der Leest&lt;/a&gt; (biodesign). And who wouldn’t want a Crownstone happy hour after a TEDx happy hour? :-)&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Flex energy arriving?</title>
   <link href="https://crownstone.rocks/nl/2017/08/31/flex-energy-arriving"/>
   <updated>2017-08-31T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/08/31/flex-energy-arriving</id>
   <content type="html">
&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/qurrent-hackathon.gif&quot; alt=&quot;Qurrent hackathon&quot; class=&quot;float-right&quot; style=&quot;max-width:30%&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-flex-energy-arriving&quot;&gt;Flex energy arriving?&lt;/h1&gt;

&lt;p&gt;What would a smart energy contract look like? At Qurrent (the utility company) a &lt;a href=&quot;https://hackathon.qurrent.nl/?href=crownstone&quot;&gt;Hackathon&lt;/a&gt; is organized by &lt;a href=&quot;https://www.qurrent.nl/&quot;&gt;Qurrent&lt;/a&gt; itself and &lt;a href=&quot;https://labela.nl/&quot;&gt;Label A&lt;/a&gt; that is exactly meant to answer this question. One interesting point you might have not considered is consumer protection. In a lot of situations the &lt;a href=&quot;https://www.acm.nl/en/&quot;&gt;ACM&lt;/a&gt; (consumer protection agency) in the Netherlands allows people to cancel their contract if there is a price change. Now, assume the price changes each hour due to wind and sun. Providers that give you these benefits suddenly are at a disadvantage with respect to utilities that are less environmentally friendly! Make sure you sign up fast, or they might run out of spots.&lt;/p&gt;

&lt;p&gt;The prize to win! A nice 10.000 kWh per team. Nice energy to do some altcoin mining. :-) &lt;a href=&quot;https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/events/241340315/&quot;&gt;Join our hackerspace meetup&lt;/a&gt; to - eventually - prepare for this hackathon. If you already know how to control the Crownstones, you can even quicker come up with smart energy-related applications!
Plenty of updates!
There has been quite some progress in the software development, firmware as well as app. The behavior is now easy accessible. Moreover, it is possible to set a timer. Stay tuned for more!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/screenshot-schedule.jpg&quot; alt=&quot;Screenshot schedule&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/screenshot-behavior.jpg&quot; alt=&quot;Screenshot behavior&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Android will have a significant update next week. We already got nice feedback about our software updates that upgrade your Crownstones with new functions over the course of time. Some car manufacturers can’t even figure this out. :-) Nevertheless, we had one annoying bug that skipped our elaborate test procedures. Thankfully, not many people were affected. If there are problems, contact us of course! We’ll be happy with feedback.&lt;/p&gt;

&lt;h2 id=&quot;header-webinar-for-installers&quot;&gt;Webinar for installers&lt;/h2&gt;

&lt;p&gt;Webinar for installers. If you know people who earn their money as installers, point them to this &lt;a href=&quot;https://isso.nl/updates/nieuws/nieuwsitem/news/isso-organiseert-webinar-over-indoor-locatiebepaling/&quot;&gt;ISSO webinar&lt;/a&gt; (September 12 at 12 o’clock). Anne will explain indoor localization and other things around smart homes that are relevant to the installer.&lt;/p&gt;

&lt;h2 id=&quot;header-interesting-stuff-in-the-world&quot;&gt;Interesting stuff in the world&lt;/h2&gt;

&lt;p&gt;Some fun things to read!&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.quantamagazine.org/mathematicians-tame-rogue-waves-lighting-up-future-of-leds-20170822/&quot;&gt;Mathematicians tame rogue waves, lighting up future of LEDs&lt;/a&gt;, learn more about how electrons are localized in materials. If they are localized right (in the presence of a hole) a photon is emitted (light), if not a phonon is emitted (heat).&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://thewire.in/170303/supreme-court-aadhaar-right-to-privacy/&quot;&gt;Right to Privacy a Fundamental Right&lt;/a&gt;, Says Supreme Court. An interesting development considering contemporary news cycles driven by terrorism.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.bluetooth.com/introducing-bluetooth-mesh-networking&quot;&gt;Introducing Bluetooth Mesh Networking&lt;/a&gt;. One of the most interesting parts of Bluetooth 5. See also the Crownstone blog for a more technical story.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.trendmicro.com/trendlabs-security-intelligence/connected-car-hack/&quot;&gt;The Crisis of Connected Cars: When Vulnerabilities Affect the CAN Standard&lt;/a&gt;. For everybody who played with the OBD2 interface or is interested in the (bad) state of software in cars.&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>ADC noise</title>
   <link href="https://crownstone.rocks/nl/2017/07/28/adc-noise"/>
   <updated>2017-07-28T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/07/28/adc-noise</id>
   <content type="html">
&lt;h1 id=&quot;header-current&quot;&gt;Current&lt;/h1&gt;

&lt;p&gt;Here we show 50 subsequent buffers with current measurements. Each buffer contains a 100 samples. The more red the curve the newer the curve. There is a slight drift to the left. This means that the next cycle is sampled slightly faster than within 20 msec. Note, that between measurements there might be a period in which we do not sample (we might skip one or more periods).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/old_pcb_with_lamp.png&quot; alt=&quot;Current measurement on old PCB&quot; width=&quot;80%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The line is the average current for the 100 buffers. So up to 50 it shows the average of the visualized curves.&lt;/p&gt;

&lt;h1 id=&quot;header-voltage&quot;&gt;Voltage&lt;/h1&gt;

&lt;p&gt;The voltage curve on the new PCB, in this case with PAN 28 enabed (this means that we do not make use of the direct access to EasyDMA, but use scan mode in software).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/new_pcb_voltage.png&quot; alt=&quot;Voltage on new PCB&quot; width=&quot;80%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The voltage shifts to the right. If we enable the hardware, the drift becomes more regular.&lt;/p&gt;

&lt;p&gt;Note, that the voltage is clipped. This is easily corrected by using the right resistor value.&lt;/p&gt;

&lt;h1 id=&quot;header-drift&quot;&gt;Drift&lt;/h1&gt;

&lt;p&gt;A nice visualization of the drift can be seen in the following plot:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/new_pcb_voltage_drift_pan28.png&quot; alt=&quot;Voltage drift on new PCB with PAN 28 enabled&quot; width=&quot;80%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Each curve is plotted vertically (the 100 points in the buffer). Certain points on the curve will move down when the curve is shifted to the right, other points are moving up. Without drift you would expect horizontal lines. With regular drift you would expect a regular periodic behavior. What we see here is that at times the CPU has more things to do than at other times. The drift is changing over time.&lt;/p&gt;

&lt;h1 id=&quot;header-noise&quot;&gt;Noise&lt;/h1&gt;

&lt;p&gt;The noise we see currently on the new PCB is less in variance due to the fact that we can use a different scaling factor and use more ADC levels to represent low currents. However, there is noise in the form of downward peaks.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/new_pcb_peaks.png&quot; alt=&quot;Current peaks on new PCB&quot; width=&quot;80%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You see that the titles of the images are incorrect. This is due to a channel flip problem. In this case we disabled PAN 28 and use the hardware scan mode of the ADC.&lt;/p&gt;

&lt;p&gt;This is a problem noticed about the Nordic hardware by other developers.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://devzone.nordicsemi.com/question/97728/saadc-scan-mode-sample-order-is-not-always-consistent/&quot;&gt;https://devzone.nordicsemi.com/question/97728/saadc-scan-mode-sample-order-is-not-always-consistent/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://devzone.nordicsemi.com/question/119588/offset-in-saadc-samples-with-easy-dma-and-ble/&quot;&gt;https://devzone.nordicsemi.com/question/119588/offset-in-saadc-samples-with-easy-dma-and-ble/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Until now Nordic has not responded with a good explanation. We can reliably introduce a channel flip by using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pstorage&lt;/code&gt;. A flash erase operation takes about 21 msec. A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pstorage_update&lt;/code&gt; command uses two flash erase operations under the hood and is able to impact a BLE connection if the connection interval is set lower than 30 msec &lt;a href=&quot;https://devzone.nordicsemi.com/question/73231/how-to-do-pstorage-writes-while-connected/&quot;&gt;source&lt;/a&gt;. Regretfully, this is not the only way to initiate a channel flip. Also when a BLE discovery process is initiated, the additional amount of work can throw the ADC off.&lt;/p&gt;

&lt;p&gt;The priority of the ADC is set to 3. The Softdevice controls levels 0, 1, 4, and 5.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A nerd discussing Bluetooth Mesh</title>
   <link href="https://crownstone.rocks/nl/2017/07/20/a-nerd-discussing-bluetooth-mesh"/>
   <updated>2017-07-20T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/07/20/a-nerd-discussing-bluetooth-mesh</id>
   <content type="html">
&lt;h1 id=&quot;header-bluetooth-mesh&quot;&gt;Bluetooth Mesh&lt;/h1&gt;

&lt;p&gt;Finally! The long awaited &lt;a href=&quot;https://www.bluetooth.com/specifications/mesh-specifications&quot;&gt;Bluetooth Mesh specification&lt;/a&gt; is out!
The specification exists out of three parts:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.bluetooth.org/docman/handlers/downloaddoc.ashx?doc_id=429633&quot;&gt;Profile&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.bluetooth.org/docman/handlers/downloaddoc.ashx?doc_id=429634&quot;&gt;Model&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.bluetooth.org/docman/handlers/downloaddoc.ashx?doc_id=429635&quot;&gt;Device&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-provisioning&quot;&gt;Provisioning&lt;/h1&gt;

&lt;p&gt;The mesh network has two types of keys: at the &lt;em&gt;network&lt;/em&gt; layer and at the &lt;em&gt;application&lt;/em&gt; layer. Not having the first 
key type means that you can’t send anything into the mesh. The second key type can govern application specific control 
(like turning on/off lights) and is different for locks, bulbs, etc..&lt;/p&gt;

&lt;p&gt;Separation of these two types of keys means that nodes can partake in the sending and receiving of encrypted messages 
because they are authenticated on a network level. They do not need to actually know the content of these messages to
be an effective relay.&lt;/p&gt;

&lt;h2 id=&quot;header-provisioner&quot;&gt;Provisioner&lt;/h2&gt;

&lt;p&gt;There is an entity that is talked about as if it is some centralized device, the provisioner. It is able to add
unprovisioned devices to the mesh, at which point they are called nodes. It should be done by a “bearer”, in other 
words, people should walk around. There is a GATT-based bearer that can be used on a smartphone.&lt;/p&gt;

&lt;h2 id=&quot;header-sequence-number&quot;&gt;Sequence number&lt;/h2&gt;

&lt;p&gt;There is a sequence number of 24 bits to prevent replay attacks. This means that if a device emits a message every
second it takes half a year to get to the same number. In the specification they state optimistically that emitting
once every five seconds is a &lt;strong&gt;fairly high frequency for known use cases&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;header-iv-index&quot;&gt;IV index&lt;/h2&gt;

&lt;p&gt;There is an interesting procedure around a so-called IV index which serves as an entropy renewal mechanism. As soon as
for example the above sequence number of 24 bits rotates, a node can initiate an IV index update procedure. There are
several attacks envisioned: (1) IV index increments larger than 42 should be ignored, (2) an IV update procedure should 
not occur more often than once every 192 hours (8 days). That means reprovisioning is required when a node is offline
for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192*42/(24*7)=48&lt;/code&gt; weeks. I’m curious what happens if a node initiates an IV update procedure much more often than
the prescribed once in 8 days.&lt;/p&gt;

&lt;h2 id=&quot;header-trash-can-attack&quot;&gt;Trash can attack&lt;/h2&gt;

&lt;p&gt;When a node is removed from the network, all remaining nodes should update their keys. It means all the network keys
and application keys are updated. This is initiated by so-called secure network beacons: a particular type of message.&lt;/p&gt;

&lt;h1 id=&quot;header-structure&quot;&gt;Structure&lt;/h1&gt;

&lt;p&gt;There are several other things that might be interesting to the developer.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;“Friendship” is possible between neighbouring nodes to reduce the amount of time that needs to be listened.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;There is a lot of “routing”. It is possible to use unicast addresses, group addresses, and broadcast addresses.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;There is a notion of multiple elements per node. That means that the elements on a dual-socket power strip might be
individually addressed.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The lower transport layer defines segments to be able to define data chunks that are larger than a single packet.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;There is a heartbeat to monitor nodes on the network and discover how far nodes are apart from each other.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;There is a publish-subscribe mechanism.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Encryption is using AES-CMAC and there is a network nonce, application nonce, and device nonce (and proxy nonce).&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;header-firmware-updates&quot;&gt;Firmware updates&lt;/h1&gt;

&lt;p&gt;On a firmware update, a node must be reprovisioned if the number of elements on a node changes. Firmware updates are
a glaring omission from the documents. One of the key features of &lt;a href=&quot;https://github.com/NordicSemiconductor/nRF51-ble-bcast-mesh&quot;&gt;nRF OpenMesh&lt;/a&gt;
by Nordic is the ability of sending firmware updates through the mesh. It is absolutely horrible to suggest people
to walk around their “smart homes” in case a firmware update has been issued. Curious if this is gonna be addressed
next!&lt;/p&gt;

&lt;h1 id=&quot;header-people&quot;&gt;People&lt;/h1&gt;

&lt;p&gt;The people who worked on it and are explicitly mentioned in the documents are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/robinheydon&quot;&gt;Robin Heydon&lt;/a&gt;, Qualcomm (&lt;a href=&quot;https://twitter.com/robinheydon&quot;&gt;twitter&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/jgtanner&quot;&gt;Jonathan Tanner&lt;/a&gt;, Qualcomm&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/victorzhodzishsky&quot;&gt;Victor Zhodzishsky&lt;/a&gt;, Broadcom, Cypress&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/weishenprofile&quot;&gt;Wei Shen&lt;/a&gt;, Ericsson&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/jerkeby&quot;&gt;Christoffer Jerkeby&lt;/a&gt;, Ericsson&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/alexandruandreescu&quot;&gt;Bogdan Alexandru&lt;/a&gt;, NXP, LM Technologies&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/martinturon/&quot;&gt;Martin Turon&lt;/a&gt;, Nest / Google&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/rdhughes/&quot;&gt;Robert Hughes&lt;/a&gt;, Intel&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/holtmann&quot;&gt;Marcel Holtmann&lt;/a&gt;, Intel&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/briangix&quot;&gt;Brian Gix&lt;/a&gt;, Intel&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/slupik&quot;&gt;Szymon Slupik&lt;/a&gt;, Silvair&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/piotr-winiarczyk-90b90269&quot;&gt;Piotr Winiarczyk&lt;/a&gt;, Seed Labs, Silvair&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/danilo-blasi-53a89a6&quot;&gt;Danilo Blasi&lt;/a&gt;, STMicroelectronics&lt;/li&gt;
  &lt;li&gt;Yao Wang, IVT Wireless&lt;/li&gt;
  &lt;li&gt;Rustam Kovyazin, Motorola&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/uday-agarwal-04984938&quot;&gt;Uday Agarwal&lt;/a&gt;, Cypress, Talentica&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/vasilii-aleksandrov&quot;&gt;Vasilii Aleksandrov&lt;/a&gt;, Motorola, Sreda Software Solutions&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/leon-lc-ko-71b08540&quot;&gt;Leon LC Ko&lt;/a&gt;, MediaTek&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/omkarck&quot;&gt;Omkar Kulkarni&lt;/a&gt;, Cypress&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/elaine-mar-9083&quot;&gt;Elaine Mar&lt;/a&gt;, California Eastern Laboratories&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/gerard-harbers-4a12584/&quot;&gt;Gerard Harbers&lt;/a&gt;, Xicato&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/davros/&quot;&gt;Clive Feather&lt;/a&gt;, Samsung&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I think it’s nice that they are mentioned and they deserve credit for their work! Thanks!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thermostats and energy labels fail!</title>
   <link href="https://crownstone.rocks/nl/2017/06/16/thermostats-and-energy-labels-fail"/>
   <updated>2017-06-16T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/06/16/thermostats-and-energy-labels-fail</id>
   <content type="html">
&lt;h1 id=&quot;header-thermostats-and-energy-labels-fail&quot;&gt;Thermostats and energy labels fail!&lt;/h1&gt;

&lt;p&gt;Saving energy is nice for the environment, but can also be nice for your wallet. One of the interesting measures taken by banks is to &lt;a href=&quot;http://www.duurzaamwonen.nl/rentekorting-en-hogere-hypotheek-bij-een-duurzaam-huis/&quot;&gt;reduce your mortgage interest rate&lt;/a&gt; if you take green measures. This means your monthly costs go down by both saving energy and paying less interest. More contested in the Netherlands is the so-called energy label. &lt;a href=&quot;https://www.tias.edu/kennisgebieden/detail/vastgoed/detail/lagere-verkoopprijs-door-ongunstig-energielabel-woning&quot;&gt;Tias&lt;/a&gt; says it helps. &lt;a href=&quot;https://www.businessinsider.nl/energielabel-is-onbetrouwbaar-en-heeft-nul-effect-concludeert-de-rekenkamer-640291/&quot;&gt;De Rekenkamer&lt;/a&gt; says it doesn’t have much effect. &lt;a href=&quot;http://www.energieoverheid.nl/2016/01/14/energielabel-heeft-geen-waarde-want-de-inhoud-klopt-niet/&quot;&gt;EnergieOverheid&lt;/a&gt; says it’s just because energy systems are new that they are worth more. Interesting in this debate is that there seems to be much more consensus on the increased value of home automation when selling your home (compared to energy technology). You can find statements towards that effect by - obviously biased - home automation manufacturers (&lt;a href=&quot;http://onesmartcontrol.com/domotica-blog/domotica-voordelen/huizen-met-domotica-voordeel-huizenmarkt/&quot;&gt;One Smart Control&lt;/a&gt;), but also more generally in the &lt;a href=&quot;https://www.redfin.com/blog/2017/02/how-home-automation-can-increase-your-property-value.html&quot;&gt;real estate world&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;header-zoned-heating&quot;&gt;Zoned heating&lt;/h1&gt;

&lt;p&gt;In the Netherlands we have several consumer shows on television that check claims by manufacturers, check the origin of products, or otherwise try to inform the consumer. The &lt;a href=&quot;http://keuringsdienstvanwaarde.kro.nl/&quot;&gt;Keuringsdienst van Waarde&lt;/a&gt; is one of these shows. Interesting note, Teun (Tony) van de Keuken, one of the investigators if this show, started his chocolate branch &lt;a href=&quot;http://www.tonyschocolonely.com/us/about-us/how-it-al-began/&quot;&gt;Tony’s Chocolonely&lt;/a&gt; after discovering that there is a lot of slavery and child labor in this industry. Another show is &lt;a href=&quot;https://kassa.vara.nl/&quot;&gt;Kassa&lt;/a&gt;, which reports on undesired calls, roaming costs, safety of devices, and all kind of issues interesting to consumers. Interesting for our case, Kassa also reported on smart thermostats!&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/dBLEBmcXUHo?color=white&amp;amp;theme=light&amp;amp;title=Kassa: A smart thermostat does not save energy (Dutch).&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;Kassa tells us that the thermostat itself doesn’t really save energy! One of the features that would really make a difference is the ability of heating up separate rooms. That’s exactly what these thermostats don’t offer!&lt;/p&gt;

&lt;p&gt;This doesn’t mean that there are no products for zoned heating in the market. One of the products that can do this is the Honeywell Evohome.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/9bwssbkxEMQ?color=white&amp;amp;theme=light&amp;amp;title=The installation of Honeywell Evohome by Rutger Middendorp in his own home. Rutger is from Bright.&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;The above video shows the installation of Honeywell Evohome by Rutger Middendorp in his own home. Rutger is from &lt;a href=&quot;https://www.bright.nl/&quot;&gt;Bright&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;At Crownstone we can take this one step further! If we extend our indoor localization service to heating, we would be able to only heat the rooms where we will be present. In this way people will not only save on the electricity bill, but also on the heating bill. This especially works well for people who do not mind if the heating turns on at the moment when they enter a room (e.g. when biking home you might be warm enough that you don’t mind that it takes some time before the living room is heated up). For other people some prediction will be necessary. Heat up the living room half an hour before you come home or heat up the bedroom before the typical time you go to bed. Not very easy to do, but also no rocket science.&lt;/p&gt;

&lt;p&gt;To integrate on a low level with the Crownstone network, it is convenient to use Bluetooth Low Energy thermostatic radiator valves. Please &lt;a href=&quot;https://crownstone.rocks/team&quot;&gt;contact us&lt;/a&gt; or &lt;a href=&quot;https://trello.com/b/6rUcIt62/crownstone-transparent-product-roadmap&quot;&gt;up vote&lt;/a&gt; if you think this would be nice for your situation!&lt;/p&gt;

&lt;h1 id=&quot;header-bluetooth-product-listing&quot;&gt;Bluetooth product listing&lt;/h1&gt;

&lt;p&gt;Bluetooth has a particular organisation that oversees the Bluetooth standard, the &lt;a href=&quot;https://www.bluetooth.com/&quot;&gt;Bluetooth SIG&lt;/a&gt; group. This interest group can be compared to the Wi-Fi Alliance. Interesting to know is that these groups will probably be competing with each other soon. Did you hear for example about the &lt;a href=&quot;https://productcoalition.com/wi-fi-halow-a-new-challenger-to-become-the-wireless-network-standard-of-the-iot-market-ce672dda4a70&quot;&gt;Wi-Fi HaLow&lt;/a&gt; standard?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/bluetooth-product-listing.jpg&quot; alt=&quot;Bluetooth Product Listing&quot; class=&quot;img-center limit-width&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Our products are now officially listed and Bluetooth certified!&lt;/p&gt;

&lt;h1 id=&quot;header-mediamarkt&quot;&gt;Mediamarkt&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/innovation-lab.jpg&quot; alt=&quot;Mediamarkt Innovation Lab&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The Crownstone app will get a nice new update in the next sprint. You’ll see it appearing automatically (we are rolling out first for a few people). Apart from that we are currently demoed in the Mediamarkt in Eindhoven in the cool &lt;a href=&quot;http://hypebox.io/&quot;&gt;Hypebox&lt;/a&gt; device. This is a box that allows you to display movies while showcasing a product by making the content transparent at strategic times.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; src=&quot;//player.vimeo.com/video/221872742?color=white&amp;amp;theme=light&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;Everywhere where you see white, the video is see-through. A very nice effect! If you’re in Eindhoven, pay a visit to their &lt;a href=&quot;http://www.mediamarkt.nl/nl/shop/mediamarkt-innovatie-lab.html&quot;&gt;Innovation Lab&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A meshy mess</title>
   <link href="https://crownstone.rocks/nl/2017/05/05/a-meshy-mess"/>
   <updated>2017-05-05T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/05/05/a-meshy-mess</id>
   <content type="html">
&lt;h1 id=&quot;header-audio-that-follows-you-around&quot;&gt;Audio that follows you around!&lt;/h1&gt;

&lt;p&gt;Something fun! As our readers you know we are always advocating hands-free home automation solutions! Of course, Amazon and Google Home are cool, but they still require commands from the user. At times when it doesn’t understand you it can be quite frustrating! Wouldn’t it be cool if your music just follows you from the living room to the kitchen? That’s exactly what &lt;a href=&quot;https://www.kien.io/&quot;&gt;Kien&lt;/a&gt; has been building with our favorite partner &lt;a href=&quot;http://www.ams-site.com/&quot;&gt;AMS&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.kien.io/collections/all&quot;&gt;Preorder with discount!&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Especially for you as Crownstone enthusiast, we have a nice opportunity! If you use the discount code “CROWNSTONE” at the Kien website you can get an extra 15% discount on top of the 20% existing discount. This offer is valid up to Tuesday, 12 o’clock at night. It’s your chance to contribute to a promising success story!&lt;/p&gt;

&lt;h1 id=&quot;header-software&quot;&gt;Software&lt;/h1&gt;

&lt;p&gt;Over the last month we’ve been working hard to deliver the next big update: the mesh! The mesh allows the Crownstones to communicate among each other. To accommodate the increasing amount of asynchronous traffic handled by the app we implemented a new architecture on the mobile phone that we proudly call the “BatchCommandHandler”. This module will batch commands you send to a Crownstone, like the phone heartbeat, the commands you give it, and the automated behaviour on enter and exit of a room. This architecture will allow the smartphone to connect to a single Crownstone that then propagates the request to other Crownstones.&lt;/p&gt;

&lt;h1 id=&quot;header-tests&quot;&gt;Tests&lt;/h1&gt;

&lt;p&gt;Our tireless interns have been testing our Crownstones and apps full time! Naturally, we have found many small things that did not work as they should, especially on different types of Android phones. We have formalized a testing protocol for every release to test all features repeatedly. Due to doing many more tests in-house, we spent a lot of time fixing bugs. This means that the all-round performance of the Crownstones is much more reliable with the next update.&lt;/p&gt;

&lt;h1 id=&quot;header-meshy-details&quot;&gt;Meshy details&lt;/h1&gt;

&lt;p&gt;So what has been fixed?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Battery saving!&lt;/li&gt;
  &lt;li&gt;Strange and unexpected behaviour of the text fields.&lt;/li&gt;
  &lt;li&gt;Crownstones still lingering after setup mode.&lt;/li&gt;
  &lt;li&gt;Only turn on when it’s dark outside now actually works!&lt;/li&gt;
  &lt;li&gt;Fixed bugs in the Promise Manager (which makes sure that everything happens sequentially). When this occurred, no commands could be sent to the Crownstone until the app was killed forcefully.&lt;/li&gt;
  &lt;li&gt;Improved heartbeat reliability and switching by going near/further away and enter/exit sphere.&lt;/li&gt;
  &lt;li&gt;Reliable switching of Crownstones.&lt;/li&gt;
  &lt;li&gt;Improved setup reliability.&lt;/li&gt;
  &lt;li&gt;Enter/Exit sphere/rooms and near/further away performance.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And what’s new so far?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Subtly getting the current Firmware versions of your Crownstones.&lt;/li&gt;
  &lt;li&gt;Mesh interface to show the user if the Crownstones are connected with each other.&lt;/li&gt;
  &lt;li&gt;Upgrading the bootloader and firmware of the Crownstones safely.&lt;/li&gt;
  &lt;li&gt;App interface for upgrading the bootloader/firmware.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;What’s more?&lt;/p&gt;

&lt;p&gt;Our Cloud service (which allows you to invite users, setup Crownstones, create Spheres, Rooms, Appliances, and provide third-party integration) has had a major upgrade to Loopback version 3! Why do you care you ask?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Downloading firmwares and bootloaders as well as version management and phased roll outs of new versions!&lt;/li&gt;
  &lt;li&gt;OAuth2 authentication which lets us hook services like the Amazon Alexa up to our Cloud. This way you can have Alexa turn your lights on and off just by telling her so!&lt;/li&gt;
  &lt;li&gt;It paves the road for future extensions (IFTTT, Zapier)&lt;/li&gt;
  &lt;li&gt;It will allow usage of a phone or tablet as a hub! A hub would allow switching remotely (via internet) for instance.&lt;/li&gt;
  &lt;li&gt;Also, push notifications can now be added, allowing us to show you when other people enter a room in real time without the battery cost of constantly asking the Cloud if anything changed!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You’ll notice the app update automatically as soon as it is accepted by the app store reviewers. No need to do anything in particular.&lt;/p&gt;

&lt;h1 id=&quot;header-energyzero&quot;&gt;EnergyZero&lt;/h1&gt;

&lt;p&gt;We started this newsletter with an interesting company and we are ending with one as well. Crownstones make it possible to turn on appliances, pumps, or heating elements at moments when the supply is highest. It is anticipated that wind energy and solar energy will cause more and more peaks in the supply. This means that utility companies pay different prices for energy per hour (see &lt;a href=&quot;https://www.apxgroup.com/market-results/apx-power-nl/dashboard&quot;&gt;APX Power NL dashboard&lt;/a&gt;). At EnergyZero people decided that this - and the corresponding benefits - should be available to consumers!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.energyzero.nl/energie-tegen-kostprijs/flexibele-energietarieven/&quot;&gt;Read more (Dutch)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;EnergyZero is the first energy provider that will allow you to pay per hour, super cool! They can do this by using a Spotify-like subscription model of € 9,99 per month and then provide all the energy without any additional margin. Every cent you save, you really save! Their incentive is your incentive!&lt;/p&gt;

&lt;p&gt;If you’re a bit tech-savvy you’ll be able to use Crownstones to profit from this and e.g. only turn on pumps or floor heating when it’s cheap. If not, don’t fret, just be a bit patient! :-)&lt;/p&gt;

&lt;p&gt;Have a nice weekend and/or &lt;a href=&quot;https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/&quot;&gt;happy hacking&lt;/a&gt;!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Watch out with wiring in your home!</title>
   <link href="https://crownstone.rocks/nl/2017/03/21/watch-out-with-wiring-in-your-home"/>
   <updated>2017-03-21T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/03/21/watch-out-with-wiring-in-your-home</id>
   <content type="html">
&lt;h1 id=&quot;header-wiring&quot;&gt;Wiring&lt;/h1&gt;

&lt;p&gt;The Crownstone is able to cope with very high currents. This however does not mean that you should try to use it in that setting. Although the Crownstones themselves might be able to cope with this for quite some time - until the thermal fuse kicks in - the wiring in your house, might be suboptimal.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/burnt_prong.jpg&quot; alt=&quot;Prongs&quot; width=&quot;90%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In the red circles you see black stuff: charcoaled plastic. Needless to say that these prongs pose a fire hazard and I shouldn’t have used this electric heater to begin with. However, I did this experiment on purpose, because it is both (1) a nice testimony to the robustness of the builtin Crownstones and (2) a fair warning to people to use common sense with household appliances.&lt;/p&gt;

&lt;p&gt;With Crownstones we are one step closer to safer homes!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Does Alexa have skills?</title>
   <link href="https://crownstone.rocks/nl/2017/03/03/does-alexa-have-skills"/>
   <updated>2017-03-03T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/03/03/does-alexa-have-skills</id>
   <content type="html">
&lt;h1 id=&quot;header-alexa-skills-challenge&quot;&gt;Alexa Skills Challenge&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dependency summary: git, npm, nodejs, Github account, Amazon developer account, Amazon AWS account&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Amazon has an online challenge to compete with Google for voice services. At &lt;a href=&quot;https://alexa.devpost.com/&quot;&gt;devpost.com&lt;/a&gt; you can register with your Github account for a submission and win prizes up to $5,000 including devices. Subsequently, register a &lt;a href=&quot;https://developer.amazon.com/login&quot;&gt;development account&lt;/a&gt; or login. Here you can find a:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.amazon.com/home.html&quot;&gt;dashboard&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.amazon.com/edw/home.html#/skills/list&quot;&gt;skills list&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To be able to develop skills for free it is easiest to use AWS. Yes, we are delving into the Amazon ecosystem!&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://console.aws.amazon.com&quot;&gt;aws&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is not really, really required, but Amazon has to reach the beautiful code you are gonna to write somehow.&lt;/p&gt;

&lt;p&gt;Clone the Alexa Skills sdk:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone git@github.com:alexa/alexa-skills-kit-sdk-for-nodejs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Just a quick note on the side, if you want to copy something from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vim&lt;/code&gt;, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt; to switch to visual mode and then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:'&amp;lt;,'&amp;gt;:w !xclip -se c&lt;/code&gt; to copy it to clipboard.&lt;/p&gt;

&lt;p&gt;In this case we want to create a so-called:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/overviews/understanding-the-smart-home-skill-api&quot;&gt;smart home skill&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/alexa_smart_home_ecosystem.png&quot; alt=&quot;Alexa Smart Home Ecosystem&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As explained at &lt;a href=&quot;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/understanding-the-different-types-of-skills&quot;&gt;this page&lt;/a&gt; the smart-home skill is less complicated than the custom skill because Amazon defines the interaction model. There are the following device directives:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;turn on / turn off&lt;/li&gt;
  &lt;li&gt;increase / decrease&lt;/li&gt;
  &lt;li&gt;dim&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Besides that, Amazon also defines the words the user can use to initiate these directives. How the Crownstone reacts upon one of these requests is the content of the nodejs server and is called a &lt;em&gt;skill adapter&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Amazon did not include directives to e.g. read out the power consumption of a device, turn on groups of devices, have devices turn on or off after a certain period, or other more sophisticated requests.&lt;/p&gt;

&lt;p&gt;At Amazon pick the right region, Ireland for English skills in Europe:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://eu-west-1.console.aws.amazon.com/console/home?region=eu-west-1#&quot;&gt;AWS console&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Configure an Alexa Smart Home trigger:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://eu-west-1.console.aws.amazon.com/lambda/home?region=eu-west-1#/create/configure-triggers?bp=alexa-smart-home-skill-adapter&amp;amp;firstrun=true&quot;&gt;Smart Home trigger&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Do you want fancy light bulbs? Think again!</title>
   <link href="https://crownstone.rocks/nl/2017/02/21/do-you-want-fancy-light-bulbs-think-again"/>
   <updated>2017-02-21T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/02/21/do-you-want-fancy-light-bulbs-think-again</id>
   <content type="html">
&lt;h1 id=&quot;header-fancy-lights&quot;&gt;Fancy lights&lt;/h1&gt;

&lt;p&gt;Last Friday we had a goodbye event for Dominik. We will miss you, Dominik! After a &lt;a href=&quot;https://www.facebook.com/crownstones/posts/596056237246625&quot;&gt;successful bank robbery&lt;/a&gt;, we dropped by at a restaurant at Oude Haven, where they have these beautiful big light bulbs…&lt;/p&gt;

&lt;p&gt;These light bulbs are advertised as carbon filament bulbs (Dutch: kooldraad), although they often don’t contain carbon. Bulbs with carbon filament created from bamboo were the bulbs patented by Edison (&lt;a href=&quot;https://www.wikiwand.com/en/Incandescent_light_bulb&quot;&gt;history&lt;/a&gt;) long before tungsten became widespread. One of the challenges was to turn the carbon into graphite, which had a positive rather than a negative temperature coefficient. The latter is detrimental to the lifetime of a lamp: the warmer it gets, the lower the resistance, the more current it draws, the warmer it gets. You don’t want that as a bulb designer! Apparently, nowadays you can buy these beautiful big light bulbs again, but know that there is a fly in the ointment… They are very likely to be energy inefficient and can only be sold due to a loophole where manufacturers state that “these lamps are not for domestic use”.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/1vCQySb6ulA?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;Take a look at the &lt;a href=&quot;https://www.youtube.com/channel/UCOc3q8ChcDYyeyFROxLDhuw&quot;&gt;Edison Tech Center&lt;/a&gt; channel on Youtube to find out about all kind of interesting bulbs! This one is about Nernst lamps that don’t need to be shielded from oxygen. Or &lt;a href=&quot;https://www.youtube.com/watch?v=EOVej0Kifzo&quot;&gt;this one&lt;/a&gt; is about induction lamps that don’t have cathodes and anodes at all!&lt;/p&gt;

&lt;h1 id=&quot;header-turtles-all-the-way-down&quot;&gt;Turtles all the way down&lt;/h1&gt;

&lt;p&gt;We have been working on the Crownstone firmware for the last weeks. One of the features that is currently implemented is a soft-fuse based on power use. Component manufacturers can claim all kind of properties about their components, but in the end it is nice to have a fail-safe that doesn’t rely on their tests. In this case, when the current increases beyond a certain level the IGBTs are switched off automatically. This has been the main reason why we didn’t turn on the dimming functionality yet. Hence, you can expect that to appear in the app very soon! You won’t be able to dim your fridge or vacuum, even if you’d want to!&lt;/p&gt;

&lt;p&gt;Functionality like a dimming button in the app has very little to do with the slider in the interface. It almost seems like turtles all the way down! The information flows from the user interface, to a BLE library, to the firmware on the Crownstone. However, also the firmware on the Crownstone itself exists of several layers. The main functionality is called the &lt;a href=&quot;https://github.com/crownstone/bluenet&quot;&gt;bluenet firmware&lt;/a&gt; and is written in C++. This code talks to the &lt;a href=&quot;https://developer.nordicsemi.com/nRF5_SDK/doc/&quot;&gt;Nordic software&lt;/a&gt; in C. That code talks to the processor and the peripherals itself. If you think you’ve understood everything, then you’ll have so-called &lt;a href=&quot;https://infocenter.nordicsemi.com/index.jsp?topic=%2Fcom.nordic.infocenter.nrf52832.EngA.errata%2Ferr_832.html&amp;amp;cp=2_2_1_3&quot;&gt;Product Anomaly Notifications (PANs)&lt;/a&gt; which are hardware or software bugs that are identified by Nordic engineers. Last, but not least, there are bugs that have not yet been identified.&lt;/p&gt;

&lt;h1 id=&quot;header-delivery-built-ins&quot;&gt;Delivery built-ins&lt;/h1&gt;

&lt;p&gt;The delivery of the built-ins will be immediately after we have received the final go from the third party that gives us a EU/EC declaration of conformity for CE marking, expected very soon now! Note, that we are “more Catholic than the Pope” in the sense that most of the manufacturers just declare to be conform without using a third party at all. In Europe the legally binding &lt;a href=&quot;https://www.wikiwand.com/en/List_of_European_Union_directives&quot;&gt;directives&lt;/a&gt; are implemented through norms. The challenge is to choose those norms that respect the electronic functionality we’ve been able to achieve!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/bistable-relay1.jpg&quot; alt=&quot;Bistable Relay&quot; title=&quot;Bistable Relay&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/bistable-relay2.jpg&quot; alt=&quot;Bistable Relay&quot; title=&quot;Bistable Relay&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;One of the things that is done by our certification partner is opening up the casing of all components and physically check if they are conforming to electrical specifications. Above you see for example the Panasonic relay when it’s open (left) and when it’s closed (right).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/assembly-builtin1.jpg&quot; alt=&quot;Assembly Built-in&quot; title=&quot;Assembly Built-in&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/assembly-builtin2.jpg&quot; alt=&quot;Assembly Built-in&quot; title=&quot;Assembly Built-in&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We’re also testing each item individually with heavy loads and are helped in this by three new team members from Human Technology, Bart Versluis, Mourad Fattouch, and Tim Prins. We are also joined by Jasper Makkinje and Riccardo Bellana who will be contributing activity recognition and device identification algorithms. By the way, if you know someone who loves software challenges, drop us a message!&lt;/p&gt;

&lt;p&gt;We will in the coming two weeks contact everyone who bought the builtin Crownstones to check if their delivery address is still correct. Check your email boxes!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>The devilish dilemma of supporting Android and iOS with BLE</title>
   <link href="https://crownstone.rocks/nl/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble"/>
   <updated>2017-01-07T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/01/07/the-devilish-dilemma-of-supporting-android-and-ios-with-ble</id>
   <content type="html">
&lt;h1 id=&quot;header-apple-homekit&quot;&gt;Apple Homekit&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://www.apple.com/ios/home/&quot;&gt;Apple Homekit&lt;/a&gt; is Apple’s attempt to define a solution for smart devices at home. From a security perspective developers have to solve one important problem. Normally a smartphone add-on such as a Fitbit, Apple Watch, Jawbone, Sony Watch, Estimote, Stick-n-Find, etc. is owned by the person owning the smartphone. There is no need to share your Apple Watch with friends or family. This is entirely different with smart home products. The owner of a home needs to be able to give access to household members and visitors!&lt;/p&gt;

&lt;h2 id=&quot;header-share-the-keys-to-connect-to-trusted-devices&quot;&gt;Share the keys to connect to trusted devices&lt;/h2&gt;

&lt;p&gt;It is possible to securely connect to a Bluetooth Low Energy (BLE) device over a long time period by storing encryption keys. The smartphone considers such devices with which it has bonded as so-called &lt;strong&gt;trusted devices&lt;/strong&gt;. To be able to use the trusted device of someone else it is important to get access to the key of that person. Apple does not give the developers access to these keys. The user can indirectly give another user access to his or her keys by &lt;a href=&quot;http://www.imore.com/how-share-homekit-access-other-people-guests-or-housemates&quot;&gt;inviting someone via their iCloud address&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The problem with this approach is the following. Suppose, you have an iOS device, but someone in your extended family, a guest, or your butler, or cleaning lady has an Android device. For the developer of this BLE device, there is no way to extract the keys, transfer them to a person owning an Android device, and have that person able to switch your lighs, etc. You do not own your own keys in the sense that you can access and share them in every context.&lt;/p&gt;

&lt;h2 id=&quot;header-notifications&quot;&gt;Notifications&lt;/h2&gt;

&lt;p&gt;Not being able to cater to Android users is a big deal. However, there are other decisions that are made by Apple which corner the user in ways people do not need to be cornered. One of the issues is that “notifications” from HomeKit-compatible products are disregarded by iOS &lt;a href=&quot;http://time.com/4480681/apple-home-homekit-notifications/&quot;&gt;depending on the device type&lt;/a&gt;. It is for example possible to be notified by smart locks and security systems, but not by a door or window sensor.&lt;/p&gt;

&lt;p&gt;Moreover, a message from a device has to travel across the entire internet before ending up at another device in your home. The main feature of the Crownstone products is their presence sensing capability. The Apple design would enforce that after the detection of your presence in the living room, that information needs to go all the way to Cupertino and back to be able to switch on your lights. Not only does this introduce unacceptable latencies, but it introduces a dependency on the internet that is unnecessary. A good engineer solves things locally if they can be solved locally.&lt;/p&gt;

&lt;p&gt;The Crownstone user interaction paradigm introduces artificial intelligence in the home. Your home is gonna react to your presence. The idea to have the user use the smartphone as a fancy remote control device seems quite limited.&lt;/p&gt;

&lt;h2 id=&quot;header-bluetooth-specification&quot;&gt;Bluetooth specification&lt;/h2&gt;

&lt;p&gt;The alternative to trusted devices is to use untrusted devices and introduce encryption at the application layer. It is important not to roll your own encryption. For example AES-128 or AES-256 is a common encryption method. Seagate has a nice technology paper about the &lt;a href=&quot;http://www.axantum.com/AxCrypt/etc/seagate128vs256.pdf&quot;&gt;pros and cons&lt;/a&gt; of AES-128. Note how important it is to think about where and how to store these keys! Most systems are not hacked because of the cryptographic mechanism itself, but the management and deployment of the keys. Additional security measures that can be taken are things like (1) broadcasting very weakly when in factory settings, so only a person in close proximity can set up a new device, (2) making sure that the keys are accessible by nothing else except for the right smartphone apps.&lt;/p&gt;

&lt;p&gt;To be able to connect to untrusted devices the Bluetooth specification is a little bit vague with respect to caching. On Android and iOS the BLE services are discovered through calling a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.discoverServices()&lt;/code&gt; method. This then subsequently queries the BLE device for services. These services are represented by attribute handles. To be able to quickly connect to a BLE device without having to discover all services on each connection attempt, it is possible to use attribute caching. The cache contains the handles and the smartphone can directly send a message to a particular handle, for example to turn on the lights.&lt;/p&gt;

&lt;p&gt;The specification makes a distinction between trusted and untrusted devices with respect to caching. For an untrusted device is should not be expected that the cache is preserved between subsequent connection requests. At the blog of &lt;a href=&quot;https://punchthrough.com/blog/posts/attribute-caching-in-ble-advantages-and-pitfalls&quot;&gt;PunchThrough&lt;/a&gt; you can see the developers struggle with this behavior when they brought in a new device with new services. They didn’t encounter the whole story though due to the fact that they only worked with trusted (Bean and Bean+) devices.&lt;/p&gt;

&lt;p&gt;The bluetooth specification says this (Vol 3, Part G, 2.5.2 - Attribute Caching):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Note: Clients **without** a trusted relationship must perform service discovery on each connection if the server supports the Service Changed characteristic.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, a smartphone should clear the cache after a disconnect with an untrusted device. This is correctly implemented by Samsung, but incorrectly by Sony, HTC, One Plus One, and Apple (see e.g. this &lt;a href=&quot;https://code.google.com/p/android/issues/detail?id=81130&quot;&gt;issue&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;To be able to very quickly switch on a light when someone enters a room, latency is one of the most important aspects of the entire system. You don’t want to walk into a dark room! Due to Occam’s razor we have always been testing our system on phones where the above is implemented incorrectly! That is, on smartphones that do cache handles, even if they actually should perform a discovery process of around 1.5 seconds.&lt;/p&gt;

&lt;p&gt;Regretfully there is no way to force a device to use a cache if it performs a physical discovery process. The other way around wouldn’t be a problem (you can always force a discovery process by cleaning the cache using &lt;a href=&quot;http://stackoverflow.com/questions/22596951/how-to-programmatically-force-bluetooth-low-energy-service-discovery-on-android&quot;&gt;reflection&lt;/a&gt;).&lt;/p&gt;

&lt;h2 id=&quot;header-key-management&quot;&gt;Key management&lt;/h2&gt;

&lt;p&gt;The &lt;a href=&quot;https://jmaxxz.com/blog/?p=550&quot;&gt;August locks&lt;/a&gt; use keys on the lock itself as well as on the server. AES is symmetric and August implemented the &lt;a href=&quot;https://github.com/jmaxxz/keymaker/wiki/BLE-Session&quot;&gt;just works&lt;/a&gt; key exchange mechanism from Bluetooth. This means that a passive listener during setup can extract these keys. Note that there are two ways to cope with this:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;The user should be the &lt;strong&gt;owner&lt;/strong&gt; of the keys. This means the user should be able to extract the keys. The keys can be on the air, the keys can be on the phone, the keys can be in the firmware. This also means that we should not protect the keys against the user, but only against third parties. If the keys are on the air, it is important that the signal strength is reduced: someone extracting the keys needs to be next to the person setting up the device. If the keys are in an app database, it is important that the containerization on Android and iOS works properly so another app cannot access the data.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The user should &lt;strong&gt;not&lt;/strong&gt; be the &lt;strong&gt;owner&lt;/strong&gt; of the keys. Then we can start talking about “leaking keys to the user”. In this paradigm it makes sense to use asymmetric keys: public and private keys. The servers can distribute public keys to the devices that are able to encrypt stuff. The server has the private keys and nobody else. Everything of value needs to go through the servers. Even if someone extracts the firmware from the device he or she will only get the public key. This works really nice for something like a Fitbit or Jawbone device that only streams data to you. If you want the device to do something, it will also need to decrypt an encrypted message to it and have some kind of key (a symmetric or private one) available to it.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The lesson from this: there are many ways a reverse engineer - in the end - will be able to get access to the keys. The key is transmitted from a server to a phone via https, then something is used (yes, preferably &lt;a href=&quot;https://en.wikipedia.org/wiki/Elliptic_curve_Diffie–Hellman&quot;&gt;Elliptic curve Diffie-Hellman&lt;/a&gt;) to send it wirelessly to the device, and finally it sits in FLASH at that device. The most conservative assumption is to assume that the user will be able to get hold of the keys.&lt;/p&gt;

&lt;p&gt;Then what happens if the user is the owner of the keys?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In the case the user is not just the admin, but a guest or visitor, it means that you have situations in which you want to &lt;strong&gt;undo&lt;/strong&gt; your decision to give someone access to your home. If you have normal keys (the ones that fit in a physical lock), you will have to make new keys if your ex is a stalker. You can never be sure if that person made some spare copies! On every modification in which access gets restricted you will have to deploy &lt;strong&gt;new keys&lt;/strong&gt; to all the devices concerned.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that a secure infrastructure will have all kind of corner cases that need to be tackled. What happens if some of the devices in a home have new keys, but not all of them yet? What happens if a firmware update gets aborted? How is the state of which device has which key reflected online?&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Deliveries in full swing</title>
   <link href="https://crownstone.rocks/nl/2017/01/06/deliveries-in-full-swing"/>
   <updated>2017-01-06T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2017/01/06/deliveries-in-full-swing</id>
   <content type="html">
&lt;h1 id=&quot;header-in-full-swing&quot;&gt;In full swing&lt;/h1&gt;
&lt;p&gt;We have been busy delivering Crownstone plugs to everybody who responded to our request, hence we had a very busy time just before and during the holidays! It was a lot of address confirmations, address changes, administrative tasks such as setting up an account at a delivery company, uploading csv files (that turned out not to be able to handle commas), printing out labels and checking everything thousand times!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/delivery-going-out0.jpg&quot; alt=&quot;Delivery Going Out&quot; title=&quot;Delivery Going Out&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/delivery-going-out1.jpg&quot; alt=&quot;Delivery Going Out&quot; title=&quot;Delivery Going Out&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now we have entered a nice phase where we see people using the Crownstones. We learn to understand what you find most important and get our first repeat orders in! To really be able to gather your input we would like you to &lt;a href=&quot;https://trello.com/b/6rUcIt62/crownstone-transparent-product-roadmap&quot;&gt;vote on functionality and features&lt;/a&gt; on our roadmap.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/roadmap.png&quot; alt=&quot;Roadmap&quot; title=&quot;Roadmap&quot; width=&quot;80%&quot; style=&quot;display: block; margin-left: auto; margin-right: auto&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-artificial-light&quot;&gt;Artificial light&lt;/h1&gt;

&lt;p&gt;To be able to properly answer questions, we have created an &lt;a href=&quot;https://crownstone.rocks/app-help/&quot;&gt;app-help page&lt;/a&gt; with frequently asked questions. One of the issues with respect to blue LEDs is that they can be &lt;a href=&quot;https://news.ycombinator.com/item?id=13330611&quot;&gt;harmful to our eyes&lt;/a&gt;. Our own issue is that there are so many types of LEDs that to support them all is gonna take a while. For example, not all LEDs can be completely switched off by the plugs right now. The builtin Crownstone is designed slightly differently and won’t have this problem. In case you wonder, the builtin Crownstones are still planned for this month. If the estimated time of arrival changes, we will immediately update you.&lt;/p&gt;

&lt;h2 id=&quot;header-nordic-at-ces&quot;&gt;Nordic at CES&lt;/h2&gt;

&lt;p&gt;Currently &lt;a href=&quot;https://www.nordicsemi.com/eng/Events/CES-2017&quot;&gt;Nordic&lt;/a&gt; is at &lt;a href=&quot;http://www.ces.tech/&quot;&gt;CES in Las Vegas&lt;/a&gt; (Consumer Electronics Show) featuring a wide range of products that uses their nRF51 and nRF52 series (the chip that’s in the Crownstone). In hindsight it is logical that a wireless technology that is present on the smartphone will become ubiquitous, but now it became reality! Crownstone has a special place right in the center. A few builtin Crownstones are switched by an &lt;a href=&quot;https://www.enocean.com/en/&quot;&gt;EnOcean&lt;/a&gt; switch (using Dolphin energy harvesting). You can see that the switch is not attached to anything, moreover, it does not have a battery either! If you happen to be in Las Vegas, drop us a message!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/nordic-ces0.jpg&quot; alt=&quot;Nordic at CES&quot; title=&quot;Nordic at CES&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/nordic-ces1.jpg&quot; alt=&quot;Nordic at CES&quot; title=&quot;Nordic at CES&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-welcome&quot;&gt;Welcome!&lt;/h2&gt;

&lt;p&gt;Every first Friday in the month, also this month, there is a &lt;a href=&quot;https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/&quot;&gt;meetup&lt;/a&gt; hosted by us! If you want to know more about smart homes this might be nice for you. The plan is to talk a little bit about hacking, a bit about the future (privacy for example), and a bit about artificial intelligence. Naturally there will be plenty of time to play with the Crownstones!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A signal from outer space!</title>
   <link href="https://crownstone.rocks/nl/2016/12/02/a-signal-from-outer-space"/>
   <updated>2016-12-02T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/12/02/a-signal-from-outer-space</id>
   <content type="html">
&lt;h1 id=&quot;header-a-signal-from-outer-space&quot;&gt;A signal from outer space&lt;/h1&gt;

&lt;p&gt;Smart homes is just a phrase, but at Crownstone it means that we are actually developing an AI (artificial intelligence) that can do justice to this word “smart”. An AI that will gradually understand your behavior and wishes.&lt;/p&gt;

&lt;p&gt;To communicate with these new types of “intelligences” is a very interesting experience. What do they understand? What are their limitations? From the perspective of the AI it is very important to have eyes, ears, and hands to be able to help us. If an AI does not know where we are, how can it then ever warn us, protect us, do stuff for us, communicate with us!?&lt;/p&gt;

&lt;p&gt;An interesting example of communicating with another form of intelligence can be see in the movie Arrival. It’s a nice interplay between learning symbols, grammar, meaning, but also the order with which you want to place concepts in a larger context. How will an AI look at the world if it only gets “search requests” as input?!&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/tFMo3UJ4B4g?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;How does the world look like for our AI? To understand it a little better, we have to delve into one of its sensors, the Bluetooth radio!&lt;/p&gt;

&lt;h2 id=&quot;header-bluetooth-signals&quot;&gt;Bluetooth Signals&lt;/h2&gt;

&lt;p&gt;The Crownstones receive Bluetooth Low Energy (BLE) messages on a frequency of 2.4 GHz. This is the same frequency as WiFi (although nowadays you also have 5 GHz routers). To snoop up BLE messages we use the so-called 
&lt;a href=&quot;https://hakshop.com/products/ubertooth-one&quot;&gt;Ubertooth&lt;/a&gt;. We namely encountered strange behavior in the arrival frequency of BLE messages from Crownstones configured as 
&lt;a href=&quot;https://developers.google.com/beacons/&quot;&gt;Eddystones (Google beacon)&lt;/a&gt; 
versus the ones configured as full Crownstones. So, Ubertooth to the rescue! Let’s see how these things communicate!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/ubertooth-device.jpg&quot; alt=&quot;Ubertooth&quot; title=&quot;Ubertooth device&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/wireshark-results.jpg&quot; alt=&quot;Wireshark&quot; title=&quot;Wireshark results&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Regretfully, the Ubertooth hardware is a little bit dated and we saw even more messages dropped or malformed in 
&lt;a href=&quot;https://www.wireshark.org/&quot;&gt;wireshark&lt;/a&gt;. It took a while before we realized we were looking at malformations not so much due to problems on a wireless level, but on a USB connection level!&lt;/p&gt;

&lt;p&gt;On Linux you can use commands like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bluetoothctl&lt;/code&gt; nowadays and finally Dominik found the culprit: a big difference between messages that advertised the devices as connectable or non-connectable! Certain Android phones (depending on their BLE chipset) are not able to receive “connectable” messages at a high rate. We need these message on a high rate so we can localize people swiftly. Quick thinking: let’s use non-connectable messages only!&lt;/p&gt;

&lt;p&gt;Alas! A Crownstone cannot advertise as just a non-connectable device because this has as side-effect that it can’t send so-called “scan responses”. These responses we definitely need because we use them to update the user about Crownstone information (such as energy use) without requiring the phone to set up a slow connection! Apart from that, it’s kind of handy to be connectable if you actually want to switch or dim something! Finally we get to a solution! Interleave sending connectable and non-connectable messages!&lt;/p&gt;

&lt;p&gt;We’re glad that we can speak to you in English, not Bluetoothish!&lt;/p&gt;

&lt;h2 id=&quot;header-assembly-signals&quot;&gt;Assembly Signals!&lt;/h2&gt;

&lt;p&gt;The first 100 Crownstones we have assembled at our office! We namely need to obtain information about the assembly process. What’s going fast? What can be improved? Can our assembly instruction be improved?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/assembly-peet.jpg&quot; alt=&quot;Assembly&quot; title=&quot;Assembly Peet&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/assembly-marc.jpg&quot; alt=&quot;Assembly&quot; title=&quot;Assembly Marc&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/assembly-bart.jpg&quot; alt=&quot;Assembly&quot; title=&quot;Assembly Bart&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/assembly-dominik.jpg&quot; alt=&quot;Assembly&quot; title=&quot;Assembly Dominik&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Also, the packaging arrived! It’s super cool, but let’s keep it secret for now!&lt;/p&gt;

&lt;h2 id=&quot;header-installation-signals&quot;&gt;Installation Signals!&lt;/h2&gt;

&lt;p&gt;A few of the very early backers are currently testing Crownstones at home, to make sure we will offer you all the best experience possible! For the plugs this will be relatively simple. However, if you have ordered built-in Crownstones we can imagine that you like to get some installation advice!
 We are working together with 
&lt;a href=&quot;http://www.concomcow.nl/&quot;&gt;ConComCow&lt;/a&gt; 
to realize a part of the Real Life Learning roadmap for students at 
&lt;a href=&quot;https://www.techniekcollegerotterdam.nl/maakindustrie-bouwen-wonen/opleiding/technicus-human-technology&quot;&gt;Human Technology van het Techniek College Rotterdam&lt;/a&gt;. Our society needs to train people to obtain a combination of social and technical skills! We call this the “social mechanic” (sociale monteur). It is frustrating to have a technician coming to your home who doesn’t actually address the real problem you have!&lt;/p&gt;

&lt;p style=&quot;text-align: center&quot;&gt;
&lt;a href=&quot;mailto:team@crownstone.rocks?subject=I like to get free installation advice&quot; class=&quot;button-link&quot; style=&quot;display: inline-block; margin-left: auto; margin-right: auto&quot;&gt;I like to get free installation advice!&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;Please, click the button above if you like to be part of this! The students will have two roles:
 Observe how people in general interact with new technology.
 Give you advice about Crownstone and other smart home technology and how to make best use of it!
 The remaining plugs will be sent out before Christmas! You will be contacted in person. So, this is about the builtin Crownstones in particular. Do you want free installation advice or like to have students over, please, click the button!&lt;/p&gt;

&lt;h2 id=&quot;header-hacking-signals&quot;&gt;Hacking Signals!&lt;/h2&gt;

&lt;p&gt;Our 
&lt;a href=&quot;https://www.meetup.com/Smart-Home-Bluetooth-Hackerspace/&quot;&gt;monthly hackerspace&lt;/a&gt; 
event is cool, but we decided that this time we wanted to be participants! Hence, we joined the 
&lt;a href=&quot;https://robots.devpost.com/&quot;&gt;Robots at your Service hackathon&lt;/a&gt;. A 48-hour hackathon that inspires people to think about technology in the life of the elderly. After listening to 80 year olds complaining about tech in their lives, we knew what to do! Let them punch these useless robots! The 
&lt;a href=&quot;https://devpost.com/software/frustybot&quot;&gt;FrustyBot&lt;/a&gt;
was born! Hit the shapeless robot on a string and when your frustration boils over, it will helpfully reach out to a friendly human to guide you through yet another app on your swipe machine (“veegmachine” as one of the elderly eloquently baptized the smartphone).&lt;/p&gt;

&lt;p&gt;People can punch the FrustyBot to get rid of frustrations!&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/lujYHeVDm9M?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;h2 id=&quot;header-more-signals&quot;&gt;More Signals!&lt;/h2&gt;

&lt;p&gt;We’re super happy that our team got additional expertise in bringing Crownstone to the market in the person of 
&lt;a href=&quot;https://www.linkedin.com/in/alexanderjweisz&quot;&gt;Alexander Weisz&lt;/a&gt;
as COO! Alexander has a lot of experience in business development, building organisations, startups and with a lot of heart for sustainability and high-tech.&lt;/p&gt;

&lt;p&gt;To translate our technology-driven vision of a future that Crownstone foresees into down-to-earth applications Alexander will be an essential team member!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Lots of boxes arriving!</title>
   <link href="https://crownstone.rocks/nl/2016/11/08/lots-of-boxes-arriving"/>
   <updated>2016-11-08T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/11/08/lots-of-boxes-arriving</id>
   <content type="html">
&lt;h1 id=&quot;header-christmas-early-this-year&quot;&gt;Christmas early this year?&lt;/h1&gt;

&lt;p&gt;Plastics and metal arrived from China from the facilities of &lt;a href=&quot;http://www.ams-site.com/&quot;&gt;AMS&lt;/a&gt; last week! That makes everybody super happy of course, especially Bart! :-)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/box-arrival-bart.jpg&quot; alt=&quot;Box Arrival&quot; title=&quot;Box Arrival Bart&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/box-arrival-dominik.jpg&quot; alt=&quot;Box Arrival&quot; title=&quot;Box Arrival Dominik&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/box-arrival-marc.jpg&quot; alt=&quot;Box Arrival&quot; title=&quot;Box Arrival Marc&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/box-arrival.jpg&quot; alt=&quot;Box Arrival&quot; title=&quot;Box Arrival&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now we only have to wait for the electronics to arrive! The PCBs are this week populated in Czech republic and the first 7 panels (with each 15 pieces, and yes, that number can also be &lt;a href=&quot;http://circuitpeople.com/blog/panelsinpcbmanufacturing.aspx&quot;&gt;optimized&lt;/a&gt;) will be sent immediately when they’re done. In the meantime we are figuring out how to optimize the process. &lt;a href=&quot;http://www.geolumen.it/&quot;&gt;Geolumen&lt;/a&gt;, a fellow startup at Rockstart, built their own assembly line in the last months. &lt;a href=&quot;https://www.wikiwand.com/en/SMT_placement_equipment&quot;&gt;Pick-and-place&lt;/a&gt; of the electronics is quite expensive to outsource. To fulfill our cost reduction plans we will have to do the same!&lt;/p&gt;

&lt;p&gt;If you like to be involved in this process, drop us a line of course! We will do the product assembly for the first Crownstones ourselves, so we can guarantee their quality and speed up the delivery to everybody.&lt;/p&gt;

&lt;h2 id=&quot;header-sourcing-components&quot;&gt;Sourcing Components&lt;/h2&gt;

&lt;p&gt;Our sourcing process is one of the serious games that have to be played in a hardware startup. It is a big part of cost optimization. You do not want to know how much we paid to have your product made! This &lt;a href=&quot;http://hwguide.spetic.si/&quot;&gt;investor’s guide&lt;/a&gt; to hardware states $25k-$250k for funding 3-6 months of personnel costs for software contrasting it with between 500k and $1MM for hardware. It’s hence not surprising that hardware startups like the one behind the cool &lt;a href=&quot;https://tweakers.net/nieuws/104199/amsterdamse-start-up-wil-gebruik-wifi-hotspots-veiliger-maken-met-router.html&quot;&gt;keezel&lt;/a&gt; product - a secure router that you can use in public places - although raising &lt;a href=&quot;https://www.indiegogo.com/projects/keezel-online-security-for-every-device-everywhere-wifi-technology#/&quot;&gt;$1MM on Indiegogo&lt;/a&gt; is still strapped for cash! To give you a little bit of insight into this sourcing process, take a look at this screenshot of &lt;a href=&quot;https://octopart.com/bom-tool&quot;&gt;Octopart&lt;/a&gt; Marc took.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/sourcing-components.png&quot; alt=&quot;Sourcing Components&quot; title=&quot;Sourcing Components&quot; width=&quot;80%&quot; style=&quot;display: block; margin-left: auto; margin-right: auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Every component is automatically sourced from the main distributor sites, like Digi-Key, Farnell, and Mouser. Of course to scale up our production this will not be sufficient. Individual negotiations with manufacturers have already started. However, it’s a good starting point that saves a lot of time!&lt;/p&gt;

&lt;h2 id=&quot;header-built-in-crownstones&quot;&gt;Built-in Crownstones&lt;/h2&gt;

&lt;p&gt;Finally, we need to give the built-in Crownstones also some love. They have been neglected in the last few newsletters!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/builtin-crownstone-view0.jpg&quot; alt=&quot;Built-in Crownstone&quot; title=&quot;Built-in Crownstone&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/builtin-crownstone-view1.jpg&quot; alt=&quot;Built-in Crownstone&quot; title=&quot;Built-in Crownstone&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/builtin-crownstone-view2.jpg&quot; alt=&quot;Built-in Crownstone&quot; title=&quot;Built-in Crownstone&quot; class=&quot;float-left&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/builtin-crownstone-view3.jpg&quot; alt=&quot;Built-in Crownstone&quot; title=&quot;Built-in Crownstone&quot; class=&quot;float-right&quot; width=&quot;42%&quot; style=&quot;margin:4%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You see that the shape has been slightly adapted from the first &lt;a href=&quot;https://shop.crownstone.rocks/products/development-kit-with-six-built-in-crownstones&quot;&gt;development items&lt;/a&gt; to accommodate for both the relays and the X2 capacitor. The thickness is one of the most important design considerations (besides of course fitting in the junction box). By having the relay and the capacitor on their side we’re able to reach a thinness of only 14 mm (1 mm less than the 15 mm we anticipated)!&lt;/p&gt;

&lt;h2 id=&quot;header-action&quot;&gt;Action!&lt;/h2&gt;

&lt;p&gt;There were many other interesting events in the last weeks. At Mediamarkt &lt;a href=&quot;https://twitter.com/annevanrossum/status/794872193725460480&quot;&gt;we were second&lt;/a&gt; right after flow.ai in a Get in the Ring competition. We’re looking forward to build smart homes in their stores! We also discussed with the engineers from Nordic how to advance the &lt;a href=&quot;https://github.com/NordicSemiconductor/nRF51-ble-bcast-mesh&quot;&gt;OpenMesh stack&lt;/a&gt; (mainly about firmware updates over the air, security, and robustness) and how to integrate with the energy-harvesting &lt;a href=&quot;https://www.enocean.com/en/enocean_modules_2.4ghz_ble/ptm-215b/&quot;&gt;EnOcean switches&lt;/a&gt; which do not require batteries. This means you can place these anywhere you want, be it under your desk, on a door, or near your bed, and control Crownstones from there.&lt;/p&gt;

&lt;p&gt;We’re gonna put up a board on which you can vote for functionality this sprint! You want to use the Crownstones for a wake-up light? Vote for it! You want to use the Crownstones to know if your laundry machine is done? Vote for it! And if you don’t wanna wait, start &lt;a href=&quot;https://crownstone.rocks/business/developers/&quot;&gt;programming your own apps already&lt;/a&gt;!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Resistant Resistors</title>
   <link href="https://crownstone.rocks/nl/2016/10/25/resistant-resistors"/>
   <updated>2016-10-25T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/10/25/resistant-resistors</id>
   <content type="html">
&lt;h1 id=&quot;header-resistant-resistors&quot;&gt;Resistant Resistors&lt;/h1&gt;

&lt;p&gt;The Crownstone circuitry is beyond state-of-the-art with respect to power consumption. This has one disadvantage, the circuit decisions and choice of components are thought-provoking even for dyed-in-the-wool electrical engineers. One of these concerns the choice of a &lt;a href=&quot;https://www.wikiwand.com/en/Resistor&quot;&gt;resistor&lt;/a&gt;, an element in the circuitry that has a fixed relation between voltage and current. A resistor is like hair clogged in a pipe, the higher the value, the more the pipe is clogged. The same voltage (240V) will lead to a lower current through the pipe. The job of the electrical engineer is to play around with just the right amount of hair to make sure the processor and its peripherals get enough juice.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/spikes.jpeg&quot; alt=&quot;Spikes destroying the board&quot; title=&quot;Spikes destroying the board&quot; class=&quot;float-left&quot; width=&quot;46%&quot; style=&quot;margin:20px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/spikes-stable.jpeg&quot; alt=&quot;Spikes neatly handled&quot; title=&quot;Spikes, but no problem!&quot; class=&quot;float-right&quot; width=&quot;46%&quot; style=&quot;margin:20px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Every time you flip a switch on a microscopic level you make a physical connection and disconnection in quick succession. This phenomenon is called &lt;a href=&quot;https://www.wikiwand.com/en/Switch#/Contact_bounce&quot;&gt;contact bouncing&lt;/a&gt; or chattering. At the left you see what happens if the resistor fails. There is a single spike and then silence! At the right you see a resistor that does everything according to the book.&lt;/p&gt;

&lt;p&gt;This bad guy here, the resistor, is of the thin-film MELF type. If you check &lt;a href=&quot;https://crownstone.rocks/attachments/carbon-versus-melf.pdf&quot;&gt;this report&lt;/a&gt; you will see how the “clogging” is done! Namely having the electrons meandering through an elaborate labyrinth. The MELF type reduces the number of “turns” that have to be taken by the electrons, by using an innovative helical structure. Although this cool design should be enough to cope with spikes (also according to the specifications by the manufacturer!) this is regretfully not the case! We have to up the game and pick something non-metal with the highest sublimation point of the elements, carbon! At the right you see carbon coming to the rescue, no problems with spikes whatsoever!&lt;/p&gt;

&lt;p&gt;The carbon resistor is larger, so this leads to a change in the printed circuit board. Without waiting till the final results are coming in, we already ordered these immediately, so there is as little delay as possible! The housing arrives in the first week of November, so almost there!!&lt;/p&gt;

&lt;h2 id=&quot;header-no-hardware-talk-please&quot;&gt;No hardware-talk, please!&lt;/h2&gt;

&lt;p&gt;Have you ever considered why there are no cheap trackers on the market? This is because the combination of GPS (for outdoor localization) and GPRS (for transmitting this information) is both expensive and energy consuming! Only products like the Van Moof bike in the picture are large enough to house the required batteries and carry the costs. So, how can we, commoners, track our stuff!?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/vanmoof.jpg&quot; alt=&quot;Van Moof bike&quot; title=&quot;Van Moof bike&quot; class=&quot;img-center&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this picture you see a fancy bike from &lt;a href=&quot;https://www.vanmoof.com/en_nl/&quot;&gt;Van Moof&lt;/a&gt;. We tracked it, but were too late! Someone already cut through the frame! Ask Hans from Almende about the details! ;-)&lt;/p&gt;

&lt;p&gt;Of course, Bluetooth Low-Energy is the solution!&lt;/p&gt;

&lt;p&gt;If enough people are walking around it is possible to use all those phones as location sensors. This is the concept behind &lt;a href=&quot;https://www.thetrackr.com/#crowdgps&quot;&gt;Crowd GPS from TrackR&lt;/a&gt;. Every person that is within BLE range of a device that requires tracking can help with finding it!&lt;/p&gt;

&lt;p&gt;It doesn’t take long to realize that the Crownstones might help with that as well! Imagine the Crowd GPS network we can roll out, awesome! The social consequences of the Crownstones are so plentiful it amazes us all the time how much this technology can work like a catalyst.&lt;/p&gt;

&lt;h2 id=&quot;header-consumer-electronics-show&quot;&gt;Consumer Electronics Show&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ces.tech/&quot;&gt;CES&lt;/a&gt; is the biggest consumer electronics fair in the world. As our ardent readers you know we are using the newest Nordic chip on the market as well as contributing to their &lt;a href=&quot;https://github.com/crownstone/nRF51-ble-bcast-mesh&quot;&gt;OpenMesh code&lt;/a&gt;. We are extremely honored to be asked to have our products displayed in their booth in Las Vegas! If you have suggestions about how to make our product the “coolest”, don’t hesitate to drop us some creative ideas!&lt;/p&gt;

&lt;p&gt;If you want to do this in person, our &lt;a href=&quot;http://meetup.com/Smart-Home-Bluetooth-Hackerspace/&quot;&gt;meetup list&lt;/a&gt; is approaching 100 members, feel free to drop by any Friday!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Why is engineering of the utmost importance?</title>
   <link href="https://crownstone.rocks/nl/2016/10/06/why-is-engineering-of-the-utmost-importance"/>
   <updated>2016-10-06T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/10/06/why-is-engineering-of-the-utmost-importance</id>
   <content type="html">
&lt;h1 id=&quot;header-engineering&quot;&gt;Engineering!&lt;/h1&gt;
&lt;p&gt;How important is good engineering actually? We consider it extremely important! Consider this update an ode to the engineer!&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;Manufacturing is more than just putting parts together. It's coming up with ideas, testing principles and perfecting the engineering, as well as final assembly.&quot; 
	- James Dyson
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;header-the-electronic-face-lift&quot;&gt;The Electronic Face Lift&lt;/h1&gt;

&lt;p&gt;In the following picture you see at the left the original design for the electronics of the Crownstone plugs. There are four printed circuit boards (PCBs): the green plates. Two round boards right on top of each other as a kind of sandwich, one board at the bottom of the red box (a capacitor), and one board attached with a yellowish cable totally at the left (the Bluetooth radio). At first sight this looks quite complex and indeed it is. Moreover, that it is complex means that it is also: 1) more expensive, 2) more brittle, and 3) slower to manufacture. For example, the flexible cable costs more than € 5,- to manufacture if we order a couple of thousand plugs. Besides that, more boards means higher costs for assembly, more work configuring machines, etc. etc. all compounding in unanticipated skyrocketing bill-of-material costs.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/design-before-after.jpg&quot; alt=&quot;Design before and after&quot; title=&quot;Design before and after&quot; class=&quot;img-center&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Left: design before. Right: design after.&lt;/p&gt;

&lt;p&gt;What a beautiful electronic face lift! In the preceding picture you see at the right the final design of our plugs. Those four different boards? There are gone! By strategically placing the red box with prolonged “legs” on top of the relays, there is magically much more space to place all the components we need. The radio is placed on the main board, the high-voltage lines are as short as possible. Everything even fits on one side of the PCB, incredible! We have to heap praises on the engineers from &lt;a href=&quot;http://vanmierlo.com/&quot;&gt;Van Mierlo&lt;/a&gt;! Thanks Toin!&lt;/p&gt;

&lt;h2 id=&quot;header-plastics-and-metals&quot;&gt;Plastics and Metals&lt;/h2&gt;

&lt;p&gt;Also &lt;a href=&quot;http://www.ams-site.com/&quot;&gt;AMS&lt;/a&gt; made large engineering steps! For example, the pins are now embedded into the plastic to obtain a very rigid structure. Let’s just show some pictures!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/plastic-metal-proto0.png&quot; alt=&quot;Prototype Plastic and Metal&quot; title=&quot;Plastic and metal prototype&quot; class=&quot;float-left&quot; width=&quot;46%&quot; style=&quot;margin:20px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/plastic-metal-proto1.png&quot; alt=&quot;Prototype Plastic and Metal&quot; title=&quot;Plastic and metal prototype&quot; class=&quot;float-right&quot; width=&quot;46%&quot; style=&quot;margin:20px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/plastic-metal-proto2.jpg&quot; alt=&quot;Prototype Plastic and Metal&quot; title=&quot;Plastic and metal prototype&quot; class=&quot;float-left&quot; width=&quot;30%&quot; style=&quot;margin:20px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/plastic-metal-proto3.jpg&quot; alt=&quot;Prototype Plastic and Metal&quot; title=&quot;Plastic and metal prototype&quot; class=&quot;float-left&quot; width=&quot;30%&quot; style=&quot;margin:20px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here you see the first samples at the left and the current samples at the right. Nice to see that the blue color gets brighter over time!&lt;/p&gt;

&lt;h2 id=&quot;header-shipping&quot;&gt;Shipping&lt;/h2&gt;

&lt;p&gt;Of course you’re all curious when we will ship! We want to be 100% sure that our product is 100% perfect. This means that there should be nothing in the hardware that we didn’t anticipate! One of our competitors (although without our unique selling point of presence detection due to the use of Wi-Fi, not Bluetooth), &lt;a href=&quot;http://www.parce.de/en/&quot;&gt;Parce&lt;/a&gt;, had to recall all their products, a warning tale! So, be prepared to receive them soon, but we won’t overhaste in sending them out.&lt;/p&gt;

&lt;h2 id=&quot;header-engage&quot;&gt;Engage!&lt;/h2&gt;

&lt;p&gt;Come to our monthly hackerspace to get to know us! Just out of work you can drop by at Rotterdam Central Station tomorrow. &lt;a href=&quot;www.meetup.com/Smart-Home-Bluetooth-Hackerspace/&quot;&gt;Join our Hackerspace!&lt;/a&gt; You’ll discover how the app will look like for example! We’re happy we’re approaching the end of our product development. It’s been a crazy time and we’re grateful you’ve been with us along the journey!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>They broke the mould</title>
   <link href="https://crownstone.rocks/nl/2016/09/06/they-broke-the-mould"/>
   <updated>2016-09-06T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/09/06/they-broke-the-mould</id>
   <content type="html">
&lt;h1 id=&quot;header-pioneer&quot;&gt;Pioneer&lt;/h1&gt;

&lt;p&gt;“They broke the mould when they made Kraftwerk”. An English saying that indicates that - in this case a music band - is super special, unique under the sun. Kraftwerk pioneered electronic music, and although everybody makes it nowadays, there can be only one pioneer!&lt;/p&gt;

&lt;p&gt;We live in exciting times because technology allows us to be pioneers on an unprecedented scale. Apple pioneered the first real smartphone. A phone with a nice big touch screen and no keyboard at all, integrating internet and phone functionality seamlessly. Now it’s time for the first real smart home. Crownstone, the first system that reacts to your personal presence, is uniquely positioned to be that pioneer as well. And so are you!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/mould0.png&quot; alt=&quot;Mould&quot; title=&quot;Mould for Crownstone&quot; class=&quot;img-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/mould1.png&quot; alt=&quot;Mould&quot; title=&quot;Other side of the mould for the Crownstone&quot; class=&quot;img-center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-moulds-for-the-plugs&quot;&gt;Moulds for the Plugs&lt;/h2&gt;

&lt;p&gt;If you were actually scared that we broke some physical moulds, we definitely did not!! AMS worked extremely hard in the last weeks to build these miracles of engineering, beautiful! If you ever wondered about how you create the plastic that a plug is made off, the following pictures you will like a lot!&lt;/p&gt;

&lt;h2 id=&quot;header-packaging&quot;&gt;Packaging&lt;/h2&gt;

&lt;p&gt;There are many, many things to think of when building a smart product. In the next newsletter we will go in detail about what can be expected in the app. But apart from developing the smartphone software, the software in the cloud, the firmware on the Crownstone, and designing the electronics, the plastics, and the metal, there are myriad of other things to do! From certification, having a webshop, adding a forum, moving to another place, creating an investor kit, setting up partnerships, to mundane things like “how should the packaging look like”? To give you a sneak preview, this is what we came up with!&lt;/p&gt;

&lt;p&gt;An impression of the packaging for the Crownstone plugs:&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/QtbkMTul8vU?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;Pretty neat, isn’t it!? Currently our schedule is such that we estimate that we can ship the plugs in the week of the 10th of October. One of our biggest hurdles has been to bring down the costs for the electronics to acceptable levels while still having outstanding quality. One example, in many USB adapters you will see a capacitor that is not classified as an X2. Even though it might be a metallized film capacitor with self-healing properties it might have undesired failure modes (see e.g. this pdf for techies about caps in the TGV trains). Anyway, thank you all for being patient with us! Like you see, we are almost there! We will slightly increase the communication in the coming weeks to keep you up to date when exactly you can expect the Crownstones (and we will make sure we have an up-to-date address).&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Holidays!</title>
   <link href="https://crownstone.rocks/nl/2016/08/11/holidays"/>
   <updated>2016-08-11T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/08/11/holidays</id>
   <content type="html">
&lt;h1 id=&quot;header-holidays&quot;&gt;Holidays&lt;/h1&gt;

&lt;p&gt;If you’re on holidays, enjoy your time! Maybe you’re enjoying the sun in Spain or in Zeeland! This is the last summer you have to worry about switching off all your devices before you leave for the sun! Your computer monitor, your television, your modem. And if you like to reduce your carbon footprint, did you realize that by traveling lighter, the plane will use less fuel? And do you know that air conditioners use more than 10x the amount of energy that a ceiling fan uses? The comfort from the latter comes from the “chilling factor” that makes air feel much cooler because it is moving. Interestingly, a combination of air conditioning and a ceiling fan can be the best trade-off between comfort and sustainability. The air conditioning only needs to cool it to a certain degree and the fan does the remaining part! Naturally, if nobody is present, the fan shouldn’t be on! :-)&lt;/p&gt;

&lt;h2 id=&quot;header-crownstone-plugs&quot;&gt;Crownstone Plugs&lt;/h2&gt;

&lt;p&gt;Not everybody can be on vacation! At Crownstone we have been working hard to get everything made! The very first samples - without the full functionality and with a different form factor - have left our premises! We feel sad and proud! One of the new owners is Qurrent, an energy provider in the Netherlands with a green vision. A second party is a promising reseller with a possible first deal of 5000 Crownstones! And a third party is Watty, who raised 3 million last month and would love to roll out many Crownstones in the coming years! Moreover, we are continuously supporting Deerns to get this technology also into offices. 
&lt;img src=&quot;https://crownstone.rocks/attachments/first-crownstone-orders-out.png&quot; alt=&quot;First orders out&quot; style=&quot;width: 500px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The moulds for the Crownstone plugs are being created right now. This is a long and tedious process. Let’s see if we can get some pictures of it for the next update! As we’ve previously communicated, we won’t be able to ship them before the holidays. Expect the first ones to arrive in September!&lt;/p&gt;

&lt;p&gt;The nice uptake about the longer process is that we’ve a bit more time to upgrade the electronics. We can use a newer chip from Nordic: one from the nRF52 series rather than from the nRF51 series. It is able to run more things in parallel, such as scanning for eventual fitness bracelets and sending iBeacon or Eddystone messages at the same time to allow your phone to pinpoint the room. As a user you don’t need to know anything of this, we’ll make sure you have state-of-the-art hardware!&lt;/p&gt;

&lt;h2 id=&quot;header-crownstone-built-ins&quot;&gt;Crownstone Built-ins&lt;/h2&gt;

&lt;p&gt;The Crownstone plug is the most difficult product to create. The built-ins shouldn’t be considered a walk in the park though. We’ve been working together with Van Mierlo with whom we have also collaborated in a drone project, called FireSwarm, at Almende, together with other DevLab partners. If you compare the picture below with the picture on the website, you’ll notice that the nRF module is gone. It is replaced by the radio reference circuit from Nordic. There have been also multiple components added to make sure the board can handle spikes and other challenges on the electrical grid. Using a second perpendicular board we achieve the thinness we were aiming for (10 mm).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/builtins-rotatedcomponents.jpg&quot; alt=&quot;Built-in Crownstones&quot; style=&quot;width: 500px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We wish you all a perfect holiday! Be careful and enjoy your time!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Dimming random devices with the Crownstone</title>
   <link href="https://crownstone.rocks/nl/2016/04/20/dimming-random-devices-with-the-crownstone"/>
   <updated>2016-04-20T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/04/20/dimming-random-devices-with-the-crownstone</id>
   <content type="html">
&lt;h1 id=&quot;header-dimming-random-devices-with-the-crownstone&quot;&gt;Dimming random devices with the Crownstone&lt;/h1&gt;

&lt;p&gt;Just before we started moving to the new office, we tortured some random devices. Instead of just switching them on and off, we wanted to see what happened if they are dimmed. The Crownstone dims via &lt;a href=&quot;https://www.arduino.cc/en/Tutorial/PWM&quot;&gt;PWM&lt;/a&gt;, which is basically switching on and off very fast. In our case it was switched at 625 Hz.&lt;/p&gt;

&lt;p&gt;Unfortunately, we already threw away a lot of old devices as preperation for the move, but we still had a couple of devices to test on:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Switching power supply&lt;/li&gt;
  &lt;li&gt;PC speakers&lt;/li&gt;
  &lt;li&gt;Monitor&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We made a short &lt;a href=&quot;https://youtu.be/y1rjwLoWbDg&quot;&gt;video&lt;/a&gt; of the session.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/y1rjwLoWbDg?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;To our surprise, none of the devices were permanently damaged. This is hopeful for us, as it means less chance that a user destroys their equipment by accidentally dimming a device that shouldn’t be dimmed (something that should not be possible, but you never know).&lt;/p&gt;

&lt;p&gt;The monitor seemed to have the most trouble with PWM; it started to make a high pitched noise, and at when going from off to 3%, random green pixels appeared on the screen. This green noise stayed untill we rebooted both the Raspberry Pi and the monitor.&lt;/p&gt;

&lt;p&gt;Another interesting thing was the current consumption of the monitor. In normal operation, the monitor consumes current in short bursts, 100 times per second. You can see this in the image below, where a graph of voltage (blue) and current (yellow) is shown over 0.02 seconds (1 period of AC power).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/pwm-monitor-100.png&quot; alt=&quot;Voltage and current curve of a monitor in normal operation&quot; title=&quot;Voltage and current curve of a monitor in normal operation&quot; style=&quot;width: 800px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For a duty cycle of 50%, you start to see very different behaviour, you see more peaks of current consumption. It’s likely that the power supply in the monitor draws current each time PWM is in the &lt;em&gt;on&lt;/em&gt; state, which happens about 12 times as often as for the 50 Hz AC.
Since the monitor still needs the same amount of power, the current peaks at higher levels (because power = voltage * current summed over time, see Pavg at &lt;a href=&quot;https://en.wikipedia.org/wiki/AC_power#Real_number_formulas&quot;&gt;wikipedia&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/pwm-monitor-50.png&quot; alt=&quot;Voltage and current curve of a monitor at 50% PWM&quot; title=&quot;Voltage and current curve of a monitor at 50% PWM&quot; style=&quot;width: 800px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At 3% duty cycle, the peaks are even shorter.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/pwm-monitor-3.png&quot; alt=&quot;Voltage and current curve of a monitor at 3% PWM&quot; title=&quot;Voltage and current curve of a monitor at 3% PWM&quot; style=&quot;width: 800px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If you also performed similar experiments, or if you have better explanations, feel free to leave it in the comments!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Inertia energy balance management system</title>
   <link href="https://crownstone.rocks/nl/2016/01/28/inertia-energy-balance-management-system"/>
   <updated>2016-01-28T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2016/01/28/inertia-energy-balance-management-system</id>
   <content type="html">
&lt;h1 id=&quot;header-load-balancing-on-the-grid&quot;&gt;Load-balancing on the grid&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://www.inertia-project.eu/inertia/&quot;&gt;Inertia&lt;/a&gt; is an FP7 project that aims at expressing local energy use/production elasticity in a negotiation system that utilizes the published “flexibility” (=elasticity) to produce a balanced load to the energy production counterpart. The focus of the project is tertiary buildings, but the system is just as useful for any built environment and facilitates the changeover to more local production of electricity by home-owners and facilities alike.&lt;/p&gt;

&lt;p&gt;Flexibility can be aggregated from the level of a controlled light upto a complete set of buildings, and is expressed in four main categories to guard against too much privacy loss. The categories are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;HVAC (thermal and air comfort),&lt;/li&gt;
  &lt;li&gt;lighting,&lt;/li&gt;
  &lt;li&gt;RES (=Renewable Energy Resources) and&lt;/li&gt;
  &lt;li&gt;other.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The last category includes coffee machines, dish washers, etc. to make sure it all adds up.&lt;/p&gt;

&lt;p&gt;By providing a short horizon forecast on individual LCH level and a combined forecast of upto 12 hours for an MV-point the energy provider is assured a much more accurate figure upon which to base his production and or buying decisions. The MV-point aggregated level in the system is called the aggregator control hub and is the control system that coordinates an entire set of LCH’s that for the full load of an MV-point (Medium Voltage). In general an MV-point is between 0.5 and 2 MW.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/inertia1.png&quot; alt=&quot;Switch loads&quot; title=&quot;Switch loads to create a steady aggregated loads&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The experiments we have done have shown that the ability to switch loads in ms allows for a very steady aggregated load (see fig 1), The LCH’s can be instructed to use their control limits in such a way that they fulfill as much as possible their own predicted energy load. It is important to understand that load differs from energy consumption, as consumption is calculated over larger periods, which would still allow for large variations in load. These variations however are very detsabilizing for smaller subgrids with large contributions from locally generated energy such as PV and wind. The very fast reaction times of below 10ms and the tiered availability of flexibility both inside the LCH and between these LCH’s as facilitated by the ACH, are able to counteract the natural fluctuations that come with the use of PV and wind.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/inertia2.png&quot; alt=&quot;Under noise&quot; title=&quot;Heavy noise from random user events&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To illustrate the effectivity we have created the possibility to introduce random user events up to a scale that is normally impossible for humans to realize. (see fig 2).&lt;/p&gt;

&lt;p&gt;The aggregated flexibility of the well behaved LCH’s is easily enough to compensate (fig 3)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/inertia3.png&quot; alt=&quot;Aggregated flexibility&quot; title=&quot;Aggregated flexibility&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We are more than happy to elaborate on the principles on your request 8-) and apologies for the rapid introduction of a lot of jargon…&lt;/p&gt;

&lt;p&gt;Oh yeah: The links on the page allow for accessing the APIs of the different LCH’s at a bus. A bus is identical to a single MV-point. As you can see I have used different buses to illustrate the behaviour.
All of the LCH’s in all buses are at the bottom of the page.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Recognize that fridge!</title>
   <link href="https://crownstone.rocks/nl/2015/09/04/recognize-that-fridge"/>
   <updated>2015-09-04T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2015/09/04/recognize-that-fridge</id>
   <content type="html">
&lt;h1 id=&quot;header-device-recognition&quot;&gt;Device recognition&lt;/h1&gt;

&lt;p&gt;After thorough preparation, we have lift-off with the development of device classification for the Crownstone! For now I’m using second-hand data and starting with basic techniques, but with an accuracy in tests of 93.7% after just the first week of actual implementation and experimentation, the future looks bright!&lt;/p&gt;

&lt;p&gt;Here’s some stats and a confusion matrix of my latest cross-validation test, where you can see what kind of devices we can already identify. This classification method takes ‘traces’ of 24 hours as input, with a power level in Watts, each second. I extract 14 hand-implemented features from that data, and feed them through a &lt;a href=&quot;http://weka.sourceforge.net/doc.dev/weka/classifiers/meta/RandomCommittee.html&quot;&gt;Random Committee classifier&lt;/a&gt; from the Weka set. RandomCommittee follows the same concept as &lt;a href=&quot;https://en.wikipedia.org/wiki/Random_forest&quot;&gt;Random Forest&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The numbers correspond to classification results. The row pertains to the device from which the data was measured, and the column indicates the decision made by the classifier.&lt;/p&gt;

&lt;h2 id=&quot;header-stratified-cross-validation&quot;&gt;Stratified cross-validation&lt;/h2&gt;

&lt;p&gt;Results are promising!&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th&gt;Quantity&lt;/th&gt;
      &lt;th&gt;Percentage&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Correctly Classified Instances&lt;/td&gt;
      &lt;td&gt;1709&lt;/td&gt;
      &lt;td&gt;93.7466 %&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Incorrectly Classified Instances&lt;/td&gt;
      &lt;td&gt;114&lt;/td&gt;
      &lt;td&gt;6.2534 %&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Kappa statistic&lt;/td&gt;
      &lt;td&gt;0.9337&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Mean absolute error&lt;/td&gt;
      &lt;td&gt;0.0065&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Root mean squared error&lt;/td&gt;
      &lt;td&gt;0.0537&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Relative absolute error&lt;/td&gt;
      &lt;td&gt;14.792  %&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Root relative squared error&lt;/td&gt;
      &lt;td&gt;36.2652 %&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Total Number of Instances&lt;/td&gt;
      &lt;td&gt;1823&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;header-confusion-matrix&quot;&gt;Confusion Matrix&lt;/h2&gt;

&lt;p&gt;The confusion matrix shows which devices are easy and which ones are hard to distinguish from each other.&lt;/p&gt;

&lt;div style=&quot;font-size: 9px&quot; class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u   v   w   x   y   z  aa  ab  ac  ad  ae  af  ag  ah  ai  aj  ak  al  am  an  ao  ap  aq   &amp;lt;-- classified as
 4   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   a = Alarmclock
 0  89   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   b = Amplifier
 0   0  43   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   c = BeanToCupCoffeemaker
 0   0   0  13   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   d = Breadcutter
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   2   0   0   0   0   0   0   0   0 |   e = CdPlayer
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   f = Charger-PSP
 0   0   0   0   0   1   3   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   g = Charger-Smartphone
 0   0   0   0   0   0   0  80   0   0   0   0   0   0   0   0   0   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   h = Coffeemaker
 0   0   0   0   0   0   0   1  14   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0 |   i = Cookingstove
 0   0   0   0   0   0   0   0   0  23   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   j = DigitalTvReceiver
 0   0   0   0   0   0   0   0   0   0  73   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0 |   k = Dishwasher
 0   0   0   0   0   0   0   0   0   0   0   3   0   0   0   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   l = DvdPlayer
 0   0   0   0   0   0   0   0   0   0   0   0  28   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   4   0   0   0   0   0   0   1   0   0   0   0   0   0   0 |   m = EthernetSwitch
 0   0   0   0   0   0   0   0   0   0   0   0   0   9   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   n = Freezer
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   3   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   o = Iron
 0   2   0   0   0   0   0   0   0   0   0   0   0   0   0  74   0   0   0   1   0   0   0   0   0   1   0   1   0   0   0   0   2   2   0   0   0   0   0   0   0   0   3 |   p = Lamp
 0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   7   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0 |   q = LaundryDryer
 0   0   0   0   0   0   0   3   0   0   0   0   0   0   0   1   0  56   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   r = MicrowaveOven
 0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  10  11   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   s = Monitor-CRT
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  12 176   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0 |   t = Monitor-TFT
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  13   0   0   0   2   0   0   0   1   0   1   0   0   0   0   0   0   0   0   0   0   0   0 |   u = Multimediacenter
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0 150   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   v = PC-Desktop
 0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   1  64   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   w = PC-Laptop
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  11   0   0   0   0   0   0   0   0   0   3   0   0   0   0   0   0   0   0   0 |   x = Playstation3
 0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0  15   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |   y = Printer
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   7   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0 |   z = Projector
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 204   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0 |  aa = Refrigerator
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   9   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |  ab = RemoteDesktop
 0   0   0   0   0   0   0   0   0   0   0   0   4   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  36   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |  ac = Router
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   0   1   0   0   0   0   0   0   0   5   0   0   0   0   0   0   0   0   0   0   0   0   0 |  ad = SolarThermalSystem
 0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   1   1   0   0   0   0   0   0   0   0   0  25   0   0   0   0   0   0   0   0   0   0   0   0 |  ae = Subwoofer
 0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  22   0   0   0   0   0   0   0   0   0   0   0 |  af = Toaster
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   1   0   0   0   0   0   0   0   0   0   0  33   1   0   0   0   0   0   0   0   0   0 |  ag = TV-CRT
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   5   0   0   0   0   0   0   0   1   0   1   0   0   0   0   0   0   0 110   0   0   0   0   0   0   0   0   0 |  ah = TV-LCD
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0  28   0   0   0   0   0   0   0   0 |  ai = USBHarddrive
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  10   0   0   0   0   0   0   0 |  aj = USBHub
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |  ak = VacuumCleaner
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   2   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0  16   0   0   0   0   0 |  al = VideoProjector
 0   0   0   0   0   0   0   0   0   0   2   0   0   0   0   1   0   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  51   0   0   0   0 |  am = Washingmachine
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 |  an = WaterBoiler
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0  55   0   0 |  ao = WaterFountain
 0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 133   0 |  ap = WaterKettle
 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   4 |  aq = XmasLights
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ideas for improvement are many, and this was just the first week. Things are looking up for classification! Cheers~&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Human SLAM, Indoor localization using particle filters</title>
   <link href="https://crownstone.rocks/nl/2015/09/03/human-slam-indoor-localization-using-particle-filters"/>
   <updated>2015-09-03T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2015/09/03/human-slam-indoor-localization-using-particle-filters</id>
   <content type="html">
&lt;h2 id=&quot;header-human-slam-indoor-localization-using-particle-filters&quot;&gt;Human SLAM, Indoor localization using particle filters&lt;/h2&gt;

&lt;p&gt;A key problem (or challenge) within smart spaces is indoor localization: making estimates of users’ whereabouts. Without such information, systems are unable to react on the presence of users or, sometimes even more important, their absence. This can range from simply turning the lights on when someone enters a room to customizing the way devices interact with a specific user.&lt;/p&gt;

&lt;p&gt;Even more important for a system to know where users exactly are, is to know where users are relative to the devices it can control or use to sense the environment. This relation between user and device location is an essential input to these systems. A central question in this field is therefore:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;What are the locations of devices in a smart space and what are the current locations of users relative to these devices?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;During my graduation project at DoBots I worked on an algorithm, called SLAC : Simultaneous Localization and Configuration, to solve this double localization problem: finding position of users and devices simultaneously.  With SLAC we aimed to simultaneously locate both the user and the devices of a system deployed in an indoor environment. The target platform was the Crownstone.&lt;/p&gt;

&lt;p&gt;The general idea of the project is to combine characteristics of devices with information from users that walk around in a building. The figure below illustrates this. We start without any knowledge (1), then we let users walk around and gather data (2), eventually we will learn the locations of each device in the building (3).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/slac_project_overview.png&quot; alt=&quot;SLAC project overview&quot; title=&quot;SLAC project overview&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We use characteristics that are already available in many smart spaces: signal strength measurements (or RSSI) from devices and motion data from smart phones and other portable devices. These two inputs are combined in a system that can locate users and devices, respect individual users’ privacy and perform all estimations in real time. SLAC is based on a common technique from robotics, &lt;a href=&quot;https://en.wikipedia.org/wiki/Simultaneous_localization_and_mapping&quot;&gt;simultaneous localization and mapping&lt;/a&gt; (SLAM), and in particular the FastSLAM algorithm&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;h3 id=&quot;header-algorithm-overview&quot;&gt;Algorithm overview&lt;/h3&gt;

&lt;p class=&quot;float-right&quot; style=&quot;width: 400px; margin: 0px 0px 15px 20px;&quot;&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/slac_algorithm.svg&quot; alt=&quot;SLAC algorithm&quot; title=&quot;SLAC algorithm&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The SLAC algorithm uses two types of inputs: signal strength (RSSI) measurements to determine distances to devices and inertial measurement unit (IMU) data for pose estimations.&lt;/p&gt;

&lt;p&gt;The raw RSSI signal contains noise. To filter out large spikes, while trying to retain distance information, a (regular) &lt;a href=&quot;https://en.wikipedia.org/wiki/Kalman_filter&quot;&gt;Kalman filter&lt;/a&gt; is used to filter incoming signal strength measurements.&lt;/p&gt;

&lt;p&gt;The second input is focussed on modeling motion. Two sensors are used to measure the motion of users: an accelerometer and a compass. These two sensors are present in almost any modern mobile device (including phones, tablets and wearables). The compass returns the current rotation or heading relative to the global north; this does not require any processing and can be used directly as an input. The acceleration is used as input for a pedometer. The pedometer is based on a design by Zhao (2010)&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; and Ménigot (2014)&lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;Given the distance measurements and the motion data, we can map the SLAM problem to the domain of sensor networks and indoor localization. The robot’s controls, which are used for pose sampling, are replaced by our motion estimates. The observations, which are often 2D measurements, are replaced by 1D RSSI measurements similar to the approach of Sun et al. (2009)&lt;sup id=&quot;fnref:4&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;. The flow and update rate of the SLAC algorithm is controlled by the pedometer: the algorithm is run after a new step has been detected.&lt;/p&gt;

&lt;p&gt;As device observations are 1D and signals propagate spherical it is impossible, given a single measurement, to determine the bearing of an observation. We therefore must first make an initial estimate of a beacon location before we can refine it using the default method of FastSLAM. We solve this by implementing a second separate particle filter that focusses solely on finding an initial estimate of a device’s location.  After each new measurement we update this filter by computing the importance weight and subsequently resampling the filter. When the variance between particles is low enough (given some threshold), we assume that a a devices’s location has been found.&lt;/p&gt;

&lt;p&gt;Our initialization filter is a separate component that uses the current best user estimate as input. So, to improve on our rough initial estimate we move the estimation from the global initalization filter to each individual particle. As it is impractical to update MxN particle filters (one particle filter per landmark per particle) we use an &lt;a href=&quot;https://en.wikipedia.org/wiki/Extended_Kalman_filter&quot;&gt;extended Kalman filter&lt;/a&gt; (EKF) to estimate a landmark’s location (similar to the original FastSLAM implementation).&lt;/p&gt;

&lt;p&gt;When each observation is processed all particles have been updated and contain new importance weights. We then perform resampling. However, it does not make sense to resample after each step; there is just to little information for the resample process. In order to overcome this we utilize &lt;a href=&quot;https://en.wikipedia.org/wiki/Particle_filter#Sequential_importance_resampling_.28SIR.29&quot;&gt;Sequential Importance Resampling&lt;/a&gt; (SIR).&lt;/p&gt;

&lt;h3 id=&quot;header-implementation&quot;&gt;Implementation&lt;/h3&gt;

&lt;p class=&quot;float-right&quot; style=&quot;width: 400px; margin: 0px 0px 15px 20px;&quot;&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/slac_devices_example.png&quot; alt=&quot;Screenshots of application&quot; title=&quot;Screenshots of application&quot; /&gt;&lt;/p&gt;

&lt;p&gt;SLAC has been fully implemented in Javascript and more specifically using the &lt;em&gt;ECMAScript version 6/2015&lt;/em&gt; standard. Javascript has been chosen to support a large range of devices on which the algorithm can run; this includes web browsers and mobile phones. The &lt;a href=&quot;https://cordova.apache.org&quot;&gt;Apache Cordova platform&lt;/a&gt; was used to access native API’s of mobile devices such as the Bluetooth radio and the motion sensors.&lt;/p&gt;

&lt;h3 id=&quot;header-simulations&quot;&gt;Simulations&lt;/h3&gt;

&lt;p&gt;We evaluated the system using simulations first; this granted the opportunity to repeat the experiment and control the environment. In the simulations we emulated the world by building an environment of similar dimensions as one of our real world test beds.&lt;/p&gt;

&lt;p&gt;We varied the number of RSSI updates each device broadcasts between each consecutive algorithm step. As the signal strength is used to make range estimates the number of received messages could have an effect on the overall performance. The different settings are: 1, 2, 5, 10, 25, 50 and 100 updates per step. The results are shown in the figure below.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/slac_rssi_step.png&quot; alt=&quot;Results of and simulations&quot; title=&quot;Results of simulations&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We found that the number of RSSI updates per algorithm step has a very high effect on the performance of the system. This follows directly from our system: given more information the Kalman filter responsible for filtering the raw RSSI signal will be able to give a less noisy estimate of the current distance to a device. These distance estimates are vital in updating device positions and weighing particles. These results suggest that we need a high update rate for real world applications.&lt;/p&gt;

&lt;p&gt;In terms of performance, these simulations showed that within controlled environments (i.e. Gaussian noise, fixed paths of users, no obstacles), we can achieve an average localization error below .20m. This means that, after running the algorithm, the estimate of a device’s location will, on average, only be 20 centimeters away from its actual position. When the update frequency of devices is lowered, to a level similar to our live tests, the average localization error increased and resulted in an average error of .69 to 1.25m.&lt;/p&gt;

&lt;h3 id=&quot;header-real-world-tests&quot;&gt;Real world tests&lt;/h3&gt;

&lt;p&gt;Simulating RSSI values and movement has its drawbacks: noise is predictable and there is less interference from events in the environment. In general it is hard to fully simulate all the factors of a real world environment. In order to asses the performance of the algorithm outside a simulated world, we also tested the algorithm in the wild at the DoBots/Almende building.&lt;/p&gt;

&lt;p&gt;While SLAC runs online and in real time, the data for this live test has been recorded and analyzed offline at a later stage. The algorithm did however run during the data collection to give feedback about the process. Each recorded data set consisted of the raw unprocessed and unfiltered motion data (i.e. acceleration and heading) and RSSI measurements. These datasets are played back several times to get an average performance. This is particular important as the algorithm is a random process: using the same input data twice will result in different outcomes.&lt;/p&gt;

&lt;p&gt;The results of our live tests are shown in the figure below (A_1 to A_4). Additionally, the simulations results of the two conditions (Sim 5 &amp;amp; Sim 10) which are comparable to a real world setup are displayed as a reference.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/slac_almende_results.png&quot; alt=&quot;Results of live tests and simulations&quot; title=&quot;Results of live tests and simulations&quot; /&gt;&lt;/p&gt;

&lt;p&gt;All combined, our live tests showed a localization error of 2.3m, averaged over all devices. This result is good enough for room level accuracy, but there is room for improvement. These results where achieved by letting a single user walk around for one to two minutes (roughly 60 steps). All computations are done locally, i.e. running on users’ devices and without using prior information of the environment.&lt;/p&gt;

&lt;h3 id=&quot;header-demo&quot;&gt;Demo&lt;/h3&gt;

&lt;p&gt;A video of a simulation of the algorithm can be seen in the video below. A user is walking inside a building/smart space filled with seven simulated devices (DoBeacons). The blue line describes the ground truth of the user’s path. The green line is the current best estimate of this path. Devices are displayed using squares; true positions are displayed in black and estimates in red.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/NzOi9uYiAOw?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;An online demo can also be found on the website of &lt;a href=&quot;https://wouterbulten.nl/slacjs/&quot;&gt;SLACjs&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;header-code&quot;&gt;Code&lt;/h3&gt;

&lt;p&gt;The full source code is available online on &lt;a href=&quot;https://github.com/wouterbulten/slacjs&quot;&gt;GitHub&lt;/a&gt; and is licensed under the GNU Lesser General Public License v3.&lt;/p&gt;

&lt;h3 id=&quot;header-references&quot;&gt;References&lt;/h3&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Michael Montemerlo, Sebastian Thrun, Daphne Koller, and Ben Wegbreit. FastSLAM: A factored solution to the simultaneous localization and mapping problem. Proc. of 8th National Conference on Artificial Intelligence/14th Conference on Innovative Applications of Artificial Intelligence, 68(2):593–598, 2002. &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Neil Zhao. Full-featured pedometer design realized with 3-Axis digital accelerometer. Analog Dialogue, 44(6), 2010. &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Sébastien Ménigot. Pedometer in HTML5 for Firefox OS and Firefox for Android, 2014. &lt;a href=&quot;http://sebastien.menigot.free.fr/index.php?option=com_content&amp;amp;view=article&amp;amp;id=93:pedometer-in-html5-&amp;amp;catid=46:web-application-for-firefox-os&amp;amp;Itemid=82&quot;&gt;source&lt;/a&gt; &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Dali Sun, Alexander Kleiner, and Thomas M. Wendt. Multi-robot range-only SLAM by active sensor nodes for urban search and rescue. In Robocup 2008: Robot Soccer World Cup XII, volume 5399, pages 318–330, 2009. &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>I'm Busy: the app that keeps up your status</title>
   <link href="https://crownstone.rocks/nl/2015/08/25/im-busy-the-app-that-keeps-up-your-status"/>
   <updated>2015-08-25T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2015/08/25/im-busy-the-app-that-keeps-up-your-status</id>
   <content type="html">
&lt;h1 id=&quot;header-im-busy-the-app-that-keeps-up-your-status&quot;&gt;I’m Busy: the app that keeps up your status&lt;/h1&gt;

&lt;p&gt;We made a simple &lt;a href=&quot;https://play.google.com/store/apps/details?id=nl.dobots.imbusy&quot;&gt;app&lt;/a&gt; that can notify others when you’re busy.
It’s made for elderly people who, for example, don’t want to be interrupted while they’re in the bathroom.&lt;/p&gt;

&lt;p&gt;The app uses Bluetooth Smart beacons (which includes iBeacons) to localize itself. The iBeacon protocol is also
supported by our &lt;a href=&quot;https://crownstone.rocks&quot;&gt;Crownstones&lt;/a&gt;, so we naturally used those!
When you’re near such a beacon, it will set your status to busy.
In the app you can see the status of your friends, and when you call someone who’s busy, it will notify you that he/she is busy.&lt;/p&gt;

&lt;p&gt;Here are some screenshots of the app:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/imbusy-screenshot-contacts.png&quot; alt=&quot;Contact list&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/imbusy-screenshot-calling.png&quot; alt=&quot;Calling a busy person&quot; style=&quot;width: 280px&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-technical-details&quot;&gt;Technical details&lt;/h1&gt;

&lt;p&gt;In order to get your status to friends, we make use of XMPP, since it’s a nice protocol that has many (open source) implementations.
For the app, we used &lt;a href=&quot;http://www.igniterealtime.org/projects/smack/index.jsp&quot;&gt;Smack&lt;/a&gt;, which now easily runs on Android (before, you had to use aSmack).
XMPP sped up development, as it already provides authorization, keeps up contact lists, and synchronizes the status.&lt;/p&gt;

&lt;p&gt;To scan for beacons, I used our own &lt;a href=&quot;https://github.com/dobots/bluenet-lib-android&quot;&gt;bluenet android library&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;And of course, you can find the source code on &lt;a href=&quot;https://github.com/dobots/imbusy-app&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Crownstone. What is it? Students find out!</title>
   <link href="https://crownstone.rocks/nl/2015/07/24/crownstone-what-is-it-students-find-out"/>
   <updated>2015-07-24T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2015/07/24/crownstone-what-is-it-students-find-out</id>
   <content type="html">
&lt;h1 id=&quot;header-students-and-the-crownstone&quot;&gt;Students and the Crownstone&lt;/h1&gt;

&lt;p&gt;We have been not so talkative on the DoBots forums lately, because we are working a lot on a very new product, the
Crownstone! The Crownstone will be launched in a few weeks on Kickstarter! If you want to be one of the early birds,
go immediately to &lt;a href=&quot;http://crownstone.rocks&quot;&gt;http://crownstone.rocks&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;The Crownstone is a smart power outlet that can react to your proximity as well as recognize devices, lights,
appliances, based on their consumption pattern.&lt;/p&gt;

&lt;p&gt;Students from the Hogeschool Rotterdam have been exploring a wide diversity of possibilities that the Crownstone opens
up. Below you see a wall with very short clips with people explaining in Dutch what their project was about. Each of
the projects has also a website linked to it.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t1/&quot;&gt;Team 1&lt;/a&gt; developed ChildLock. Devices are only turned
on when adults are in proximity.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t2/&quot;&gt;Team 2&lt;/a&gt; worked out Green Stone. A hotel visitor gets
information about being green using technology.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t3/&quot;&gt;Team 3&lt;/a&gt; developed Start VR. Virtual reality that
allows you to picture your own furniture in an Ikea store.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t4/&quot;&gt;Team 4&lt;/a&gt; introduced Never Lose. Lights indicate for
elderly people where they have lost items with iBeacons.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t5/&quot;&gt;Team 5&lt;/a&gt; used Crownstones to indicate the way to
store employees.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t6/&quot;&gt;Team 6&lt;/a&gt; worked on Tommy. An AI that analyzes patterns
of daily life to combat loneliness.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t7/&quot;&gt;Team 7&lt;/a&gt; developed Any Morning. Your phone using the
Crownstones guides you to your morning routines to make you leave your home on time.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t8/&quot;&gt;Team 8&lt;/a&gt; invented Crowns and Kingdoms. A game that
uses energy savings measured by Crownstones to be able to build your assets faster in your kingdom.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t9/&quot;&gt;Team 9&lt;/a&gt; played with Benergy. In a student house the
energy bill is brought down through awareness by Crownstones which directly results in more beer!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t10/&quot;&gt;Team 10&lt;/a&gt; implemented Tipspromenad. Kids have to find
objects in Ikea combined with solving puzzles for fun!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t11/&quot;&gt;Team 11&lt;/a&gt; developed SpotOn. In emergency situations
lights indicate how to flee a building.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t12/&quot;&gt;Team 12&lt;/a&gt; thought about using ambient lights and
scents to attract people to parts of a store.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t13/&quot;&gt;Team 13&lt;/a&gt; developed Ikea Bump. By bumping a phone
a product will be in your virtual cart and people are led to the right place in the warehouse.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://project.cmi.hro.nl/2014_2015/emedia_mt_t14/&quot;&gt;Team 14&lt;/a&gt; experimented with ideas on cleaning
hotel rooms.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following is a video wall with a project member of every team very briefly and on the spot explaining what their
project is about. It is in Dutch, but feel free to ask for any details. We will be happy to pass them on or explain
them in more detail ourselves.&lt;/p&gt;

&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team1.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team2.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team3.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team4.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team5.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team6.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team7.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team8.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team9.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team10.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team11.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team12.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;
&lt;video style=&quot;width: 30%&quot; preload=&quot;metadata&quot; controls=&quot;&quot; class=&quot;some-css-class&quot;&gt;&lt;source src=&quot;/attachments/hogeschool_rotterdam/team13.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;

&lt;p&gt;Of course, these little clips don’t do right to what those students have been doing. Definitely check out their
websites to see much better movies and material they have created around their concepts!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Smart Product for Weight Loss</title>
   <link href="https://crownstone.rocks/nl/2015/05/26/smart-product-for-weight-loss"/>
   <updated>2015-05-26T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2015/05/26/smart-product-for-weight-loss</id>
   <content type="html">
&lt;h1 id=&quot;header-a-smart-product-for-weight-loss-through-behavior-change&quot;&gt;A smart product for weight loss through behavior change&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/bitslab_functions.png&quot; alt=&quot;Bitslab functions&quot; title=&quot;BitsLab functionality&quot; class=&quot;some-css-class&quot; style=&quot;width: 35%; float: right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Though an increased caloric intake is the most influential cause of the high and rising prevalence of overweight and obesity, there are no proper technical solutions yet that address this problem. Monitoring intake has shown to be an effective method for reducing intake. However, manual tracking tends to be inaccurate. Additionally, manual tracking requires too much mental effort for prolonged use.&lt;/p&gt;

&lt;h2 id=&quot;header-design&quot;&gt;Design&lt;/h2&gt;

&lt;p&gt;Within her graduation project, &lt;a href=&quot;https://crownstone.rocks/hall-of-fame/&quot;&gt;Anne Bekker&lt;/a&gt; has created a design that automatically monitors the user’s eating patterns. The design, called the BitsLab, facilitates behavior change by helping people analyze and improve their food intake patterns. By changing habits, it focuses on long-term changes. The design consists of an add-on for smartphones and an accompanying app. The add-on is a chewing sensor, located on the zygomatic process (a facial bone).&lt;/p&gt;

&lt;h2 id=&quot;header-sensing-technology&quot;&gt;Sensing technology&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/chewing.png&quot; alt=&quot;Talking, Chewing&quot; title=&quot;Talking, Chewing&quot; class=&quot;some-css-class&quot; style=&quot;width: 35%; float: right; margin: 0px 0px 15px 20px;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The chewing sensor, a piezoelectric transducer, monitors chewing trough bone conducted audio. The following sample demonstrates a recording of speech followed by the chewing of a pepernoot.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://crownstone.rocks/attachments/chewing.mp3&quot;&gt;Audio data&lt;/a&gt; is sent from the add-on to a smartphone app using Bluetooth LE, where it is analyzed by an algorithm. This measured data will provide users with an unbiased overview of their intake pattern.&lt;/p&gt;

&lt;h2 id=&quot;header-app&quot;&gt;App&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/bitslab_app_screen.png&quot; alt=&quot;App Screen&quot; title=&quot;App Screen&quot; class=&quot;some-css-class&quot; style=&quot;width: 18%; float: left; margin: 0px 20px 0px 0px;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The app (which is not yet developed) helps users to find out what it is they are actually craving at moments their craving for undesired eating strikes, and to find a substitute behavior that satisfies the same craving. Consecutively, the BitsLab helps users discover what triggers their craving by sending them prompts at times unplanned eating occurs. When filled in, these prompts gather categorized data on potential triggers which can be analyzed by the app and the user.&lt;/p&gt;

&lt;p&gt;Once users have discovered what it is they are craving as well as what triggers this craving, they can start changing the habit. This consists of substituting the routine of unwanted eating by an alternative, healthy behaviour, which was found to satisfy the same craving.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/bitslab_loop.jpg&quot; alt=&quot;Loop&quot; title=&quot;Habit-changing loop&quot; class=&quot;some-css-class&quot; style=&quot;width: 30%; float: right;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In addition to changing habits, the app will teach users how to form new habits. By taking very small steps, and executing them consistently at a set point within their established routine, a habit will form without requiring much effort.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/bitslab_prototype.jpg&quot; alt=&quot;Prototype&quot; title=&quot;Prototype&quot; class=&quot;some-css-class&quot; style=&quot;width: 35%; float: right; margin: 0px 0px 0px 20px;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-proof-of-concept-prototype&quot;&gt;Proof of concept prototype&lt;/h2&gt;

&lt;p&gt;The prototype is able to detect chewing. The algorithm for the chewing recognition is based on the extraction and comparison of features of a pre-recorded chew to an unknown incoming sound stream. The movie below shows the chewing algorithm app in action. When the green rectangle appears, chewing is recognized. When the app detects that the user has stopped eating, it will turn back to black.&lt;/p&gt;

&lt;h2 id=&quot;header-a-small-demonstration&quot;&gt;A small demonstration&lt;/h2&gt;

&lt;video style=&quot;max-width:100%&quot; preload=&quot;metadata&quot; controls=&quot;&quot;&gt;&lt;source src=&quot;/attachments/bitslab_movie.mp4&quot; type=&quot;video/mp4; codecs=&amp;quot;avc1.42E01E, mp4a.40.2&amp;quot;&quot; /&gt;&lt;/video&gt;

&lt;h1 id=&quot;header-literature&quot;&gt;Literature&lt;/h1&gt;

&lt;p&gt;You can read more in Anne’s &lt;a href=&quot;https://crownstone.rocks/attachments/thesis/annebekker.pdf&quot;&gt;master thesis (pdf)&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Attaching a MicroView to the Crownstone</title>
   <link href="https://crownstone.rocks/nl/2015/03/30/attaching-a-microview-to-the-crownstone"/>
   <updated>2015-03-30T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2015/03/30/attaching-a-microview-to-the-crownstone</id>
   <content type="html">
&lt;h1 id=&quot;header-microview-and-crownstone&quot;&gt;MicroView and Crownstone&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/microview.JPG&quot; alt=&quot;Crownstone with attached MicroView&quot; title=&quot;Crownstone with attached MicroView&quot; style=&quot;width: 680px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Last week I figured it would be nice to attach the &lt;a href=&quot;http://learn.microview.io/intro/general-overview-of-microview.html&quot;&gt;MicroView&lt;/a&gt; to the &lt;a href=&quot;https://dobots.nl/products/crownstone&quot;&gt;Crownstone&lt;/a&gt;, so that it could display some info you normally see on your phone.
Since the Crownstone can only supply a low amount of power, the first thing I had to do is figure out how much power the MicroView consumes. I couldn’t find this online quick enough, so I simply measured it: about 12mA at 3.3V. This should be low enough for the Crownstone to supply!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/microview_schematic.svg&quot; alt=&quot;Schematic&quot; style=&quot;width: 680px&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;header-display-the-data&quot;&gt;Display the data&lt;/h1&gt;
&lt;p&gt;Next, I experimented with the widgets, these are provided by the MicroView library and can display a number nicely. It turned out you can have two next to eachother plus some text above, perfect :).
I wrote a simple input parser that can parse arrays of integer. Then, I edited the code of the Crownstone to output temperature and RSSI values in the simple format.&lt;/p&gt;

&lt;p&gt;After this worked, I figured it was time to show a graph of the current consumption of the light bulb that is connected via the Crownstone. Since it can sample the current at about 10kHz, you can actually see the 50Hz AC curve that comes out of the &lt;a href=&quot;http://en.wikipedia.org/wiki/AC_power_plugs_and_sockets&quot;&gt;wall socket&lt;/a&gt;.
To be able to switch between the different kinds of info, I added a simple push button to the MicroView.&lt;/p&gt;

&lt;h1 id=&quot;header-video&quot;&gt;Video&lt;/h1&gt;
&lt;p&gt;In the video you see it all working. As soon as I connect to the Crownstone, the RSSI starts to update. Then I click the button and ask for a sample of the current graph.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/NiflbCiuCBE?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;h1 id=&quot;header-code&quot;&gt;Code&lt;/h1&gt;
&lt;p&gt;You can find the code I made for the MicroView at our &lt;a href=&quot;https://github.com/dobots/crownstone-micro-view&quot;&gt;github&lt;/a&gt;. And the Crownstone code is available under the &lt;a href=&quot;https://github.com/dobots/bluenet&quot;&gt;bluenet repository&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Programming the nRF51822 with the ST-link</title>
   <link href="https://crownstone.rocks/nl/2015/01/23/programming-the-nrf51822-with-the-st-link"/>
   <updated>2015-01-23T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2015/01/23/programming-the-nrf51822-with-the-st-link</id>
   <content type="html">
&lt;h1 id=&quot;header-segger-connector&quot;&gt;Segger connector&lt;/h1&gt;

&lt;p&gt;If your device has a connector that is meant for The Segger JLink programmer, you can find the pin layout at
&lt;a href=&quot;https://www.segger.com/jlink-adapters.html#CM_9pin&quot;&gt;https://www.segger.com/jlink-adapters.html#CM_9pin&lt;/a&gt;. The default programmer with the Nordic development kit comes with
the J-Link 9-pin Cortex-M adapter.&lt;/p&gt;

&lt;p&gt;The ones that you will need to break out are four wires that at the top:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1. VTref
2. SWDIO
3. GND
4. SWCLK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first one is optional! It does not provide power, it is used to &lt;strong&gt;measure&lt;/strong&gt; if the target board does have power.&lt;/p&gt;

&lt;h1 id=&quot;header-st-link-programmer&quot;&gt;ST-Link programmer&lt;/h1&gt;

&lt;p&gt;The ST-Link programmer is not easy obtainable, just as the J-Link programmer is actually hard to come by as a separate
product.&lt;/p&gt;

&lt;p&gt;For that reason it is worth to check into the STM32FDISCOVERY board. You can get the &lt;a href=&quot;http://no.mouser.com/ProductDetail/STMicroelectronics/STM32F4DISCOVERY/?qs=J2qbEwLrpCGdWLY96ibNeQ%3D%3D&quot;&gt;STM32FDISCOVERY at Mouser&lt;/a&gt; for € 13,47. This board is anyway fun, it has a
lot of GPIO (pins) and it has an ST-Link on-board.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/stm32f4_discovery.jpg&quot; alt=&quot;STM32F Discovery Board&quot; title=&quot;STM32F Discovery Board&quot; /&gt;&lt;/p&gt;

&lt;p&gt;On the STM32 board you see a connector with the label &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SWD&lt;/code&gt;. We need to pins from there. From the top (where there is
the USB connection), we need the second pin and connect it to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SWCLK&lt;/code&gt;. From the top we need also the fourth pin, and
connect it to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SWDIO&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The Crownstone (or RFduino, or any other nRF51822 board) needs then also to be powered and grounded. The power can be
fed to the device also from the STM32 board. You can connect one of the pins labeled &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3V&lt;/code&gt; on the right of the board
to the corresponding pin on your device. Ground can be obtained from many pins, pick one labeled &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GND&lt;/code&gt;. The VTref pin
from the J-Link does not have a corresponding VTref pin on the ST-Link. On the STM32FDiscovery board probably 
somewhere internally the reference voltage is measured. So, you’ll only have to break out three pins of the cable to
connect it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2. SWDIO
3. GND
4. SWCLK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use something like a logic analyzer to see if you do things wrong. This is a very, very useful tool that can save you
a lot of time.&lt;/p&gt;

&lt;h1 id=&quot;header-scripts&quot;&gt;Scripts&lt;/h1&gt;

&lt;p&gt;Normally the Crownstone we program with the J-Link from Segger, but if you want to use this cheaper solution, we also
created some files for you at the &lt;a href=&quot;https://github.com/dobots/bluenet/tree/master/scripts&quot;&gt;BlueNet repository at github&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;header-combination&quot;&gt;Combination&lt;/h2&gt;

&lt;p&gt;First of all you can combine all the required binaries into one big binary. This is done by the script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;combine.sh&lt;/code&gt;.
Before you use it, you will need to install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;srec_cat&lt;/code&gt; on your system. On Ubuntu:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt-get install srecord
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you call the script it basically just runs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;srec_cat&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./combine.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And you will see that it runs something like if you only want the SoftDevice and the Crownstone for example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;srec_cat /opt/softdevices/s110_nrf51822_7.0.0_softdevice.hex -intel crownstone.bin -binary -offset 0x00016000 -o combined.bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You have to adjust that file on the moment manually to switch between softdevices.&lt;/p&gt;

&lt;h2 id=&quot;header-openocd&quot;&gt;OpenOCD&lt;/h2&gt;

&lt;p&gt;Subsequently, we are gonna set up OpenOCD. You should &lt;strong&gt;not&lt;/strong&gt; use the one from the Ubuntu repository: it is too old. In case you installed it before:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; sudo apt-get remove --purge openocd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Download fom github and compile the source:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd /opt
git clone https://github.com/ntfreak/openocd
sudo aptitude install libtool automake libusb-1.0-0-dev expect
cd openocd
./bootstrap 
./configure --enable-stlink
make
sudo make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You will see that there are several files on &lt;a href=&quot;https://github.com/dobots/bluenet/tree/master/scripts/openocd&quot;&gt;github&lt;/a&gt; 
that you can use. There is a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;49-stlinkv2.rules&lt;/code&gt; file that you can use for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;udev&lt;/code&gt; so that no superuser rights are 
required to use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ST-Link&lt;/code&gt;. There is also an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openocd.cfg&lt;/code&gt; file that sets the defaults for the hardware we are
gonna use (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nrf51&lt;/code&gt; series).&lt;/p&gt;

&lt;p&gt;To start OpenOCD you can use our scripts again:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./flash_openocd.sh init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will start the daemon that subsequently can be talked to over telnet. You can try that if you want to (but this
is not necessary):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./flash_openocd.sh connect
&amp;gt; help
&amp;gt; exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To actually upload the binaries you have created, you can use:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./flash_openocd.sh upload combined.hex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will upload the binary you have previously composed to the target. Ready you are!&lt;/p&gt;

&lt;h2 id=&quot;header-debugging&quot;&gt;Debugging&lt;/h2&gt;

&lt;p&gt;If your target does not have pins to break out UART, it might be worth to first try and start experimenting with the
RFduino. That board has enough pins broken out, to see what for example the Crownstone code is actually doing. For
example if you combine a SoftDevice with the wrong bootloader, you will see proper error messages. If you know how
to hook up &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gdb&lt;/code&gt; over OpenOCD, please feel free to file an issue at &lt;a href=&quot;https://github.com/dobots/bluenet/&quot;&gt;https://github.com/dobots/bluenet/&lt;/a&gt; and I will
be happy to update this guide.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>FeltYou prototype</title>
   <link href="https://crownstone.rocks/nl/2014/11/28/feltyou-prototype"/>
   <updated>2014-11-28T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2014/11/28/feltyou-prototype</id>
   <content type="html">
&lt;h1 id=&quot;header-feltyou&quot;&gt;FeltYou&lt;/h1&gt;

&lt;p&gt;The name “FeltYou” is a literal translation of the Dutch word “viltje”, which is what we call chair glides: the things that prevent the chair from scratching the floor.
We figured it would be nice to give the chair glides some weighing functionality, so that you can detect if someone is sitting on the chair. This can come in handy to see if elderly people are not sitting in a chair when they normally are; an indication that something might be wrong. It’s not as intrusive as carrying an accelerometer with you all day for example.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/feltyou_prototype_1.jpg&quot; alt=&quot;FeltYou prototype&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/feltyou_prototype_2.jpg&quot; alt=&quot;FeltYou prototype&quot; style=&quot;width: 280px&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-hardware&quot;&gt;Hardware&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/feltyou_circuit.png&quot; alt=&quot;Voltage divider&quot; class=&quot;float-right&quot; style=&quot;width: 200px&quot; /&gt;
For the first prototype I used an &lt;a href=&quot;http://www.rfduino.com/product/rfd22301-rfduino-ble-smt/&quot;&gt;rfd module&lt;/a&gt;, since we were &lt;a href=&quot;https://crownstone.rocks/2014/03/05/rfduino-without-rfduino-code/&quot;&gt;already programming&lt;/a&gt; those. Next, I added a thin &lt;a href=&quot;https://www.sparkfun.com/products/11207&quot;&gt;force sensor&lt;/a&gt; and connected that via a voltage divider to the rfd module.
To keep the prototype a bit small, we used paper with a &lt;a href=&quot;http://agic.cc/&quot;&gt;silver ink marker&lt;/a&gt; to connect to the battery. The casing is 3D printed and should provide enough protection for the electronics not to be sqeezed.&lt;/p&gt;

&lt;h2 id=&quot;header-code&quot;&gt;Code&lt;/h2&gt;
&lt;p&gt;I slightly modified the code we had for the &lt;a href=&quot;http://dobots.nl/products/crownstone.html&quot;&gt;crownstone&lt;/a&gt;, such that it samples the voltage over the pressure sensor on request and puts the result in another characteristic. The code can be found &lt;a href=&quot;https://github.com/vliedel/bluenet/tree/vilt&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>The making of the Virtual Memo</title>
   <link href="https://crownstone.rocks/nl/2014/09/16/the-making-of-the-virtual-memo"/>
   <updated>2014-09-16T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2014/09/16/the-making-of-the-virtual-memo</id>
   <content type="html">
&lt;h1 id=&quot;header-virtual-memo&quot;&gt;Virtual Memo&lt;/h1&gt;

&lt;p&gt;The virtual memo (or “virtuele memo”) is a gadget created by a group of companies for the &lt;a href=&quot;http://wots.nl&quot;&gt;Wots&lt;/a&gt; 
conference. On the moment you can read a bit more on the &lt;a href=&quot;http://wots.nl/gadget-virtuele-memo/&quot;&gt;Wots page&lt;/a&gt;, but 
those websites tend to be removed after the event, so this blog post will be a sticky reference to what this thing is
about and what you can do with it.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/memo_logo.jpg&quot; alt=&quot;Memo logo&quot; class=&quot;float-right&quot; style=&quot;width: 500px&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-section-a-winning-the-gadget&quot;&gt;Section A: Winning the gadget&lt;/h2&gt;

&lt;p&gt;The app for the virtual memo does have two separate functionalities integrated in one application. The first part will
help the visitor of the conference to win this very gadget! This is done in the form of a quest that shows another
facet of the virtual memo. Namely that of an iBeacon.&lt;/p&gt;

&lt;p&gt;The visitor gets a code, say &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JV_Q5D8T6P7A9W&lt;/code&gt; which he or she has to enter on the registration page of the smartphone 
application. Subsequently a route is calculated that allows the visitor to, indeed, visit stands of the companies that 
participated in the creation of the virtual memo. At each stand the app proposes an ice breaking question that might
help you to initiate the conversation with the stand owner. Let’s hope it is not “Ah, this app sucks!”. :-) On his or 
her turn the stand owner will give you a passcode that you can fill in that is coupled to your unique participant code
entered at the beginning. Where the virtual memo enters the picture here is in the form of devices at each stand. When
you are near a stand one of the round blobs will change color to indicate that you are close. This is done through
iBeacon advertisements and is not necessary for the quest.&lt;/p&gt;

&lt;p&gt;Because pictures say more than thousand words, you will see here some screenshots of the virtual memo application:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/memo_guide_wots1.png&quot; alt=&quot;Memo guide&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_guide_wots2.png&quot; alt=&quot;Memo guide&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_guide_wots3.png&quot; alt=&quot;Memo guide&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_register.png&quot; alt=&quot;Memo registration&quot; style=&quot;width: 280px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And the actual functionality that allows the visitor to fulfill the assignment:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/memo_list.png&quot; alt=&quot;Memo list&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_question_dobots.png&quot; alt=&quot;Memo question&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_list_filled.png&quot; alt=&quot;Memo list filled&quot; style=&quot;width: 280px&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-section-b-the-gadget-at-home&quot;&gt;Section B: The gadget at home&lt;/h2&gt;

&lt;p&gt;At home you can follow the guide for home usage. You can glue the gadget to your fridge and use it as conventional
Post-it’s®.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/memo_guide_home1.png&quot; alt=&quot;Home guide&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_guide_home2.png&quot; alt=&quot;Home guide&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_guide_home3.png&quot; alt=&quot;Home guide&quot; style=&quot;width: 280px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The memo part is very rudimentary on the moment. The priority of the app development has been in providing the proper
functionality at the one-time Wots event. In the following screenshots you see the actual memo notes. You can navigate 
through them with the arrows at the top-right. Note that for this functionality a working link to the CommonSense
database is required somewhere in the past. The virtual memo does namely not have the functionality to actually store
the messages. This would have been neat by the way, and might be something we will provide later. When a memo is
discovered the screen shows an elaborate string below the note that indicates the id of this memo. Moreover, shortly
an alert will light up the LEDs on the memo. Of course, a virtual memo can only be seen if it is nearby and the “on”
button has been pressed.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/memo_note.png&quot; alt=&quot;Note&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_note_magnet.png&quot; alt=&quot;Note&quot; style=&quot;width: 280px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You can navigate to other memos, if you are so lucky to have multiple, by navigating to “Alle memos” in the menu:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/memo_menu.png&quot; alt=&quot;Menu&quot; style=&quot;width: 280px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/memo_overview.png&quot; alt=&quot;Menu&quot; style=&quot;width: 280px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If you select the “okay” button at the top-right of a memo, it will briefly blink and send a sound alert. Then it will
be selected in the software and navigate to the stack of memo notes corresponding to that device.&lt;/p&gt;

&lt;h2 id=&quot;header-for-nerds&quot;&gt;For nerds&lt;/h2&gt;

&lt;p&gt;There are a lot of improvements possible! Please, help us in whatever way you can! This project was not paid for by the
organizers (but we are happy we can present ourselves in this way). It is not finished!&lt;/p&gt;

&lt;p&gt;The original developers for the iOS application didn’t find the time to do so. Hence, this part of the app development
was a learning experience for us. Let’s say it like this, one of our Apple fanboys didn’t like iOS development so much
afterwards. :-) It is really long-winded to get into the Apple store. Something we anticipated and pushed for it, 
although not all bugs were yet pletted. What this means, is that the iOS app will always lag behind the Android one,
where an application shows up in a few hours after submission.&lt;/p&gt;

&lt;p&gt;You can find all the code at &lt;a href=&quot;https://github.com/almende/virtuele-memo&quot;&gt;github&lt;/a&gt;! This code runs, although not smoothly,
on both Android and iOS. This means you might also be able to use parts of the code if you want to, for different 
projects. Perhaps even parts of it are useful in the browser. The application is a Cordova application (the commercial
variant is called PhoneGap).&lt;/p&gt;

&lt;p&gt;You will find for example &lt;a href=&quot;https://github.com/almende/virtuele-memo/blob/master/cordova/com.almende.VirtualMemo/www/js/senseapi.js&quot;&gt;code&lt;/a&gt; to communicate with the CommonSense API or you can find out easily which &lt;a href=&quot;https://github.com/almende/virtuele-memo/tree/master/cordova/com.almende.VirtualMemo&quot;&gt;plugins&lt;/a&gt; work both on Android and iOS with respect to Bluetooth Low-Energy or iBeacon support.&lt;/p&gt;

&lt;p&gt;Please, help us by submitting issues to &lt;a href=&quot;https://github.com/almende/virtuele-memo/issues&quot;&gt;github&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Linux and BLE</title>
   <link href="https://crownstone.rocks/nl/2014/07/23/linux-and-ble"/>
   <updated>2014-07-23T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2014/07/23/linux-and-ble</id>
   <content type="html">
&lt;h1 id=&quot;header-linux-and-bluetooth-low-energy&quot;&gt;Linux and Bluetooth Low-Energy&lt;/h1&gt;

&lt;p&gt;Although not strictly Linux, Android being a VM on top of a Linux kernel, and iOS being based on top of Darwin, the Unix-like OS from Apple, I just add for your convenience.&lt;/p&gt;

&lt;h2 id=&quot;header-android&quot;&gt;Android&lt;/h2&gt;

&lt;p&gt;On Android you definitely need the &lt;a href=&quot;https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp&amp;amp;hl=en&quot;&gt;nRF Master Control Panel&lt;/a&gt;. This is a great tool which you can even use to upload new firmware to a device. It is very often updated and seems to be used internally at Nordic as well. Bugs pop up so now and then, but they plet them at a fast rate.&lt;/p&gt;

&lt;h2 id=&quot;header-ios&quot;&gt;iOS&lt;/h2&gt;

&lt;p&gt;A convenient tool on iOS is &lt;a href=&quot;https://itunes.apple.com/us/app/ble-utility/id606210918?mt=8&quot;&gt;BLE Utility&lt;/a&gt;. It is graphical nice and clean and it shows all services and characteristics you need. You can easily set a characteristic that you have defined yourself on a custom BLE device.&lt;/p&gt;

&lt;h2 id=&quot;header-ubuntu&quot;&gt;Ubuntu&lt;/h2&gt;

&lt;p&gt;There are plenty of BLE dongles you can buy if your laptop (or raspberry pi) does not support Bluetooth Low-Energy, Bluetooth 4, Bluetooth Smart, or iBeacon (whatever they call it nowadays) out of the box. We ordered a few at &lt;a href=&quot;http://www.miniinthebox.com/nl/3mbps-bluetooth-mvo-usb-dongle-met-20m-werkbereik_p367687.html&quot;&gt;MiniInTheBox&lt;/a&gt; that have &lt;a href=&quot;http://www.csr.com/products/technology/low-energy&quot;&gt;CSR&lt;/a&gt; (Cambridge Silicon Radio) as label.&lt;/p&gt;

&lt;p&gt;Type in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hciconfig&lt;/code&gt; before and after you plug in the new dongle.&lt;/p&gt;

&lt;p&gt;You probably see something along the lines:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;hci1:	Type: BR/EDR  Bus: USB
	BD Address: 00:1A:7D:DA:71:13  ACL MTU: 310:10  SCO MTU: 64:8
	UP RUNNING PSCAN 
	RX bytes:33907 acl:14 sco:0 events:1406 errors:0
	TX bytes:1524 acl:18 sco:0 commands:63 errors:0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And another device that represents your good old-fashioned standard Bluetooth radio.&lt;/p&gt;

&lt;p&gt;We can reach all new fancy BLE functionality through an old, familiar tool, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hcitool&lt;/code&gt; with function that are now prepended with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;le&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;✗ sudo hcitool -i hci1 lescan
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LE Scan ...
CF:72:4E:70:A6:DB Crown
CF:72:4E:70:A6:DB (unknown)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here you see one of our &lt;a href=&quot;https://crownstone.rocks/products/crownstone&quot;&gt;Crownstone&lt;/a&gt;s.&lt;/p&gt;

&lt;p&gt;Connecting to it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;✗ sudo gatttool -i hci1 -b CF:72:4E:70:A6:DB -I
[   ][CF:72:4E:70:A6:DB][LE]&amp;gt; connect
Connecting... connect error: Connection refused (111)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fails… And now you get a time saving command from me. You first tell that you don’t care about your own address, which can be random:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo hcitool -i hci1 lecc --random CF:72:4E:70:A6:DB
Connection handle 70

✗ sudo gatttool -i hci1 -b CF:72:4E:70:A6:DB --interactive
[   ][CF:72:4E:70:A6:DB][LE]&amp;gt; connect
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We can get the services:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[CON][CF:72:4E:70:A6:DB][LE]&amp;gt; primary
attr handle: 0x0001, end grp handle: 0x0007 uuid: 00001800-0000-1000-8000-00805f9b34fb
attr handle: 0x0008, end grp handle: 0x000b uuid: 00001801-0000-1000-8000-00805f9b34fb
attr handle: 0x000c, end grp handle: 0xffff uuid: 00002220-0000-1000-8000-00805f9b34fb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It might happen that you still get a Connection refused (111) error. In that case, make sure you define that you use
a random address for the gatttool itself.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;✗ sudo gatttool -i hci1 -b CF:72:4E:70:A6:DB --interactive -t random
[   ][CF:72:4E:70:A6:DB][LE]&amp;gt; connect
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the characteristics:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[CON][CF:72:4E:70:A6:DB][LE]&amp;gt; characteristics
handle: 0x0002, char properties: 0x0a, char value handle: 0x0003, uuid: 00002a00-0000-1000-8000-00805f9b34fb
handle: 0x0004, char properties: 0x02, char value handle: 0x0005, uuid: 00002a01-0000-1000-8000-00805f9b34fb
handle: 0x0006, char properties: 0x02, char value handle: 0x0007, uuid: 00002a04-0000-1000-8000-00805f9b34fb
handle: 0x0009, char properties: 0x20, char value handle: 0x000a, uuid: 00002a05-0000-1000-8000-00805f9b34fb
handle: 0x000d, char properties: 0x0e, char value handle: 0x000e, uuid: 00002201-0000-1000-8000-00805f9b34fb
handle: 0x0011, char properties: 0x0e, char value handle: 0x0012, uuid: 00000125-0000-1000-8000-00805f9b34fb
handle: 0x0015, char properties: 0x0e, char value handle: 0x0016, uuid: 00000124-0000-1000-8000-00805f9b34fb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Of course &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;help&lt;/code&gt; works. Let us now try to turn on/off the Crownstone with the &lt;a href=&quot;https://github.com/mrquincle/bluenet&quot;&gt;BlueNet software running&lt;/a&gt;. I know that it should be uuid 0x0124 for the characteristic, but let us figure out which handle that is:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[CON][CF:72:4E:70:A6:DB][LE]&amp;gt; char-desc 0x0015
handle: 0x0015, uuid: 2803
handle: 0x0016, uuid: 0124
handle: 0x0017, uuid: 2901
handle: 0x0018, uuid: 2904
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Apparently handle 0x0016, it is empty on read:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[CON][CF:72:4E:70:A6:DB][LE]&amp;gt; char-read-hnd 0x0016
Characteristic value/descriptor: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, we can write to it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[CON][CF:72:4E:70:A6:DB][LE]&amp;gt; char-write-cmd 0x0016 0xFF
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the switch turns on!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>BLE, doBeacon, a Virtual Memo</title>
   <link href="https://crownstone.rocks/nl/2014/07/15/ble-dobeacon-a-virtual-memo"/>
   <updated>2014-07-15T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2014/07/15/ble-dobeacon-a-virtual-memo</id>
   <content type="html">
&lt;h1 id=&quot;header-what-is-this-ibeacon-stuff&quot;&gt;What is this iBeacon stuff?&lt;/h1&gt;

&lt;p&gt;Bluetooth Low Energy is becoming largely available. At DoBots we have always promoted technology that can hitchhike on the success of smartphones and other personal devices around smartphones. The use of Bluetooth Low Energy (BLE), also called Bluetooth Smart, is therefore one of our core technologies.&lt;/p&gt;

&lt;p&gt;It is quite remarkable that the Bluetooth consortium allowed Apple to claim an extremely impoverished subset of the BLE standard and call it iBeacon. This term &lt;a href=&quot;https://en.wikipedia.org/wiki/IBeacon&quot;&gt;iBeacon&lt;/a&gt; is a trademark and cannot be used without an &lt;a href=&quot;https://developer.apple.com/ibeacon/&quot;&gt;iBeacon License&lt;/a&gt;. These kind of products are in the market at 3 for €100,- at &lt;a href=&quot;http://www.beaconic.nl/buy-beacons/&quot;&gt;Beaconic&lt;/a&gt;, 3 for $100,- at &lt;a href=&quot;http://estimote.com/&quot;&gt;Estimote&lt;/a&gt;, 3 for $116,- at &lt;a href=&quot;http://todhq.com/purchase.html&quot;&gt;Tōd&lt;/a&gt;. This is exactly the same technology as for example the crowdsource funded &lt;a href=&quot;https://www.sticknfind.com/store.aspx&quot;&gt;stick-n-find&lt;/a&gt;, which comes with 4 in a package at around $90,-.&lt;/p&gt;

&lt;p&gt;Perhaps it is worth to explain how little Apple did. The standard BLE specification divides the spectrum into channels. There are 37 channels for data communication, and there are 3 channels for advertising. The advertising channels are spread over the spectrum to be resilient against interference on the crowded 2.4GHz band (where also normal Bluetooth and Wi-Fi resides). There are actually two modes of operation, let’s call the first mode &lt;a href=&quot;https://en.wikipedia.org/wiki/Simplex_communication&quot;&gt;simplex&lt;/a&gt; and the second mode &lt;a href=&quot;http://bit.ly/1qcD5RX&quot;&gt;duplex&lt;/a&gt; according to the telecommunication tradition. In simplex mode there is a broadcasting party and a receiving party. Broadcasting in BLE is called &lt;strong&gt;advertising&lt;/strong&gt;, and receiving is called &lt;strong&gt;scanning&lt;/strong&gt;. The duplex case is handled by classical master-slave roles. Now, we encounter a nice property of BLE: A device might only support an advertising mode and hence only requires circuitry for the transmission of messages. This is exactly an iBeacon with respect to &lt;em&gt;hardware&lt;/em&gt; required. Subsequently, the content of the message that is sent in the BLE-dictated advertising mode is up to the user. Here Apple got a brilliant invention on par with the wheel, the steam engine, the laser, the transistor… Namely, sending an &lt;em&gt;identifier&lt;/em&gt; within an advertising message. :scratching_head_icon:&lt;/p&gt;

&lt;p&gt;Okay! We can do that of course. Our code for the &lt;a href=&quot;https://github.com/mrquincle/bluenet&quot;&gt;nRF51822&lt;/a&gt; builds on top of code by Christopher Mason, is open-source, and can do already much more. You can start experimenting with this code if you buy a &lt;a href=&quot;https://www.nordicsemi.com/eng/Products/Bluetooth-R-low-energy/nRF51822-Development-Kit&quot;&gt;Nordic development kit for the nRF51822&lt;/a&gt;, which is around €100,-. Note, that you absolutely do not need that if you only want to communicate with iBeacons!&lt;/p&gt;

&lt;p&gt;Our super-elaborate technology to be able to use advertising for proximity purposes, we call &lt;strong&gt;doBeacon&lt;/strong&gt;. This is one of the functionalities you will find in our &lt;a href=&quot;http://dobots.nl/products/crownstone.html&quot;&gt;crownstone&lt;/a&gt; product.&lt;/p&gt;

&lt;h1 id=&quot;header-virtual-memo&quot;&gt;Virtual Memo&lt;/h1&gt;

&lt;p&gt;The &lt;a href=&quot;http://wots.nl&quot;&gt;WOTS&lt;/a&gt;, World of Technology &amp;amp; Science, conference, will be held in Utrecht, the Jaarbeurs. It is &lt;a href=&quot;https://registration2.n200.com/survey/0o33vcrxufeeo?check=1&quot;&gt;free&lt;/a&gt; and allows you to see our technology at our stand! With a consortium of companies we are creating a gadget for visitors, which is called the &lt;a href=&quot;http://wots.nl/gadget-virtuele-memo&quot;&gt;Virtuele Memo&lt;/a&gt;. It is meant as an electronic Post-it® that you can use to leave messages as on say a fridge, such as “Please, don’t forget the milk, honey!”, or a reminder for yourself such as “Hairdresser time!”.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/e6o2Mrdqt5g?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;A very short clip with flashing LEDs. This is to be expected of a movie shot by an engineer. :-)&lt;/p&gt;

&lt;p&gt;The Virtual Memo (or Virtuele Memo in Dutch), surprise!, uses BLE functionality. It is exactly a beacon as described before. So, how can you leave messages? This is done through the internet. Your phone comes in close proximity to the fridge, and a note that you want to attach to it, is uploaded to a server. By the way, this is is the &lt;a href=&quot;http://www.sense-os.nl/developers&quot;&gt;CommonSense&lt;/a&gt; internet-of-things infrastructure from Sense, the sister company of DoBots. Okay, so, suppose now your roommate is coming home. Her phone will come in proximity with the Virtuele Memo on the fridge. It will then contact the server and download new messages for her. The app on the phone can be very energy-efficient in this way. It only needs contact with a server when it gets a trigger over BLE.&lt;/p&gt;

&lt;p&gt;DoBots is responsible for developing the smartphone application. It is based on &lt;a href=&quot;https://cordova.apache.org/&quot;&gt;Cordova&lt;/a&gt;, so it uses HTML, CSS, and Javascript on the phone. Cordova is the codebase at the Apache Software Foundation, and originally developed by Adobe/Nitobi under the name PhoneGap (which still exists under its own name). See for the entire story this blog post at &lt;a href=&quot;http://phonegap.com/2012/03/19/phonegap-cordova-and-what%E2%80%99s-in-a-name/&quot;&gt;PhoneGap&lt;/a&gt;. This means it can run on Android and iOS both! We decided upon making our application open source, so you can find it at &lt;a href=&quot;https://github.com/almende/virtuele-memo&quot;&gt;https://github.com/almende/virtuele-memo&lt;/a&gt;. This software makes use of e.g. the &lt;a href=&quot;https://github.com/senseobservationsystems/commonsense-javascript-lib&quot;&gt;commonsense-javascript-lib&lt;/a&gt; and a &lt;a href=&quot;https://github.com/mrquincle/BluetoothLE&quot;&gt;BluetoothLE&lt;/a&gt; plugin for Cordova.&lt;/p&gt;

&lt;h1 id=&quot;header-ble-and-beyond&quot;&gt;BLE and Beyond&lt;/h1&gt;

&lt;p&gt;DoBots does not believe that the IP (intellectual property) resides on the level of such applications. But again, our technology offering is around services that can make use of BLE technology on a large scale, such as the &lt;a href=&quot;http://dobots.nl/products/crownstone.html&quot;&gt;crownstone&lt;/a&gt;, which has the potential to become ubiquitous. This means namely that interesting algorithms, hence, nice IP, are required, for example:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;recognition of &lt;strong&gt;activities of daily living&lt;/strong&gt; (ADLs) to support independent living (only anomalies are communicated to family, and finally caretakers, see also the &lt;a href=&quot;http://ppats.wordpress.com/&quot;&gt;PPATS project&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;recognition of devices, &lt;strong&gt;standby power killers&lt;/strong&gt;, but also standby for an &lt;strong&gt;entire building&lt;/strong&gt; without turning off the fridge!&lt;/li&gt;
  &lt;li&gt;indoor localization, the use of multiple doBeacons for more &lt;strong&gt;accurate positioning&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For indoor localization often scenarios are described that are a bit fancy. However, in a business context, knowing which facilities are in use, really saves money! Cleaning unused offices should be a lot cheaper!&lt;/p&gt;

&lt;p&gt;If you want to know in general why DoBots puts so much effort in consumer electronics such as BLE, come also to one of the &lt;a href=&quot;http://wots.nl/elektronicatrendsindtoepassing/&quot;&gt;seminars&lt;/a&gt; at WOTS. Anne van Rossum is going to talk about &lt;a href=&quot;http://wots.nl/slimme-fabriek/&quot;&gt;smart factories&lt;/a&gt; in the &lt;a href=&quot;http://wots.nl/elektronicatrendsindtoepassing/&quot;&gt;industry&lt;/a&gt; where also connections will be made with Almende projects such as &lt;a href=&quot;http://www.almende.com/arum&quot;&gt;ARUM&lt;/a&gt; which focus on agile manufacturing.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>A nonparametric Bayesian lesson</title>
   <link href="https://crownstone.rocks/nl/2014/06/25/a-nonparametric-bayesian-lesson"/>
   <updated>2014-06-25T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2014/06/25/a-nonparametric-bayesian-lesson</id>
   <content type="html">
&lt;h1 id=&quot;header-bayesian&quot;&gt;Bayesian&lt;/h1&gt;

&lt;p&gt;It is quite hard to withstand the reasoning of Jaynes (it is a pity he couldn’t finish his book) in “&lt;a href=&quot;http://www.amazon.com/Probability-Theory-The-Logic-Science/dp/0521592712&quot;&gt;Probability Theory&lt;/a&gt;”. In chapter 5 Jaynes comes with a beautiful example that shows that exactly the same information can lead to totally different conclusions. It is very illustrative considering religious, ethical, or political views. I can only do justice by using an extended quote (forgive me!):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The new information \(D\) is ‘Mr \(N\) has gone on TV with a sensational claim that a commonly used drug is unsafe’ and three viewers, Mr \(A\), Mr \(B\), and Mr \(C\), see this. Their prior probabilities that the drug is safe are \((0.9, 0.1, 0.9)\), respectively; i.e. initially Mr \(A\) and Mr \(C\) were believers in the safety of the drug, Mr \(B\) a disbeliever. 
But they interpret the information D very differently, because they have different views about the reliability of Mr \(N\). They all agree that, if the drug had really been proved unsafe, Mr \(N\) would be right there shouting it; that is, their probabilities \(P(D\vert\overline{D}I)\) are \((1,1,1)\); but Mr \(A\) trusts his honesty while Mr \(C\) does not. Their probabilities \(P(D\vert SI)\) that, if the drug is safe, Mr \(N\) would say that it is unsafe, are \((0.01, 0.3, 0.99)\), respectively.&lt;/p&gt;

  &lt;p&gt;Applying Bayes theorem \(P(S\vert DI)=P(S\vert I)P(D\vert SI)/P(D\vert I)\) […] we find their posterior probabilities that the drug is safe to be \((0.083, 0.032, 0.899)\), respectively. Put verbally, they have reasoned as follows:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;
      &lt;p&gt;Mr \(A\): ‘Mr \(N\) is a fine fellow, doing a notable public service. I had thought the drug to be safe from other evidence, but he would not knowingly misrepresent the facts; therefore hearing his report leads me to change my mind and think that the drug is unsafe after all. My belief in safety is lowered […] so I will not buy any more’&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;Mr \(B\): ‘Mr \(N\) is an erratic fellow, inclined to accept adverse evidence too quickly. I was already convicned that the drug is unsafe; but even if it is safe he might be carried away into saying otherwise. So, hearing his claim does strengthen my opinion, but only [a bit]. I would never under any circumstances use the drug.’&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;Mr \(C\): ‘Mr \(N\) is an unscrupulous rascal, who does everything in his power to stir up trouble by sensational publicity. The drug is probably safe, but he would almost certainly claim it is unsafe whatever the facts. So hearing his claim has proactically no effect on my confidence that the drug is safe. I will continue to buy it and use it.’&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;header-nonparametric-bayesian&quot;&gt;Nonparametric Bayesian&lt;/h2&gt;

&lt;p&gt;This Bayesian prelude makes it clear that the structure of the prior is very important. Very interesting problems can be solved if the prior gets sufficient structure. A nice workshop has been held at Como, Italy, on Applied Bayesian Nonparametrics, from the Applied Bayesian Statistics School, &lt;a href=&quot;http://www.mi.imati.cnr.it/conferences/abs14.html&quot;&gt;ABS14&lt;/a&gt;. The lecturers were &lt;a href=&quot;http://www.cs.berkeley.edu/~jordan/&quot;&gt;Michael Jordan&lt;/a&gt; and &lt;a href=&quot;http://www.stats.ox.ac.uk/~caron/&quot;&gt;Francois Caron&lt;/a&gt; who talked about Dirichlet processes and Beta processes, respectively. If you don’t know this Michael Jordan, you might instead have heard one time or another from one of his students, under which e.g. Yoshua Bengio, Tommi Jaakkola, Andrew Ng, Emanuel Todorov, and Daniel Wolpert. But, enough small talk, let’s face the truth.&lt;/p&gt;

&lt;h3 id=&quot;header-the-chinese-restaurant-process&quot;&gt;The Chinese Restaurant Process&lt;/h3&gt;

&lt;p&gt;It sounds a bit childish, but the Chinese Restaurant Process is an actual stochastic process with great expressive power. Imagine a restaurant with a seamingly infinite number of tables. The first customer enters the restaurant and picks the first table. A second customer enters the restaurant and sits with the first customer with probability \(\frac{n_{table}}{\alpha+n}\) and at a new table with probability \(\frac{\alpha}{\alpha+n-1}\). Here \(\alpha\) is a so-called concentration parameter which causes more or less tables to occupied with respect to the number of customers. For example, \(\alpha=1\) gives a probability of opening a new table for the second person \(n_i=2\) equal to \(1/2\). The peculiarity of this process is that if you check the probability of a random two people, say customer \(n_i=64\) and \(n_j=94\), the probability they sit at the same table is also exactly that, a \(1/2\)! The number of people sitting at the same table as the first customer is on average the same number of people sitting at the same table as the last customer! These properties have to do with the fact that this is an exchangeable process. You can hone your intuition with the &lt;a href=&quot;http://www.stats.ox.ac.uk/~caron/code/abs2014/html/BNP_clustering.html&quot;&gt;assignments from Francois&lt;/a&gt; if you like.&lt;/p&gt;

&lt;p&gt;It is proven by &lt;a href=&quot;https://en.wikipedia.org/wiki/De_Finetti%E2%80%99s_theorem&quot;&gt;de Finetti&lt;/a&gt; that a process with exchangeable observations can be written in such way that there are underlying hidden (latent) variables that are i.i.d. (independent and identically distributed) according to some unknown distribution. It is interesting (and not trivial) that such a distribution can be found! The distribution that corresponds to the Chinese Restaurant Process is one of the most used processes in nonparametric Bayesian methods, namely the &lt;a href=&quot;https://en.wikipedia.org/wiki/Dirichlet_process&quot;&gt;Dirichlet process&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;header-hierarchy&quot;&gt;Hierarchy&lt;/h3&gt;

&lt;p&gt;Why are these stochastic processes so interesting? With a Dirichlet process it is possible to model a generative procedure in which data generates clusters ad infinitum. New data can always need to new clusters. These kind of mechanisms might exist in other machine learning methods. For example, in &lt;a href=&quot;http://www.scholarpedia.org/article/Adaptive_resonance_theory&quot;&gt;ART&lt;/a&gt; new category nodes are added during the learning process. However, nonparametric Bayesian hierarchies is the first method that describes how to this in a full Bayesian setting. This means no adhoceries. The inference can be done over the structure of the model and the parameters of the model simultaneously. In other words, the model reasons over the parameter per table, as well as the number of tables at the same time.&lt;/p&gt;

&lt;h3 id=&quot;header-examples&quot;&gt;Examples&lt;/h3&gt;

&lt;p&gt;To explain how inference proceeds is something for another blog post (check the &lt;a href=&quot;https://github.com/mrquincle/aim_modules/tree/master/DirichletModule&quot;&gt;code&lt;/a&gt;). It is more interesting for now to see how these methods have been applied already.&lt;/p&gt;

&lt;p&gt;An illustrative example is from Del Pero et al. in &lt;a href=&quot;http://www.cv-foundation.org/openaccess/content_cvpr_2013/papers/Del_Pero_Understanding_Bayesian_Rooms_2013_CVPR_paper.pdf&quot;&gt;Understanding bayesian rooms using composite 3d object models&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/slides/abs14/images/delpero.png&quot; alt=&quot;Chairs&quot; title=&quot;Chairs&quot; /&gt;`&lt;/p&gt;

&lt;p&gt;One of the chairs you can see very well, but the other is occluded by the table. To perform inference over this structure requires a presentation of a chair and the ability of reasoning over multiple of those composed objects. Only then it becomes feasible to infer the full chair behind this table.&lt;/p&gt;

&lt;p&gt;Another example is speaker diarization. Imagine an organized meeting, there are people talking, supposedly not at the same time, but sequentially. How do we perform inference on the number of speakers present and how can we build an inference engine that benefits from Bob talking at time \(t[0] \cdots t[30]\), and him talking at time \(t[120] \cdots t[180]\)? The system should all the time improve from Bob talking!&lt;/p&gt;

&lt;p&gt;This can be solved by a so-called sticky Hierarchical Dirichlet Process defined on a very well-known model structure, a Hidden Markov Model (see &lt;a href=&quot;http://projecteuclid.org/download/pdfview_1/euclid.aoas/1310562215&quot;&gt;A sticky HDP-HMM with application to speaker diarization&lt;/a&gt;). A Hidden Markov Model, is built on a Markovian assumption, hence its name. This means that it is impossible to store long-term dependencies as required by this application: a person talking at the beginning and the end of a conversation. Remarkably is that this model actually performed on par with state-of-the-art algorithms that were very specific to this application!&lt;/p&gt;

&lt;h3 id=&quot;header-slides&quot;&gt;Slides&lt;/h3&gt;

&lt;p&gt;The problems you will encounter by applying nonparametric Bayesian methods in the real world are manifold. Foremost, the sampling methods to approximate a full Bayesian method, are not yet adapted to these hierarchical schemes. Although it might seem that having an abstraction of say, a chair, would allow you to move around, copy, and delete this entire chair through an inference process, these kind of abstraction handling have not been handed to the sampling algorithms themselves. All approximation methods, be it variational methods, or sampling methods, such as slice sampling or Gibbs sampling, are suddenly quite non-Bayesian in nature! To incorporate a prior (such as a hierarchical structure) in the sampling procedure itself, I have yet to see it. The methods are general, in the sense, that the sampling is able to sample any probability density function and is not able to take advantage of prior knowledge about this function (except for approximating a Bayesian formulation that entails this structure).&lt;/p&gt;

&lt;p&gt;You can find my presentation with my questions about how to apply nonparametric Bayesian methodology to simple line estimation as in RANSAC or Hough &lt;a href=&quot;https://crownstone.rocks/slides/abs14/nonparametric.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Sportopia, friends are your best coach!</title>
   <link href="https://crownstone.rocks/nl/2014/05/28/sportopia-friends-are-your-best-coach"/>
   <updated>2014-05-28T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2014/05/28/sportopia-friends-are-your-best-coach</id>
   <content type="html">
&lt;h1 id=&quot;header-motivation&quot;&gt;Motivation&lt;/h1&gt;

&lt;p&gt;What if our smartphone would be a means for our friends and family to reach us to keep us motivated in exercising well? Wouldn’t that help much better than setting our goals!? Everybody knows that taking up a sports, even only running, which does not need much of additional gear, is very difficult. You can motivate yourself by listening to nice music in the meantime, by reminding yourself of the nice feeling afterwards, or trying to measure an improvement in your physical condition. However, it is hard to listen to yourself at times. We are wired in such a way that we do not take ourselves too seriously, we do not admit it, but we know of ourselves that we make mistakes.&lt;/p&gt;

&lt;p&gt;Friends! If we tell others of our achievements or if we can compete with them, this already changes a lot! Now we can talk about it, we think of it naturally in a nice social setting, others can compliment us, and so much more. Ideally we would not only communicate to each other after we have exercised, but before! Students at the University of Applied Sciences (in Dutch, the &lt;a href=&quot;http://hva.nl&quot;&gt;Hogeschool van Amsterdam&lt;/a&gt;, or HvA), have created a technological means to do so! A smartphone application that you can use to motivate others in the form of &lt;strong&gt;challenges&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;header-sportopia&quot;&gt;Sportopia&lt;/h2&gt;

&lt;p&gt;The application developed by Kevin Groen, Aster Schultz, and Dennis Reep is called Sportopia and is available on &lt;a href=&quot;https://play.google.com/store/apps/details?id=alm.motiv.AlmendeMotivator&quot;&gt;Google Play&lt;/a&gt;. It hooks up to your Facebook contacts, so it nicely integrates with your social network. It then enables you to send so-called challenges to your friends. For example, you can ask your roommate to get beer from the supermarket. A perhaps questionable activity with respect to exercise overall, but an activity nevertheless! As proof you can ask for evidence in the form of pictures. In the meantime you can try to motivate him with text messages.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/friends.png&quot; alt=&quot;Sportopia Friends&quot; style=&quot;width: 300px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/challenges.png&quot; alt=&quot;Sportopia Challenges&quot; style=&quot;width: 300px&quot; /&gt;
&lt;img src=&quot;https://crownstone.rocks/attachments/challenge_closed.png&quot; alt=&quot;Sportopia Challenge closed&quot; style=&quot;width: 300px&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-machine-learning&quot;&gt;Machine learning&lt;/h2&gt;

&lt;p&gt;The reason we as DoBots are interested in this is because of the algorithms that are used for recommender systems are not so different from algorithms used for inference in general. In the &lt;a href=&quot;http://www.commit-nl.nl/projects/sensei-sensor-based-engagement-for-improved-health&quot;&gt;Sensei project&lt;/a&gt;, our mother company &lt;a href=&quot;http://almende.com&quot;&gt;Almende&lt;/a&gt;, is concerned with improving health using sensor-based engagement. The data kindly requested through the use of the Sportopia application can be used to fed into a recommender system to achieve exactly that. The creation of a virtual coach that is able to motivate people like we motivate our friends. There is very little data available on motivation except in-house in advertisement-driven companies (like Google). Concerning health, which is so much more important, than getting the “right” advertisement about some commercial product, we regretfully have no such datasets available. If you want to contribute to science, please download the app, and start to play!&lt;/p&gt;

&lt;p&gt;The machine learning algorithms we are designing are so-called nonparameteric Bayesian methods, in this case applied to the collaborative filtering problem. The motivation texts people sent each other are distinguished according to several classes. Each class comes with a certain factor of failure or success. By looking at a lot of texts we can cluster what types of motivation type works for what type of people. The algorithms we use for clustering can be found on &lt;a href=&quot;https://github.com/mrquincle/aim_modules&quot;&gt;github&lt;/a&gt;. Due to the fact that clustering is such a general concept, it is quite straightforward to realize that these types of modules can also be used in totally different contexts, from computer vision to robotics. These types of algorithms all end up in the freely accessible platform &lt;a href=&quot;http://www.dodedodo.com/&quot;&gt;Dodedodo&lt;/a&gt;. If you consider yourself a bit of a machine learning expert, you definitely should take a look also at &lt;a href=&quot;https://dobots.github.io/aim/&quot;&gt;our documentation&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;header-open-source&quot;&gt;Open-source&lt;/h2&gt;

&lt;p&gt;The Sportopia application can be found on &lt;a href=&quot;https://github.com/almende/motivator&quot;&gt;github&lt;/a&gt;. Copyrights belong to the students and us. If you want to use it in another context, please, contact us! We probably can work something out that makes everybody happy!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>RFduino without RFduino code</title>
   <link href="https://crownstone.rocks/nl/2014/03/05/rfduino-without-rfduino-code"/>
   <updated>2014-03-05T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2014/03/05/rfduino-without-rfduino-code</id>
   <content type="html">
&lt;h1 id=&quot;header-rfduino-without-rfduino-code&quot;&gt;RFduino without RFduino code&lt;/h1&gt;

&lt;p&gt;The &lt;a href=&quot;http://www.rfduino.com/&quot;&gt;RFduino&lt;/a&gt; was a successfull &lt;a href=&quot;https://www.kickstarter.com/projects/1608192864/rfduino-iphone-bluetooth-40-arduino-compatible-boa&quot;&gt;Kickstarter project&lt;/a&gt;. Thanks to the fact that it basically is not much more than the nRF51822 chip by Nordic, its form factor is very small. Additional buttons, leds, sensors, etc. can be added by boards that precisely fit its connectors.&lt;/p&gt;

&lt;p&gt;The advantage of the RFduino is that it on top of the nRF51822 provides FCC and CE certification, has a thought out antenna design, and has so many boards that function as shields. It is created by the company &lt;a href=&quot;http://rfdigital.com/&quot;&gt;RF Digital&lt;/a&gt; under the module name RFD51822 and later the RFD22102. Note that there are &lt;a href=&quot;http://www.nordicsemi.com/eng/Products/3rd-Party-Bluetooth-low-energy-Modules&quot;&gt;other 3rd Party Bluetooth Low Energy vendors&lt;/a&gt; listed on the Nordic site, that have these advantages as well. Besides that, for example the MBDT40 from Raytac Corp has all the 31 GPIO available, while the RFduino only has 7 GPIO pins.&lt;/p&gt;

&lt;p&gt;Anyway, interestingly, the RFduino code is not open-source, or most of it is not open-source. This is awkward, given the fact that the guys from RF Digital, started the website &lt;www.opensourcerf.com&gt; to indicate their involvement. The RFduino first came with a simple means to upload a binary to the RFduino, namely using the same tool as with most of the other Arduino boards: __avrdude__. Regretfully, after learning that changes to the open-source code in avrdude must be made open-source as well, the developer behind RFduino took all his sites offline (github as well as the forums), and came back online again with a proprietary tool to do so. A very strange move. The bootloader that resides on the RFduino is made proprietary as well, it is not even available in binary form. Interestingly, I saw some wrapper code between the Arduino code and the SoftDevice libraries from Nordic. If anything, these header files should be kept private. On the Nordic forums the employees do not know of any reason why the flash tool or the bootloader has to be proprietary. It seems to run counter any business sense. The more ways the RFD22102 boards can be programmed, the more will be sold from them.&lt;/www.opensourcerf.com&gt;&lt;/p&gt;

&lt;h2 id=&quot;header-programming-it-ourselves&quot;&gt;Programming it ourselves…&lt;/h2&gt;

&lt;p&gt;There is a lot of information on programming the nRF51822 on the Nordic website and the forums. Most of it however can only be obtained by buying a development or evaluation kit. The development kit comes with a so-called J-Link programmer from Segger, the J-Link LITE CortexM to be precise. Connecting it to the RFduino is not hard. In the following picture you can see how a little breadboard is enough. Here I just took a 9 pins FTSH Samtec connector we had lying around from a previous project (FireSwarm, a swarm of flying robots to find a dune fire). And there is no color coding whatsoever here!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/rfduino.jpg&quot; alt=&quot;RFduino&quot; title=&quot;RFduino connected&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The J-Link comes with a connector with 9 pins, this means one pin is removed (pin 7) to give some asymmetry, very convenient! The pin layout is like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;VTref 1 * * 2  SWDIO / TMS
GND   3 * * 4  SWCLK / TCK
GND   5 * * 6  SWO / TDO
--    7 o * 8  TDI
NC    9 * * 10 nReset
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, power the RFduino from an external source on 3.3V. The 3V and GND pins are nicely indicated on the RFduino. And then there are only three pins you have to connect. The VTref measures if the RFduino has actually enough power and must be connected to the 3V pin. The two other pins to connect are the SWDIO and the SWCLK pins. The SWDIO is connected to the RESET pin on the RFduino, the SWDCLK to the FACTORY pin.&lt;/p&gt;

&lt;p&gt;Now, if you download the code at &lt;a href=&quot;https://github.com/mrquincle/bluenet&quot;&gt;github&lt;/a&gt; you will get a project with a Makefile that calls scripts in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scripts&lt;/code&gt; directory. Most of the code is thanks to Christopher Mason, only the adaptations to support RFduino are mine. To program with the J-Link, you will need the JLinkExe binary and for debugging the JLinkGDBServer binary. You can download them from &lt;a href=&quot;http://www.segger.com/jlink-software.html&quot;&gt;segger.com&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The current code requires a lot more love, but the beginning is there. In this movie you can see how the LED on the RGB RFduino shield reacts on the signal strength with an Android smartphone.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/9rnCdWl4mto?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;Note, that if you use this code and flash the RFduino, there are two things you will have to keep in mind. First, the SoftDevice, in this case the S110, is proprietary. It comes with the development kit (of 100 bucks) from Nordic. You will not be able to use Bluetooth without it. I would not recommend starting to program your RFduinos without buying it. Second, you won’t be able to get back to the standard RFduino software. This would require the RFduino people to make certain information public, especially where it expects the SoftDevice and how it interfaces with it. This is not the same as providing open-source software, but also this information is not available. So, consider this a one-way direction. :-)&lt;/p&gt;

&lt;p&gt;Now we are in full control of our RFduinos. We can create our own Bluetooth characteristics, services, etc. We know which timers are used. We can take full advantage of the system that ARM uses to have peripheral devices communicate with each other without using the CPU for example. They use besides the well known interrupts, entities like “events” and “tasks” to do this, pretty neat.&lt;/p&gt;

&lt;p&gt;For us, we’d like to experiment with the new SoftDevice, the S120. Contrary to the S110, this SoftDevice allows mixing central and observer roles. This means it becomes possible to develop wireless sensor networks type of functionality. What is also really interesting is its support for wireless charging. More can be read in &lt;a href=&quot;http://www.prnewswire.com/news-releases/nordic-semiconductor-announces-bluetooth-smart-solution-for-rezence-wireless-charging-and-the-s120-8-link-central-role-bluetooth-low-energy-softdevice-for-the-nrf51822-enabling-charge-pads-with-support-for-simultaneous-charging--236655491.html&quot;&gt;Nordic’s press release&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So, why using the RFduino at all? Its advantages are still there: certification, many extension boards, and a nice antenna design. We would like to concentrate on very rapid prototyping of services, such as a &lt;strong&gt;Lost &amp;amp; Found service&lt;/strong&gt;, rather than spending too much time on the electronics itself.&lt;/p&gt;

&lt;h2 id=&quot;header-crownstone&quot;&gt;Crownstone&lt;/h2&gt;

&lt;p&gt;Make sure you take a look at our &lt;a href=&quot;https://crownstone.rocks/products/crownstone&quot;&gt;Crownstone&lt;/a&gt; offering. This is directly based on the nRF51822 and open-source for real. :-) So, this uses the code at github for &lt;a href=&quot;https://github.com/mrquincle/bluenet&quot;&gt;BlueNet&lt;/a&gt; as indicated above. If you want to have more details on how to program the different SoftDevice versions from Nordic etc., feel free to file an issue there. Also, look around if you want to get more information on Bluetooth Low-Energy in general, as for example in this blog post about &lt;a href=&quot;https://crownstone.rocks/2014/07/23/linux-and-ble/&quot;&gt;Linux and BLE&lt;/a&gt; or on the &lt;a href=&quot;https://crownstone.rocks/2014/07/15/ble-dobeacon-a-virtual-memo/&quot;&gt;iBeacon-type of device&lt;/a&gt; we build (with respect to software!) for &lt;a href=&quot;http://wots.nl&quot;&gt;WOTS&lt;/a&gt;. To be clear, the services on top of the Crownstone that require a larger part of machine learning and artificial intelligence will not be open-source. If you think we do not communicate that properly, feel also free to suggest improvements in wording!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>IRC, XMPP and WhatsApp</title>
   <link href="https://crownstone.rocks/nl/2013/07/19/irc-xmpp-and-whatsapp"/>
   <updated>2013-07-19T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2013/07/19/irc-xmpp-and-whatsapp</id>
   <content type="html">
&lt;h1 id=&quot;header-irc-xmpp-and-whatsapp&quot;&gt;IRC, XMPP and WhatsApp&lt;/h1&gt;

&lt;h2 id=&quot;header-irc&quot;&gt;IRC&lt;/h2&gt;

&lt;p&gt;IRC, short for Internet Relay Chat, is a protocol, created in 1988, for
instant messaging. There are many IRC client programs and many networks to
connect to, and most of the chat happens in channels (chat rooms), while
private messages are also possible. The nice thing about IRC is that most
servers are non commercial (w.r.t. privacy concerns), and requires very little
traffic. Since channels have a name and topic, it’s easy to find a channel
that meets your interests, while you can also create your own channel for
friends. Channels have operators, who can manage a channel: kick or ban users,
set modes and inviting other people. Many more handy commands are available
for users, like setting yourself as being away or ignoring someone.&lt;/p&gt;

&lt;p&gt;There is quite some development done around IRC: networks improve their
&lt;a href=&quot;http://hg.quakenet.org&quot;&gt;servers&lt;/a&gt;, client programs are improved, BNCs (a proxy
to an IRC server that remain connected to the server when you go offline) are
getting more and more features. Next to that, many people create bots that are
connected to IRC to make live easier: bots that can lookup information, create
statistics, or control (game) servers.&lt;/p&gt;

&lt;h2 id=&quot;header-whatsapp&quot;&gt;WhatsApp&lt;/h2&gt;

&lt;p&gt;At some point, WhatsApp became popular, and I didn’t get why. It was just
another way to message people and it uses a customized protocol, with poor
&lt;a href=&quot;http://en.wikipedia.org/wiki/Whatsapp#Security&quot;&gt;security&lt;/a&gt;. Furthermore: all
traffic goes via a single, commercial, company, which often makes it tempting
to sell users privacy (like Facebook and Google do).
This made me think: why not replace WhatsApp with a nice app that uses IRC?
The problem with IRC is that it isn’t very noob friendly: it is made by and
for people who aren’t scared of computers, with many options, commands and
modes. So the app would have to hide all this and show an easy interface for
the user. I’ve been talking to IRC developers about this and there are a
couple of problems: IRC server do not store messages your receive when you’re
offline (you’d need a BNC for that) and sending something to a certain nick
does not guarantee that this nick is actually the person you think it is.&lt;/p&gt;

&lt;h2 id=&quot;header-xmpp&quot;&gt;XMPP&lt;/h2&gt;

&lt;p&gt;Recently I’ve been reading myself into XMPP (for&lt;a href=&quot;http://www.dodedodo.com&quot;&gt;http://www.dodedodo.com&lt;/a&gt;) and figured that this would
is perfect for the app, and of course it turns out that WhatsApp simply uses a
customized XMPP protocol. XMPP basically works like email: everyone can setup
a server and users get an address (JID) in the form of:
user@server.com/device. When you send a message to another user, the message
goes via your server, to the other user’s server and ends up at the other
user. Because XMPP always uses a login it does not have the same problem that
IRC has. Furthermore, there is an XMPP standard
&lt;a href=&quot;http://xmpp.org/extensions/xep-0013.html&quot;&gt;extension&lt;/a&gt; that enables message
storage when a user is offline, and retrieval by the user when he connects
again.&lt;/p&gt;

&lt;p&gt;So I was looking for XMPP &lt;a href=&quot;https://play.google.com/store/search?q=xmpp&quot;&gt;apps&lt;/a&gt;
and it seems that most apps assume you already have an account, and don’t look
very nice. I think that if there was an app that uses standard XMPP, it would
be a very nice replacement of WhatsApp.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Introduction to One-Class Support Vector Machine</title>
   <link href="https://crownstone.rocks/nl/2013/07/12/introduction-to-one-class-support-vector"/>
   <updated>2013-07-12T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2013/07/12/introduction-to-one-class-support-vector</id>
   <content type="html">
&lt;h1 id=&quot;header-introduction-to-one-class-support-vector-machine&quot;&gt;Introduction to One-Class Support Vector Machine&lt;/h1&gt;

&lt;p&gt;Traditionally, many classification problems try to solve the two or multi-
class situation. The goal of the machine learning application is to
distinguish test data between a number of classes, using training data. But
what if you only have data of one class and the goal is to test new data and
found out whether it is alike or not like the training data? A method for this
task, which gained much popularity the last two decades, is the One-Class
Support Vector Machine. This (quite lengthly) blog post will give an
introduction to this technique and will show the two main approaches.&lt;/p&gt;

&lt;p&gt;At &lt;a href=&quot;http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/&quot;&gt;this blog&lt;/a&gt; the post continues.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Extreme Learning Machines</title>
   <link href="https://crownstone.rocks/nl/2013/04/19/extreme-learning-machines"/>
   <updated>2013-04-19T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2013/04/19/extreme-learning-machines</id>
   <content type="html">
&lt;h1 id=&quot;header-extreme-learning-machines&quot;&gt;Extreme Learning Machines&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Neural_network&quot;&gt;Artificial neural networks&lt;/a&gt; are
a common technique in the field of machine learning. Inspired by biology, they
are used in, among others, function approximation, time series prediction,
classification and pattern recognition. There exist many variations in the
type of network, the types of neurons used, and in the learning algorithms.
The most common learning algorithm for a feedforward neural network is
&lt;a href=&quot;https://en.wikipedia.org/wiki/Backpropagation&quot;&gt;backpropagation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Although the backpropagation algorithm is a very popular learning algorithm,
there are some drawbacks:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A small learning rate can lead to slow convergence.&lt;/li&gt;
  &lt;li&gt;A large learning rate can lead to divergence.&lt;/li&gt;
  &lt;li&gt;The algorithm might get stuck at local minima.&lt;/li&gt;
  &lt;li&gt;It is possible to overtrain the network, reducing the generalisation performance.&lt;/li&gt;
  &lt;li&gt;The algorithm can be very time-consuming, especially for large networks.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In 2004, a new alternative to backpropagation for learning feedforward neural
networks has been proposed by Huang: Extreme Learning Machine (ELM). This
algorithm is easy to implement and does not suffer from the drawbacks above. I
will first show a summary of the theory behind this algorithm, and then
provide a supervised learning example implemented in MATLAB.&lt;/p&gt;

&lt;p&gt;Note that this technique is very similar to Reservoir Computing techniques for
recurrent neural networks. See &lt;a href=&quot;https://crownstone.rocks/2012/07/06/echo-state-networks&quot;&gt;Remco’s blog about Echo State Networks&lt;/a&gt; for a description.&lt;/p&gt;

&lt;h2 id=&quot;header-theory&quot;&gt;Theory&lt;/h2&gt;

&lt;p&gt;Suppose we want to train a feedforward neural network with one hidden layer in
a supervised learning setting by providing input \(x\) and desired output \(y\).
If the hidden layer contains synaptic weights \(SH\) and bias \(BH\) and the
hyperbolic tangent as a sigmoid activation function, the output \(H\) of the
hidden layer can be computed as \(H = tanh(-BH + SH*x)\).&lt;/p&gt;

&lt;p&gt;For the output layer, we use a linear activation function (though we could
also use a sigmoid function here) and weights \(S\) and no bias. Then the output
\(O\) of the whole neural network can be computed as \(O = S*H\).&lt;/p&gt;

&lt;p&gt;Now we want the neural network to produce an output \(O\) that minimizes the
error \(||y-O||\), given input data \(x\). In the backpropagation algorithm this
is done by performing a gradient descent on the error to update the hidden
weights \(S*H\) and the output weights \(S\). In the ELM approach, however, the
hidden weights are initialised randomly and remain fixed; only the output
weights are adapted.&lt;/p&gt;

&lt;p&gt;Suppose the weights and biases of the hidden layer are fixed, then we can
compute the outputs of the hidden layer for all the training samples at once.
This gives a matrix \(\bf{H}\) of dimension \(h*T\), where \(h\) is the amount of
hidden neurons and \(T\) the amount of training samples. Since the desired
output \(y\) is also known for all the training samples, for the network to
produce the desired output we need to solve the linear matrix equation \(S*\bf{H} = y\). This equation does not necessarily have an exact solution, but the best (smallest norm least-squares) solution of this equation is \(S = y*\bf{H^+}\), where \(\bf{H^+}\) is the &lt;a href=&quot;https://en.wikipedia.org/wiki/Moore%E2%80%93Penrose_pseudoinverse&quot;&gt;Moore-Penrose pseudo-inverse&lt;/a&gt; of \(\bf{H}\). Even with fixed weights going from input to hidden layer, using this \(S\) for the output weights gives good results in theory and in practice.
For more information, see &lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.217.3692&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;Huang, Guang-Bin, Qin-Yu Zhu, and Chee-Kheong Siew. “Extreme learning machine: theory and applications.” Neurocomputing 70.1 (2006): 489-501&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;header-practice&quot;&gt;Practice&lt;/h2&gt;

&lt;p&gt;The above approach is easy to implement in MATLAB, or in any environment that
can handle a pseudo-inverse (or you can implement a pseudo-inverse yourself).
Here, an example is shown to let a feedforward neural network with one hidden
layer learn the XOR function.&lt;/p&gt;

&lt;p&gt;First, set the amount of training and generalisation samples and the input and
output dimensions:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;T = 100; %amount of
training samples gen = round(0.2*T); %amount of generalisation samples id = 2;
%input dimension od = 1; %output dimension 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For the input, random values from the set \(\{0,1\}^2\) are picked. And since the
function we want to learn is actually a known function, we can easily compute
the desired output values:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;x = round(rand(id,T+gen));
%input data y = zeros(od,T+gen); %output data for t=1:T+gen y(:,t) =
xor(x(1,t),x(2,t)); %function to be learned end 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Of course, in a more realistic application \(y\) might not be given as a
function of \(x\) so easily, since that is exactly what the neural network needs
to learn. But in this example the function to be learned is known explicitly.
We also know the different possible values of the input data, so only 4 hidden
nodes will suffice for the network. In practice, one might need to find the
amount of hidden nodes just by trial and error or by using an incremental
algorithm.&lt;/p&gt;

&lt;p&gt;Initialise the neural network:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;h = 4; %amount of hidden nodes
SH = rand(h,id); %input-to-hidden synaptic weights, fixed
BH = rand(h,1)*ones(1,T+gen); %hidden layer bias, fixed
S = zeros(od,h); %hidden-to-output synaptic weights, to be adapted 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The hidden layer bias and weights will be fixed during the whole algorithm,
while the output weights will be adapted. It is important that the randomly
initialised weights and biases are drawn from a continuous probability
distribution, but it does not matter which one.&lt;/p&gt;

&lt;p&gt;The outputs of the hidden layer can be computed for every training sample:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;H = tanh(-BH + SH*x); %Calculate hidden layer output matrix
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When using your own inputs and outputs, sometimes the outputs of the hidden
layer will all be 1 or -1, or close to it. This could give problems in the
learning phase. You can try to normalise the input or the weights and biases
in this case.&lt;/p&gt;

&lt;p&gt;The learning phase is now only one line of code:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;S = y(:,1:T)*pinv(H(:,1:T)); %adjust hidden-to-output synaptic weights during learning phase
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Only the output weights are adapted, the hidden weights remain fixed. The
neural network has now learned the XOR function in one step, by only adapting
the output weights. The next code can be used to visualise this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;O = S*H; %output
plot(y,'b*'); %desired output hold on;
plot(1:T,O(:,1:T),'r.'); %output during learning phase
hold on; plot(T+1:T+gen,O(:,T+1:T+gen),'g.'); %output during generalisation phase
hold off;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/extreme_learning_machines.png&quot; alt=&quot;Extreme learning machines&quot; title=&quot;Extreme learning machines&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Visualizing accelerometer data</title>
   <link href="https://crownstone.rocks/nl/2013/04/12/visualizing-accelerometer-data"/>
   <updated>2013-04-12T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2013/04/12/visualizing-accelerometer-data</id>
   <content type="html">
&lt;h1 id=&quot;header-visualizing-accelerometer-data&quot;&gt;Visualizing accelerometer data&lt;/h1&gt;

&lt;p&gt;&lt;em&gt;Every major application or breakthrough starts with just a simple idea. But
an idea that has developed in the mind of one needs to tested to the real
world, and preferably in an easy and fast manner. During a research project on
recognizing human activities using accelerometer data, the need for quick
visualizations of collected data emerged. Using a simple setup this is made
possible, for everybody with an Android smartphone.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;We are working on a system that can be seen as a part of a pipeline process of
recognizing human activities using smartphone data. The hypotheses is that by
segmenting the gathered sensory data before applying classification, as is
often done directly, a richer and better understanding of the data can be
obtained. To try out this idea, one can work with artificial data or, as we
liked to do, with real world data. In our first attempt we used free and open
available datasets with labeled activity data; the dataset of &lt;a href=&quot;http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones&quot;&gt;Human Activity Recognition Using Smarthphones from the UCI Machine Learning Repository&lt;/a&gt;
and the &lt;a href=&quot;http://www.cis.fordham.edu/wisdm/dataset.php&quot;&gt;WISDM dataset&lt;/a&gt;.
Although it is a luxury to have labeled data, any uncertainty about performed
activities and conditions is still a drawback.&lt;/p&gt;

&lt;p&gt;To overcome this problem of unknown factors, we want to gather our own data.
Because we will do small runs of a few consecutive performed activities, such
as sitting, walking and taking the stairs, manual annotation would suffice and
there is no need for precise labeling of each measurement. The requirements
are to quickly perform an activity (without an extensive environment setup)
and visualise the data for human inspection. This way we are able to get a
&lt;em&gt;feel&lt;/em&gt; of the data, before formalizing the idea.&lt;/p&gt;

&lt;h2 id=&quot;header-android-apps&quot;&gt;Android Apps&lt;/h2&gt;

&lt;p&gt;Although the implementation of an Android app to gather the accelerometer data
is not that complicated, it is easier to choose an existing solution. This
implementation simplicity is reflected in the number of apps available
performing the task of recording sensory data. After a quick review of
available apps in the Google &lt;a href=&quot;http://play.google.com/&quot;&gt;Play store&lt;/a&gt;, our weapon
of choice became &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.kzs6502.sensorlogger&quot;&gt;Sensor Logger&lt;/a&gt;. Its benefits are the adjustable sensor rate, the
number of (virtual) sensors (raw accelerometer, linear acceleration,
orientation, rotation, etc) and the easy csv format in which data is logged. A
drawback is the lack of gps recording, but due the nature of your recordings
(small in- or outdoor activities), this is not a big problem for now.&lt;/p&gt;

&lt;h2 id=&quot;header-data-gathering&quot;&gt;Data gathering&lt;/h2&gt;

&lt;p&gt;The Sensor Logger app logs the sensor data to eight separate csv files on the
SD-card of the smartphone. These files can be transmitted to a PC, e.g. by USB
or bluetooth. Because our wish is fast data- gathering, &lt;a href=&quot;https://pl
ay.google.com/store/apps/details?id=kr.pe.meinside.DropSpace&quot;&gt;DropSpace&lt;/a&gt; is used to
mirror the SD-card directory to our computer, using the
&lt;a href=&quot;http://www.dropbox.com/&quot;&gt;Dropbox&lt;/a&gt; system.&lt;/p&gt;

&lt;h2 id=&quot;header-visualising-the-data&quot;&gt;Visualising the data&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/visualizing_accelerometer_data.png&quot; alt=&quot;Accelerometer data&quot; title=&quot;Accelerometer data&quot; style=&quot;width: 800px&quot; /&gt;
When the data is gathered on the computer, it needs to be transformed and plotted. For
this we use a combination of Ruby and Octave scripts. The first step of this
process is to strip the csv files from comments and prepare them for an easy
Octave &lt;a href=&quot;http://www.gnu.org/software/octave/doc/interpreter/Simple-File-I_002fO.html#doc_002dload&quot;&gt;load&lt;/a&gt; call. This is done by a Ruby script, which scans a
directory for Sensor Logger created files.&lt;/p&gt;

&lt;p&gt;The next step is to plot the data and save the graphs is png format. For this
the directory with the transformed csv files is passed on to a Octave script.
This script will create a graph for each measurement and one file with a few
graphs accumulated.&lt;/p&gt;

&lt;p&gt;These steps can be executed by using the command line script:
    $ ./transform_logs_to_directory.rb logs/set- stand-walk-stand-sit
An installed Ruby and Octave environment is required.&lt;/p&gt;

&lt;h2 id=&quot;header-results&quot;&gt;Results&lt;/h2&gt;

&lt;p&gt;An example of a gathered plot can be seen
&lt;a href=&quot;https://github.com/rvlasveld/accelerometer_plotting/blob/master/logs/stand-sit-walk-stand-sit/20130404_111852/_accumulated_annotated.png&quot;&gt;here&lt;/a&gt;. Without
any knowledge about the performed activities, a (slightly trained) human eye
can recognize different activities, or at least transitions between them. The
annotations are added manually to aid the interpretation of the data for the
reader. The noisy measurements and the beginning and ending are the result of
starting and stopping the logging while the phone is in the hand. The goal of
this research project to automatically create the segments, i.e. the cut-
points between activities.&lt;/p&gt;

&lt;p&gt;With this setup of quick data gathering we are able to get a feeling about the
data and test them in a visual manner, without the need of an (superfluous)
extensive laboratory setup. This way of implementation enables fast feedback
from a theoretical idea and wish for data to practical measurements which are
easily interpretable for humans.&lt;/p&gt;

&lt;h2 id=&quot;header-source-code&quot;&gt;Source code&lt;/h2&gt;

&lt;p&gt;All the used source code is available on a Github project &lt;a href=&quot;https://github.com/rvlasveld/accelerometer_plotting&quot;&gt;Accelerometer Plotting&lt;/a&gt;. Please feel
free to use, reuse and modify the code to your needs. Included is one example
run of activities. The graphs in &lt;a href=&quot;https://github.com/rvlasveld/accelerometer_plotting/blob/master/logs/stand-sit-walk-stand-sit/20130404_111852/&quot;&gt;logs/stand-sit- walk-stand-sit&lt;/a&gt; are the result of executing a
single run. The activities performed are, in executed order, standing,
sitting, walking with a 180 degree turn, standing and sitting. The file
_accumulated_annotated.png has manually annotations to provide the reading
some insight in the data.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Maker Inspiration</title>
   <link href="https://crownstone.rocks/nl/2013/03/11/maker-inspiration"/>
   <updated>2013-03-11T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2013/03/11/maker-inspiration</id>
   <content type="html">
&lt;h1 id=&quot;header-maker-inspiration&quot;&gt;Maker Inspiration&lt;/h1&gt;

&lt;p&gt;When browsing through the various blogposts, I noticed that the ideas of DoBots
have many parallels with the &lt;a href=&quot;http://en.wikipedia.org/wiki/Maker_culture&quot;&gt;maker culture&lt;/a&gt;. The maker movement has
quickly been gaining popularity over the past years, and in that respect DoBots is
a typical example of modern engineering culture: we like rapid prototyping, we
build upon existing hardware, use software where appropriate (contrary to all-
hardware solutions), and embrace the open-source principles. Because of these
parallels, I decided to write a short blogpost about two maker-inpired ideas
that are on my (infinitely long) to-do list: coffee cups with RFID tags and
bringing a Nabaztag (version 1) back to live.&lt;/p&gt;

&lt;h3 id=&quot;header-nabaztag&quot;&gt;Nabaztag&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/nabaztag.jpg&quot; alt=&quot;Nabaztag&quot; title=&quot;Nabaztag&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We keep two comatose &lt;a href=&quot;http://en.wikipedia.org/wiki/Nabaztag&quot;&gt;Nabaztag&lt;/a&gt; rabbits
in our office from an old project. They still look cute, but their stillness
is sometimes a tad saddening. Therefore, I would like to bring them back to
live and give them a sense of purpose again. Now, this is not a very easy
task, as the number of I/O options on the Nabaztag is rather limited: it has
moving ears, some LEDs, a speaker, and finally, one button. So far, I came up
with the following ideas:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Track my computer or internet use in some way and let the Nabaztag give me feedback: encourage me to work harder, or take a break, in a non-obtrusive way&lt;/li&gt;
  &lt;li&gt;Let me know when there is something important to read or when a deadline in my calendar is due&lt;/li&gt;
  &lt;li&gt;Suggest fussball matches or react on the scores&lt;/li&gt;
  &lt;li&gt;Let me know when it might or might not be a good idea to cycle home (rain)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Additional ideas of uses for office-rabbits are of course welcome!&lt;/p&gt;

&lt;h3 id=&quot;header-coffee-cups&quot;&gt;Coffee Cups&lt;/h3&gt;

&lt;p&gt;Working in an office where a significant part of the daily physical exercise
consists of maintaining the flow of coffee from the ground floor to the second
floor, we came up with the idea of embedding RFID tags in coffee cups. This
idea is of course not new, as it is for example used to &lt;a href=&quot;http://www.validfill.com&quot;&gt;keep track of
consumptions&lt;/a&gt; in coffee shops and restaurants.
However, the office is a much more interesting application space! The main
idea is this: put your cup with pretty (maybe even customized) RFID tag in the
coffee machine, and you get your standard brew without touching any buttons.
Just think of the possibilities and advantages!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/mug.jpg&quot; alt=&quot;Mug&quot; title=&quot;robot mug&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Getting coffee for colleagues becomes a breeze&lt;/li&gt;
  &lt;li&gt;No germ spreading through coffee machine buttons&lt;/li&gt;
  &lt;li&gt;Pretty, identifying RFID tags on every cup (dishwasher-proof of course)&lt;/li&gt;
  &lt;li&gt;Maybe even &lt;a href=&quot;http://soft.vub.ac.be/soft/edu/thesis/proposals1213/thingdb&quot;&gt;find the cup when it is lost&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Automatic statistics gathered by the &lt;a href=&quot;http://andrewbrobinson.com/2011/12/27
/hacking-the-keurig-b40-coffee-maker-part-1-hardware/&quot;&gt;Arduino &amp;amp; RFID reader in the coffee machine&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Connect it to a webserver and have a live coffee consumption leaderboard&lt;/li&gt;
  &lt;li&gt;Automatic machine status messages and requests for refilling, etc. The coffee machine becomes a truly autonomous entity!&lt;/li&gt;
  &lt;li&gt;Overrule standard settings for a particular cup through the internet or coffee machine interface. Use machine learning to predict and learn these deviations.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Of course, one could argue that the same could be achieved with old-fashioned
techniques like color-coded cups, or even barcodes. However, who would want to
switch to a different cup after becoming attached to your own this-coffee-
will-make-me-lucky-drinking equipment? Who could stand the sight of an ugly
barcode stuck on your best desk-friend? And finally, who would use something
as crude as an optical sensor if an elegant and more advanced RF technique is
available? Clearly, it is only a matter of time until such a system will be
employed in every office around the world!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Particle filter for tracking</title>
   <link href="https://crownstone.rocks/nl/2012/11/11/particle-filter-for-tracking"/>
   <updated>2012-11-11T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/11/11/particle-filter-for-tracking</id>
   <content type="html">
&lt;h1 id=&quot;header-particle-filter-to-track-robots&quot;&gt;Particle filter to track robots&lt;/h1&gt;

&lt;p&gt;Particle filter demo of our home-made robot, the dotty. The IP webcam used in
this demo is quite old, so the quality is not that good. You will see that the
pockets of the pool table are quite hard (the particle filter is tempted to
track those instead of the robot when the robot gets close). You can find the
code for the particle filter at
&lt;a href=&quot;https://github.com/mrquincle/particlefilter&quot;&gt;github&lt;/a&gt;, feel free to improve
it.&lt;/p&gt;

&lt;p&gt;There is not much time spend on this implementation. It is only meant as an
exercise to get familiar with particle filtering techniques. There are
approximate and generalised forms of belief propagation on networks of robots
that require such expertise. Subsequently this can be used for either
simultaneous localisation and mapping, tracking, or certain common visual
tasks.&lt;/p&gt;

&lt;p&gt;With respect to the latter, it would be cool if an image segmentation task
across a multi-agent system would indeed be solved as one general problem
where the structure is exploited, rather than some ad-hoc user-defined
decomposition depending on the coffee quantity in the morning.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/LmxHQdzytRw?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;For other algorithms do also not hesitate to visit the website
&lt;a href=&quot;http://almende.github.com/nets/&quot;&gt;NETS&lt;/a&gt; dedicated to algorithms only!&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Localization</title>
   <link href="https://crownstone.rocks/nl/2012/11/01/localization"/>
   <updated>2012-11-01T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/11/01/localization</id>
   <content type="html">
&lt;h1 id=&quot;header-localization&quot;&gt;Localization&lt;/h1&gt;

&lt;p&gt;This is a follow-up on the earlier post about
&lt;a href=&quot;https://crownstone.rocks/2012/02/28/a-brief-story-of-slam/&quot;&gt;SLAM&lt;/a&gt;. Localization
is inherent to SLAM if the system is working perfectly, but that usually requires
expensive sensors like laser range finders and lots of computing power. As we
envision cheap and expendable robots, we would like to know whether reliable
localization is also possible in a simpler way.&lt;/p&gt;

&lt;p&gt;For outdoor robots, the solution is easy: existing maps with GPS (and in the
near future, &lt;a href=&quot;http://www.esa.int/esaNA/galileo.html&quot;&gt;Galileo&lt;/a&gt;). This is the
approach that is used for &lt;a href=&quot;http://fireswarm.nl/&quot;&gt;Fireswarm&lt;/a&gt;. For indoor
robots, such a simple, almost luxurious solution is not available,
unfortunately. Thus, we have to rely on a number of sensors, like a compass,
gyroscope and distance sensors. There is one sensor that can really give a lot
of information for almost no money though: a camera. Can we use something like
a webcam for robust SLAM?&lt;/p&gt;

&lt;h2 id=&quot;header-visual-slam&quot;&gt;Visual SLAM&lt;/h2&gt;

&lt;p&gt;In fact, this has already been achieved with
&lt;a href=&quot;http://www.robots.ox.ac.uk/~gk/PTAM/&quot;&gt;PTAM&lt;/a&gt;. Unfortunately, PTAM and its
dependencies have not been maintained the past two years. The result is
software that is hard to get working (especially on non-standard platforms
such as smartphones) and does not include the latest developments in SLAM
algorithms, especially regarding loop closing and bundle adjustment.&lt;/p&gt;

&lt;div class=&quot;videowrapper&quot;&gt;
		&lt;center&gt;
		&lt;iframe frameborder=&quot;0&quot; width=&quot;560&quot; height=&quot;420&quot; allowfullscreen=&quot;&quot; src=&quot;//www.youtube.com/embed/2zZ4MrcAqNQ?color=white&amp;amp;theme=light&amp;amp;title=&quot;&gt;&lt;/iframe&gt;
		&lt;/center&gt;
		&lt;/div&gt;

&lt;p&gt;This means we have work to do! First of all, we have to decide whether we can
make adaptations to the environment. Markers and so on make the task easier,
but may not be acceptable in every application. A map that is known beforehand
also solves part of the task: most of the mapping part of the SLAM algorithm.
Of course, we should solve the localization task in the worst-case scenario of
an unknown dynamic environment.&lt;/p&gt;

&lt;h2 id=&quot;header-ceiling-odometry&quot;&gt;Ceiling odometry&lt;/h2&gt;

&lt;p&gt;As a start, we are building a simple 2d demo. We can use a camera to look at
the ceiling and use this video stream to estimate where we have walked. The
first step is to detect and track features on the ceiling. This may seem easy,
but to find stable features for tracking is easier said than done. To track
these features and find out where they moved, we can use the iterative Lucas-
Kanade method [1]. &lt;a href=&quot;http://docs.opencv.org/modules/video/doc/motion_analysis_and_object_tracking.html&quot;&gt;This method&lt;/a&gt; is built into OpenCV and
gives good results.&lt;/p&gt;

&lt;p&gt;Then, we can calculate the
&lt;a href=&quot;http://en.wikipedia.org/wiki/Homography&quot;&gt;homography&lt;/a&gt; between the old and new
locations of the features. The homography is a matrix describing the
transformation between the coordinates. Because the features are all on the
same stationary plane, the homography matrix actually describes how the camera
has moved. Again, OpenCV has &lt;a href=&quot;http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html?highlight=findhomography#cv.FindHomography&quot;&gt;a function&lt;/a&gt; to do all the dirty work for us, including
&lt;a href=&quot;http://en.wikipedia.org/wiki/RANSAC&quot;&gt;RANSAC&lt;/a&gt; for outlier rejection. If I get
around to working on this a bit more, this demo will soon be available as an
app for Android!&lt;/p&gt;

&lt;p&gt;[1] Alternatively, we can use &lt;a href=&quot;http://en.wikipedia.org/wiki/Phase_correlation&quot;&gt;phase correlation&lt;/a&gt;, which is based on a Fourier transform over the old and new images. OpenCV only includes a function to use this method for translations, but it has been shown that it can also be used to find rotations. While initial tests did not give great results, I would like to look into this further, as it seems to be a good method to quickly use all the information in an image to estimate rotation and translation.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Echo State Networks</title>
   <link href="https://crownstone.rocks/nl/2012/07/06/echo-state-networks"/>
   <updated>2012-07-06T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/07/06/echo-state-networks</id>
   <content type="html">
&lt;h1 id=&quot;header-echo-state-networks&quot;&gt;Echo State Networks&lt;/h1&gt;

&lt;p&gt;Just a quick post for people who are interested in Echo State Networks.&lt;/p&gt;

&lt;p&gt;The past months I spent my time at DoBots to investigate Echo State Networks
(ESNs) as part of my studies Cognitive Neuroscience. ESNs are a type of
recurrent neural network that is easier to train than conventional recurrent
neural networks. Those conventional networks require gradient-based learning
algorithms, such as backpropagation through time (BPTT), and can have problems
with convergence. In order to circumvent this problem, the recurrent
connections are not trained at all in the ESN approach. Instead, the recurrent
neural network is used as a reservoir of non-linear combinations of the input
data, and this reservoir is used to train a simple perceptron output node with
regression. The resulting network gives especially impressive results in
timeseries prediction.&lt;/p&gt;

&lt;p&gt;Here is a scholarpedia link with a better (and short) explanation of the idea
and two good review articles:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.scholarpedia.org/article/Echo_state_network&quot;&gt;http://www.scholarpedia.org/article/Echo_state_network&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;M. Lukosevicius and H. Jaeger. Reservoir computing approaches to recurrent neural network training. Computer Science Review, 3(3):127-149, 2009.&lt;/li&gt;
  &lt;li&gt;B. Schrauwen, D. Verstraeten, and J. Van Campenhout. An overview of reservoir computing: theory, applications and implementations. In proceedings of the 15th European Symposium on Arti cial Neural Networks. 2007.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;header-classification-of-context&quot;&gt;Classification of context&lt;/h2&gt;

&lt;p&gt;I investigated classification with ESNs. Specifically, classification of
environments and abstract context. This can be useful in a couple of
situations. First, you may want to create a robot controller based on a
recurrent neural network, but get stuck at the training procedure. As
explained earlier, an ESN can solve this problem. Another possibility is to
create a behavioral robot controller and use the output nodes of the ESN to
inhibit or enhance specific behaviors, depending on the context. For example,
you could use a small ESN to process battery status and light sensor
information to create a sleeping pattern or simply to make a robot look for
energy when the battery is almost empty. Unfortunately, I did not get around
to implementing the ESNs in an actual robot for demonstration. Nevertheless, I
adapted the basic ESN concept to deal with different timescales, by using a
continuous times reservoir instead of a discrete reservoir. This system can
solve some artificial but non-trivial abstract tasks. The main challenges for
a robot implementation will be the use of continuous input signals instead of
binary input and the timing of the input signals: in my system, the input is
given every 15 timesteps and at the end of every such trial, the output is
read. In a robot, this will probably not be so simple.&lt;/p&gt;

&lt;p&gt;For more detailed information and the matlab code for the ESNs, see
&lt;a href=&quot;https://github.com/RemcoTukker/PFC-ESN&quot;&gt;https://github.com/RemcoTukker/PFC-ESN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For reference, the most common application of ESNs in robots are for motor
control and inverse modelling of robot control. Here’s some articles about
these applications, in chronological order:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;P. Ploger, A. Arghir, T. Gunther, and R. Hosseiny. Echo state networks for mobile robot modeling and control. RoboCup 2003: Robot Soccer World Cup VII, pages 157-168, 2004.&lt;/li&gt;
  &lt;li&gt;M. Salmen and P.G. Ploger. Echo state networks used for motor control. In Robotics and Automation, 2005. ICRA 2005. Proceedings of the 2005 IEEE International Conference on, pages 1953-1958. IEEE, 2005.&lt;/li&gt;
  &lt;li&gt;A.F. Krause, V. Durr, B. Blasing, and T. Schack. Evolutionary optimization of echo state networks: multiple motor pattern learning. 2010.&lt;/li&gt;
  &lt;li&gt;C. Hartland and N. Bredeche. Using echo state networks for robot navigation behavior acquisition. In Robotics and Biomimetics, 2007. ROBIO 2007. IEEE International Conference on, pages 201-206. IEEE, 2007.&lt;/li&gt;
  &lt;li&gt;T. Waegeman, E. Antonelo, F. Wyels, and B. Schrauwen. Modular reservoir computing networks for imitation learning of multiple robot behaviors. In Computational Intelligence in Robotics and Automation (CIRA), 2009 IEEE International Symposium on, pages 27-32. IEEE, 2009.&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Smartphone add-ons</title>
   <link href="https://crownstone.rocks/nl/2012/05/13/smartphone-add-ons"/>
   <updated>2012-05-13T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/05/13/smartphone-add-ons</id>
   <content type="html">
&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/romo.jpg&quot; alt=&quot;Romo&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;There are more and more add-ons available for smartphones.
We are eagerly awaiting for example the
&lt;a href=&quot;http://www.kickstarter.com/projects/peterseid/romo-the-smartphone-robot&quot;&gt;Romo&lt;/a&gt; funded via &lt;a href=&quot;http://www.kickstarter.com&quot;&gt;kickstarter.com&lt;/a&gt;. However,
because of European regulations with respect to volume restrictions of
smartphones, the Romo robot had to be redesigned for the European market and
the Romo will arrive somewhere in early June.&lt;/p&gt;

&lt;p&gt;Most of the add-ons are sensors which do not have to create a graphical
interface for the user because now they can hitchhike on the nice AMOLED, etc.
screens of a smartphone which the customer does have anyway already. Such as
for example the &lt;a href=&quot;http://www.everistgenomics.com/content/cardiodefender/summary.htm&quot;&gt;Cardio Defender&lt;/a&gt; from Everist Genomics, the
&lt;a href=&quot;http://www.zensorium.com/gallery/gallery.html&quot;&gt;Tinké&lt;/a&gt; from Zensorium, the
&lt;a href=&quot;http://www.dexcom.com/seven-plus&quot;&gt;Zeven Plus&lt;/a&gt; glucose meter from Dexcom, the
&lt;a href=&quot;http://www.valencell.com/&quot;&gt;v-linc&lt;/a&gt; heart rhythm sensor from Valencell, the
&lt;a href=&quot;http://www.adidas.com/nl/micoach/&quot;&gt;micoach&lt;/a&gt; smart shoes from Adidas.&lt;/p&gt;

&lt;p&gt;Slowly, however there are are also actuators (things with a motor) attached to
the smartphone as an add-on. There is for example the &lt;a href=&quot;http://www.xapprgun.com/&quot;&gt;Xappr gun&lt;/a&gt;, the &lt;a href=&quot;http://www.techinasia.com/vibease-pre-order/&quot;&gt;Vibease
vibrator&lt;/a&gt;, the &lt;a href=&quot;https://www.cobra.com/detail/cobra-phonetag.cfm&quot;&gt;Cobra key finder&lt;/a&gt; and the
&lt;a href=&quot;http://www.bikn.com/index.php&quot;&gt;bikn&lt;/a&gt;, the Panasonic &lt;a href=&quot;http://www.cnet.com/8301-13553_1-57400077-32/smartphone-talks-to-panasonic-rice-cooker/&quot;&gt;rice cooker&lt;/a&gt;, several &lt;a href=&quot;http://www.lightinthebox.com/unique-design-h-264-wireless-ptz-ip-camera-smartphone-control-msn-server_p238092.html&quot;&gt;PTZ IP cameras&lt;/a&gt;, numerous helicopters, the &lt;a href=&quot;https://www.parrot.com/global/drones/parrot-ardrone-20-elite-edition&quot;&gt;Parrot
quadrocopter&lt;/a&gt;, the
&lt;a href=&quot;http://www.gosphero.com/&quot;&gt;sphero&lt;/a&gt;, an underwater robot, the Hydroview (3000
dollar) from Aquabotix, the &lt;a href=&quot;http://samuelwilkinson.com/biome/&quot;&gt;Biometerrarium&lt;/a&gt;, the &lt;a href=&quot;http://www.orb.com/en/store.html&quot;&gt;Orb music player&lt;/a&gt;, etcetera, etcetera.&lt;/p&gt;

&lt;p&gt;This world of smartphone-enabled devices is booming. A personal computer has
always been, notwithstanding its name, kind of “impersonal”. Your computer
does almost have no idea about you or your wishes and plans of the day.
Smartphones however start to cross this bridge. It becomes possible, at least
from a technical point of view, not to let your phone ring if you are at a
specific location or when you are having a date. It is possible to tell you
which route to take on the highway, to advice you about health issues, to
measure your achievements as a sportsman, etc. However, until now your
smarthphone has not so many options to “reach out” to you in the real world.
Fairly basic things like turning the heat and the lights on, giving water to
the plants, vacuum cleaning are still done by people themselves. Devices
should be able to help us better and better. This will become easier the more
devices are attached to the internet. Hence, smartphone-powered devices are
interesting to us. Not in the first place because they can be turned on by you
and me, but especially because they can then be turned on by our robots. Our
vacuum cleaner can turn on the lights to make it easier to the cleaning, which
is on the moment a far-fetched scenario, but definitely in our reach from a
technological point of view. Most important of all, our robots will need to
know us to be really good personal assistants. The time of impersonal
computers is over…&lt;/p&gt;

&lt;p&gt;So, if you sell or find an interesting device, feel free to contact us about
the possibilities to make it internet-enabled.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>In the spotlight, Linux!</title>
   <link href="https://crownstone.rocks/nl/2012/04/03/in-the-spotlight-linux"/>
   <updated>2012-04-03T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/04/03/in-the-spotlight-linux</id>
   <content type="html">
&lt;h1 id=&quot;header-fireswarm-internals&quot;&gt;FireSwarm internals&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/tux.jpg&quot; alt=&quot;Tux&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The FireSwarm drones developed
to detect fire as quick as possible, making use of their large numbers, have a
series of sensors and processors on-board. The autopilot from MAVlab - known
from the &lt;a href=&quot;http://www.delfly.nl/&quot;&gt;DelFly&lt;/a&gt;, the micro-aerial vehicle lab at the
TUDelft - is a mature solution for navigating airborn vehicles through the
air. This autopilot communicates with a low-power processor from &lt;a href=&quot;http://sallandelectronics.nl/&quot;&gt;Salland Electronics&lt;/a&gt; which functions as the hub for
sensors on-board such as a thermopile array, a CO sensor, and a 3MP camera for
streaming hi-res images to the fire brigade (after the fire has been detected
autonomously).&lt;/p&gt;

&lt;p&gt;The autonomous detection of the fire is impossible without a powerful
processor on-board. Our solution uses a small form-factor computer, the so-
called Gumstix, the size of a stick of gum. The Gumstix is often used in the
world of UAVs and uses the OMAP3 SoC (system-on-chip) solution by Texas
Instruments build around a Cortex A8 processor. For example, the Overo Earth
contains only this ARM processor (OMAP3503), while the Overo Water (OMAP3530)
has an ARM plus a GPU, the PowerVR SGX530. By the way, the Overo Water has the
same OMAP as in the well-known Beagleboard.&lt;/p&gt;

&lt;h2 id=&quot;header-linux-33&quot;&gt;Linux 3.3&lt;/h2&gt;

&lt;p&gt;In the latest version of Linux, the Linux core developers came to terms with
the Android developers integrating all kind of software that the latter group
wrote. This wasn’t the only thing. Important for us, the mainline kernel (from
Linus) now supports the Caspa FS camera natively. Hence, we would like to have
in the spotlight this month: &lt;strong&gt;Linux, and especially Laurent Pinchart&lt;/strong&gt;, who
has been a great help to us. To reduce a bit the number of questions that
these people get, we will try to summarize our findings here. Feel free to
contact us for questions to use the Caspa with the newest version of Linux.
The only thing that is missing is board code support for the Caspa module
which you can find at &lt;a href=&quot;http://git.linuxtv.org/pinchartl/media.git/commit/3b6af8682bf3c3275d02ae2aa48daf582650c1f7&quot;&gt;pinchart’s git repository&lt;/a&gt; in the form of a patch. This link changes all
the time, search for “board- overo: Add Caspa camera support” if the link is
broken. Laurent told us that the ISP driver by Gumstix is a bit buggy and
limited in features, so it is recommended to use the driver from the mainline
kernel. The main reason we want to use the updated driver is the very
interesting media architecture with which we get &lt;strong&gt;access to the RAW camera
data&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Normally the output of the camera is YUYV while the original input to the
driver is in the form of a Bayer pattern (see
&lt;a href=&quot;http://en.wikipedia.org/wiki/Bayer_filter&quot;&gt;wikipedia&lt;/a&gt;). A Bayer pattern has 4
subpixels per pixels of which there is one red, one blue, and two green. It
has been invented by Bayer to mimic the physiology of the human retina which
is more sensitive to green.&lt;/p&gt;

&lt;p&gt;The media framework set up by Laurent makes it possible to make an image
processing pipeline where there is a list of /dev/video* devices with
different output. The pipeline can be configured such that one of these
streams raw images, another monochrome images, and yet another YUYV images.&lt;/p&gt;

&lt;h2 id=&quot;header-get-the-code&quot;&gt;Get the code&lt;/h2&gt;

&lt;p&gt;First of all you will need to get the code of the new kernel. Now the 3.3
kernel is officially out, so you can best get it from the mainline kernel at
&lt;a href=&quot;http://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=summary&quot;&gt;http://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=summary&lt;/a&gt;. However,
we choose back then for Laurent’s repository at git://&lt;a href=&quot;http://git.linuxtv.org/pinchartl/media.git&quot;&gt;git.linuxtv.org/pinchartl/media.git&lt;/a&gt; and then
the unstable - &lt;strong&gt;so not recommended&lt;/strong&gt;! - branch: omap3isp-omap3isp-next. I
won’t detail git commands here, you will find out how to clone and checkout
branches easily elsewhere. Do not forget to apply the patch from above! This
patch not included, not even in the omap3isp-omap3isp-next branch. It is most
natural to have the media framework and the drivers in the form of modules of
course, so make sure you install the modules. In the next code section you see
$OVEROTOP for the directory where the cross-compiler resides (build by
OpenEmbedded / bitbake, installable by aptitude install bitbake on Ubuntu),
and $FIRESWARM_KERNEL and $FIRESWARM_KERNEL_MODULES for the root of the build
and the place where the modules will be installed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;export PATH=${OVEROTOP}/tmp/sysroots/ x86_64-linux/usr/armv7a/bin:${PATH}
make ARCH=arm CROSS_COMPILE=arm-angstrom-linux-gnueabi- menuconfig  
make ARCH=arm CROSS_COMPILE=arm-angstrom-linux-gnueabi- uImage modules  
export FIRESWARM_KERNEL_MODULES=${FIRESWARM_KERNEL}/build/modules  
mkdir -p ${FIRESWARM_KERNEL_MODULES}  
make ARCH=arm INSTALL_MOD_PATH=${FIRESWARM_KERNEL_MODULES} modules_install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There are .config files included in the kernel (of course). So you will have
to browse the webs for something that is usable. For your convenience I put a
.config here that is build from Sakoman’s 3.2 .config version and an
omap3-overo .config file, plus some changes from ourselves for Linux 3.3:
&lt;a href=&quot;documents/10530/0/.config&quot;&gt;.config&lt;/a&gt;. You will of course need to check them,
it might have keyboard/mouse disabled for example. You will benefit from two
utility programs, namely media-ctl and yavta. You can find them at
&lt;a href=&quot;http://git.ideasonboard.org&quot;&gt;git.ideasonboard.org&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To cross-compile yavta: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make ARCH=arm CROSS_COMPILE=arm-angstrom-linux-gnueabi-&lt;/code&gt; And to compile media-ctl make sure you set the cross-
compiler similarly:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;export FIRESWARM_MEDIA_CTL=/opt/fireswarm/media-ctl  
mkdir ${FIRESWARM_MEDIA_CTL}/build  
export CC=arm-angstrom-linux- gnueabi-gcc  
export CPP=arm-angstrom-linux-gnueabi-cpp  
ARCH=arm CROSS_COMPILE=arm-angstrom-linux-gnueabi- autoreconf --install  
ARCH=arm CROSS_COMPILE=arm-angstrom-linux-gnueabi- ./configure \
  --with-kernel-headers=${OVEROTOP}/tmp/sysroots/overo-angstrom-linux-gnueabi/kernel \
  --build=arm --host=i686 --prefix=${FIRESWARM_MEDIA_CTL}/build  
ARCH=arm CROSS_COMPILE=arm- angstrom-linux-gnueabi- make  
make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;header-in-operation&quot;&gt;In operation&lt;/h2&gt;

&lt;p&gt;Make sure everything is attached nicely and you copied over the image, the
kernel modules, and the yavta and media-ctl utilities to the Gumstix, via
ethernet or via the USB card itself. The camera should be automatically
detected, even if you hotplug it. If not, the only module you need to insert
is the ISP one, by e.g. modprobe omap3-isp. This will automatically load
media.ko, videodev.ko, v4l2-common.ko, mt9v032.ko, and omap-iovmm.ko. Check it
with lsmod for yourself. If you don’t see a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/video&lt;/code&gt; device, make sure you
applied the patch of above. Then after you see the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/video&lt;/code&gt; devices listed,
it’s time to make work of the media-ctl utility.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./media-ctl -v -l '&quot;mt9v032 3-005c&quot;:0-&amp;gt;&quot;OMAP3 ISP CCDC&quot;:0[1]'  
./media-ctl -v -l '&quot;OMAP3 ISP CCDC&quot;:1-&amp;gt;&quot;OMAP3 ISP CCDC output&quot;:0[1]'  
./media-ctl -v -f '&quot;mt9v032 3-005c&quot;:0 [SGRBG10 752x480]'  
./media-ctl -v -f '&quot;OMAP3 ISP CCDC&quot;:1 [SGRBG10 752x480]'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And use yavta to capture some images:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;yavta -p -f SGRBG10 -s 752x480 -n 4 --capture=20 --skip 10 \  
  $(./media-ctl -e &quot;OMAP3 ISP CCDC output&quot;) --file=img-#.bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make sure the “capture” number is larger than the “skip” number, or no frames
will actually be captured. The dash # is a mask and will be replaced by
increasing numbers. This media-ctl setting - as you can see - captures raw
GRBG images with 10 bit subpixel values. Be careful in converting this raw
data to images. The 10 bits values are not packed, they are written to 16bit
values. Also, realize that the image sensor is 752x480 subpixels, and not
entire pixels. So raw Bayer gives you only 752x480 16-bit values.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Self-organisation Literature</title>
   <link href="https://crownstone.rocks/nl/2012/03/20/self-organisation-literature"/>
   <updated>2012-03-20T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/03/20/self-organisation-literature</id>
   <content type="html">
&lt;h1 id=&quot;header-self-organization-literature&quot;&gt;Self-organization literature&lt;/h1&gt;

&lt;p&gt;This list contains a series of papers which we consider as tightly related to
the concept of &lt;strong&gt;self-organization&lt;/strong&gt;. DoBots is a spin-off of
&lt;a href=&quot;http://www.almende.com&quot;&gt;Almende&lt;/a&gt;, a company that performs research on this
specific topic and DoBots is moderately “infected” by it. :-) Reading the
following literature might bring you a bit closer to the general thought
package of Almende, which was originally inspired by the &lt;a href=&quot;http://www.santafe.edu&quot;&gt;Santa Fé
Institute&lt;/a&gt; on the other side of the ocean. We will try
to say in two or three lines why we think a specific paper is interesting. We
add (pdf) links, but please, use google scholar if the links are outdated.&lt;/p&gt;

&lt;h2 id=&quot;header-embodied-intelligence&quot;&gt;Embodied intelligence&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;New robotics: design principles for intelligent systems [Pfeifer, Iida,
Bongard], 2003 (&lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.100.236&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Brooks creating his purely reactive agents, said things like “intelligence
without representation” and “intelligence without reason”, or more eloquently:
“the world is its own model.” Very concrete: if a robot changes something in
the world, it does not need to remember it as such, it can just look it up.
The authors come up with a developmental paradigm to solve the problem of how
a robot even starts to know its own body. In a simulation “block pushers” are
evolved in which body morphology and brain are coevolved using gene regulatory
networks.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Developmental robotics: a survey [Lungarella, Metta, Pfeifer, Sandini], 2003 (&lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.83.7615&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;From unknown sensors and actuators to actions grounded in sensorimotor perceptions [Ollson, Nehaniv, Polani], 2006 (&lt;a href=&quot;http://homepages.feis.herts.ac.uk/~comqdp1/publications/files/olssonl_cs.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;header-empowerment&quot;&gt;Empowerment&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Empowerment: a universal agent-centric measure of control [Klyubin, Polani, Nehaniv], 2005 (&lt;a href=&quot;http://homepages.feis.herts.ac.uk/~comqdp1/publications/files/cec2005_klyubin_polani_nehaniv.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Empowerment is an attempt to define in an information theoretic sense the
concept of autonomy. It is the amount of information an agent can potentially
inject into the environment via its actuators and _capture later _via its
sensors. The principle of empowerment maximization has an agent act in such
way, that its perception later is the richest experience imaginable. This is
self-organization in a sensorimotor space.&lt;/p&gt;

&lt;p&gt;See also:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Predictive information and explorative behavior of autonomous robots [Ay, Bertschinger, Der, Güttler, Olbrich], 2008 (&lt;a href=&quot;http://www.santafe.edu/media/workingpapers/08-02-006.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;Information theory of decisions and actions [Tishby, Polani] (&lt;a href=&quot;http://eprints.pascal-network.org/archive/00005915/01/IT-PAC.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;header-language-grounding&quot;&gt;Language grounding&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Origins of communication in evolving robots [Marocco, Nolfi], 2006 (&lt;a href=&quot;http://gral.ip.rm.cnr.it/Pubblicazioni/English/Book%20Chapters/marocco_sab9.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The authors simulate four robots that undergo (neuro)evolution where they - in
the end - distribute themselves over two target areas in the arena. Their
output neurons in a neural networks are connected to communication sensors.
The paper is interesting because the authors show how the communication
patterns evolve over generations. It shows not only that motor behaviour can
co-evolve with communication skills, but also how the latter improve over
time. First the robots can only communicate that they already occupy an area,
later on they can communicate with each other such that they can distinguish
between one or multiple robots in a given area. Most remarkable, they really
come up with this representation entirely by themselves!&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Evolving communication without dedicated communication channels [Quinn], 2001 (&lt;a href=&quot;http://www.isrl.illinois.edu/~amag/langev/localcopy/pdf/quinn01evolvingCommunication.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;header-contraction-theory&quot;&gt;Contraction theory&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;A study of synchronization and group cooperation using partial contraction theory [Slotine, Wang], 2005 (&lt;a href=&quot;http://web.mit.edu/people/wangwei/CooperativeControl.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Contraction theory tells you something that is very important to synthesize
systems. If two systems are contracting, then the system composed out of these
two subsystems will also be contracting. In other words, contraction theory
studies convergence between two arbitrary system trajectories. Partial
contraction theory extends this and describes convergence to something beyond
a unique trajectory, for example a manifold. This might not fall under the
conventional concept of self-organization, but the ability to say something
reasonable about systems connected to each other by arbitrary feedback loops,
is extremely valuable.&lt;/p&gt;

&lt;h2 id=&quot;header-associative-learning&quot;&gt;Associative learning&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Cognitive robotics, enactive perception, and learning in the real world [Morse, Ziemke], 2007 (&lt;a href=&quot;http://csjarchive.cogsci.rpi.edu/Proceedings/2007/docs/p485.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This paper and the one called “dynamic liquid association” introduce a new
type of artificial intelligence called &lt;em&gt;reservoir computing&lt;/em&gt;. It makes use of
a static reservoir of neurons with fading activity. The latter is enforced by
scaling the network weight till the spectral radius is small enough.
Subsequently a simple network is used to read-out the network activity. This
paper is remarkable in the sense that it uses an old technique for that,
adaptive resonance theory (Grossberg). A simple auto-associative memory like
Kohonen networks which is worth to look at it for its own reasons.&lt;/p&gt;

&lt;h2 id=&quot;header-polychronization&quot;&gt;Polychronization&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Polychronization: computation with spikes [Izhikevich], 2006 (&lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.125.5672&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Random networks can produce time-locked patterns that are &lt;em&gt;not&lt;/em&gt; synchronous.
When delays exist between neurons specific patterns emerge when input is
provided. Simplifying, suppose a post-synaptic neuron gets activitated if
&lt;em&gt;two&lt;/em&gt; pre-synaptic neurons fire, when their spikes _after _two different
delays through the synaptic cleft, arrives at their destination. It is not
important when the neurons fire, but when their activity comes together at the
same time! In this way networks of neurons are formed. Very interesting, the
number of such polychronous groups far exceed the number of neurons.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Delay learning and polychronization for reservoir computing [Paugam-Moisy, Martinez], 2008 (&lt;a href=&quot;http://liris.cnrs.fr/Documents/Liris-3399.pdf&quot;&gt;pdf&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>The renormalization group on networks, an introduction</title>
   <link href="https://crownstone.rocks/nl/2012/02/27/the-renormalization-group"/>
   <updated>2012-02-27T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/02/27/the-renormalization-group</id>
   <content type="html">
&lt;h1 id=&quot;header-the-renormalization-group-on-networks&quot;&gt;The renormalization group on networks&lt;/h1&gt;

&lt;p&gt;Modern physics is actually one big quest to solve the many-body problem. Most
often stated in soundbites invented by famous people from for example the
influential Santa Fé school, but sometimes as old as Aristotle, such as “the
whole is greater than the sum of the parts”. In physics this often came to
mean: the whole is the sum of parts plus all their interactions. These
interactions can sometimes be neatly organised in the form of Feynmann
diagrams, the mysterious drawings you might sometimes see on the cover of
physics books.&lt;/p&gt;

&lt;h2 id=&quot;header-blocks&quot;&gt;Blocks&lt;/h2&gt;

&lt;p&gt;Not exactly a new kid on the block, we are somewhere in the 50s-70s, group
renormalization became a tool in particle physics to cope with the many
possible interactions between elementary particles. First of all, the
physicists borrowed from the old idea of considering a system at different
scales. Think of the different resolutions of for example Google maps.
Secondly, the physicist gave up on the idea that a system could be described
by a finite number of interactions, but instead of that realised that an
infinite number of interactions would not be such a big problem if the
relation of the “interaction landscape” (my words) on one scale would have a
simple reation with the “interaction landscape” on another scale. The example
often used in statistical physics is that of the Ising model which is a 2D
grid with so-called spins, that can point upwards or downwards. The spins
influence their neighbours: a spin aligns its orientation according to the
majority of its neighbours. By considering the larger scale of so-called block
spins, we take blocks of say 3x3 spins and assign a spin direction to this
larger block. Now, we have to come up with a description for the interactions
between the block spins on this higher level. Not only that, but these
interactions should also somehow be a coarse grained description of the
interactions on the lower level. The idea of group renormalisation is that by
repeating this pattern we end up with a flow from one “interaction landscape”
to another: a flow through the space of coupling constants. We now miss one
important piece of the puzzle to make sense of all this. This “flow” can
namely be very chaotic. However, there is one specific phenomenon that is
deeply related to the concept of scale invariance, which is the second order
phase transition. A second order phase transition is a critical phenomenon
that makes a system transition from one state to another in a very abrupt
manner. Think earthquakes, crackling noise, etc. A system that is “poised at
this edge of chaos” corresponds to a group renormalisation flow that is
directed towards a fixed point! We suddenly have a way to describe the global
behaviour - through a huge series of scales - from local interactions!&lt;/p&gt;

&lt;h2 id=&quot;header-network&quot;&gt;Network&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/renormalization_newman_and_watts.jpg&quot; alt=&quot;Renormalization on networks&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This is all
very well, but nothing makes much sense without examples. We can give an
example of the Ising model, or of self-organised criticality with sandpiles
(Bak), but for swarm robotics, we are most interested in graphs. We have one
remark here, most graph-based research disregards the spatial embedding of
this graph in the real world, however, in our case of a network of robots,
this is instead one of the most interesting and challenging future directions
of “complex systems” research. The scientific world has been talking the last
decade about networks with the so-called small world property. Imagine a
network of people, where people correspond to the nodes on a graph and people
that know each other are represented by edges. Imagine these nodes on a
circle, and organise them a bit and you will see a structure as in Fig. 1
(from Newman and Watts publicly available paper [1]). The hypothesis is that
this small world property is a critial phenomenon, and hence group
renormalization can be applied.&lt;/p&gt;

&lt;h2 id=&quot;header-parameters-l-k-and-p&quot;&gt;Parameters L, k and p&lt;/h2&gt;

&lt;p&gt;We just summarize Newman and Watts findings here… The authors want to show
that if the number of “shortcuts” goes to zero, the system exhibits a second-
order phase transition observing the parameter \(l\), the average distance between
vertices. Besides the system size \(L\), and a parameter \(k\) which stands for some
fixed range for which every node is connected to all its neighbours, there is
a random parameter \(p\). This \(p\) stands for a rewiring probability for every \(kL\)
connection (and is “quenched”, that means, it is only done once). The
renormalization procedure can be divided into two different cases, which is
very typical for the procedure. For \(k=1\), their blocking procedure takes two
subsequent vertices on the ring and replaces them by one vertex. A “shortcut”
to one of the vertices is preserved and will now point to the new vertex. The
number of vertices \(L\) becomes \(L/2\). The number of edges goes from \(L\) to \(L/2\) and
hence the probability to pick a given edge goes from \(p\) to \(2p\). For the case of
\(k&amp;gt;1\), the system size goes from \(L\) to \(L/k\), the probability from \(p\) to \(k^2 p\), the
range parameter goes from \(k\) to \(1\), and the mean distance stays the same. Hence,
every system with \(k&amp;gt;1\) can be converted in a system with \(k=1\) and then a group
renormalisation procedure can be applied over and over again.&lt;/p&gt;

&lt;h2 id=&quot;header-the-transition&quot;&gt;The transition&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/renormalization_newman_and_watts_results.jpg&quot; alt=&quot;Renormalization on networks, results&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The authors write down an expression for \(l\), the
average distance between vertices. Let us not repeat the exact form of this
equation, but explain between which regimes the mentioned transition would
take place. If a system is really small, then for a given fixed \(p\), there is on
average less than one shortcut in the graph. This means that the average
distance between vertices just happens over the ring and hence scales linearly
with the system size \(L\). However, when the system becomes larger, and \(p\) is
still fixed, in the end shortcuts will show up, and the distance between
vertices will scale logarithmic with respect to \(L\). The transition between
these two regimes is the one that interests us.&lt;/p&gt;

&lt;h2 id=&quot;header-conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;In Fig. 2 you can see that the authors indeed were able to show this continous
phase transition in the system. So, what do we have here!? We have a relation
between system size and the famous average number of “degrees of separation”
between nodes on a network. Now, you would be able to be all cocky on parties
and tell fellow nerds that it’s not just six degrees of separation between you
and some famous person, but that this depends on \(L\), \(p\) and \(k\): the system size,
the number of shortcuts, and the range of neighbours someone has.&lt;/p&gt;

&lt;p&gt;This text introduced the renormalization group in networks. Interesting would be take these results and check how it can be applied to swarm robotics!&lt;/p&gt;

&lt;p&gt;[1] Renormalization group analysis of the small-world network model, 2009, T. Payne&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Reprogrammable Remote Control dongles</title>
   <link href="https://crownstone.rocks/nl/2012/02/20/reprogrammable-remote-control-dongles"/>
   <updated>2012-02-20T00:00:00+00:00</updated>
   <id>https://crownstone.rocks/2012/02/20/reprogrammable-remote-control-dongles</id>
   <content type="html">
&lt;h1 id=&quot;header-reprogrammable-remote-control-dongles&quot;&gt;Reprogrammable Remote Control dongles&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://crownstone.rocks/attachments/toybien_dongle.jpg&quot; alt=&quot;Toybien dongle&quot; class=&quot;float-right&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Interested as we are in swarming, our efforts include building sort of an army
of moving bots. To keep cost down the available toys are our first port-of-
call. We now have a collection consisting of flying (helium-filled
zeppelin/balloon), driving (a few cars and robots) and swimming (submarines)
units that are all remote controlled. Most of them use 27 MHz based RF, a few
are on 49MHz, or even 2.4GHz (BT/Wifi/etc.). IR is also a frequently chosen
solution.&lt;/p&gt;

&lt;p&gt;To get communication up with all of them, enabling our software to become part
of the swarm, we need a more or less &lt;strong&gt;universal solution&lt;/strong&gt; connecting sensors
and actors.&lt;/p&gt;

&lt;p&gt;On the market there are a number of dongle suppliers that use the headphone
connector to add an IR or RF extension to Android (and/or iPhone) smartphones.
What makes life difficult is that the toys mostly use very cheap encoding
solutions based on chips like RX2B / TX2B  which are inflexible and difficult
to combine with other coding options, either single chip based or not.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;So, what is our master plan!? Make a dongle - or have a dongle made - that enables reprogramming it through the headphone connection!&lt;/strong&gt; It would allow us to combine the advantage of off-loading the encoding to a dedicated chip (a PIC166XX comes to mind) and still retaining the flexibility for application programmers to adapt to the required protocol.&lt;/p&gt;

&lt;h2 id=&quot;header-joybien&quot;&gt;Joybien&lt;/h2&gt;

&lt;p&gt;In the picture you see the JoyXtix dongle from Joybien [1]. There are three
ways in which this friendly manufacturer of dongles, based in Taiwan, can open
up their API for application developers on Android or iPhone:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Provide a &lt;strong&gt;limited API&lt;/strong&gt; with say 6 till 10 commands for toys for which Joybien reverse engineered the wireless protocol. This allows Android phone developers to create their own apps for the toys that Joybien did target, under which are a speedcar sold also by Joybien and for example the Air Swimmer blimps. Taping a smartphone to this blimp and staying away for more than 5 meters from the others, would allow us to cover an area from the air in an extremely simple way. And many more applications are possible. Joybien seems to be willing to provide this API, good news!&lt;/li&gt;
  &lt;li&gt;Provide a complicated API with many commands to adjust modulation, ASK, FSK, timing, etc. etc. for Android/iPhone app developers. No, we are not gonna recommend that! Instead, we would recommend a more or less &lt;strong&gt;straight translation&lt;/strong&gt; from the analog values over audio towards the dongle to the actual wireless domain. So, for example a 27 kHz modulation becomes a 27 MHz modulation but most of the signal will be preserved.&lt;/li&gt;
  &lt;li&gt;Provide a &lt;strong&gt;programmable device&lt;/strong&gt; (the solution of above) that takes input from the headphone output and translates it into hex code for the microcontroller in the dongle. Instead of programming over serial, or over USB, or over Bluetooth, we program this time over audio! This of course is of much more use than only the “dongle industry”. Any device attached to a smartphone (via the headphone connector) might profit from reprogrammability by users, which can be over-the-air and even come with its “own app store for smartphone add-ons”.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;We had the idea first. :-)&lt;/p&gt;

&lt;p&gt;[1] &lt;a href=&quot;http://www.joybien.com/product/Product_JoyXtix.html&quot;&gt;http://www.joybien.com/product/Product_JoyXtix.html&lt;/a&gt;&lt;/p&gt;

</content>
 </entry>
 
 
</feed>
